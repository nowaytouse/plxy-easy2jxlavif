{"level":"info","time":"2025-09-04T06:49:49.443+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6"}
{"level":"debug","time":"2025-09-04T06:49:49.443+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6","verbose":true}
{"level":"info","time":"2025-09-04T06:49:49.444+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T06:49:49.444+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T06:49:49.463+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T06:49:49.463+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T06:49:49.464+0800","caller":"converter/signal_handler.go:57","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T06:49:49.464+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:49:49.464+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:49:49.464+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:49:49.464+0800","caller":"converter/converter.go:384","msg":"开始扫描文件","目录":"test_validation/"}
{"level":"info","time":"2025-09-04T06:49:49.464+0800","caller":"converter/converter.go:422","msg":"文件扫描完成","找到文件数":7}
{"level":"info","time":"2025-09-04T06:49:49.476+0800","caller":"converter/converter.go:301","msg":"启动转换会话","targetDir":"test_validation/","totalFiles":7}
{"level":"info","time":"2025-09-04T06:49:49.476+0800","caller":"converter/converter.go:303","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T06:49:49.476+0800","caller":"converter/converter.go:305","msg":"转换参数","inputDir":"test_validation/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T06:49:49.476+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:49:49.477+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:49:49.477+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:49:49.477+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:49:49.477+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:49:49.477+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:49:49.477+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":7,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":7,"scanned_files":3,"skipped_files":4}
{"level":"debug","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":4}
{"level":"info","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:539","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:553","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T06:49:49.481+0800","caller":"converter/batch_processor.go:626","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":2,"corrupted_files":1}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:776","msg":"忽略损坏文件","count":1}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:955","msg":"开始批处理原子性操作","task_count":2}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:1399","msg":"开始预检查阶段","file_count":2}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:1418","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:1424","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T06:49:49.582+0800","caller":"converter/batch_processor.go:1000","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T06:49:49.583+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:49:49.583+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:49:49.842+0800","caller":"converter/strategy.go:629","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:49:49.842+0800","caller":"converter/strategy.go:753","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:49:49.843+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:49:49.843+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:49:49.873+0800","caller":"converter/strategy.go:972","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:49:49.873+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:49:49.873+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"error","time":"2025-09-04T06:49:49.873+0800","caller":"converter/image.go:444","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.png","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_validation","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:444\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:617\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:49:49.873+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:49:49.873+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:49:49.914+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:49:49.914+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:49:50.922+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:49:50.923+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:49:52.937+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:49:52.937+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:49:54.444+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:232\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:269\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:760\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:632\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:455\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:617\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:49:55.938+0800","caller":"converter/image.go:456","msg":"DEBUG: After executing cjxl command","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","outputFileExists":false,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:456\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:617\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:49:55.938+0800","caller":"converter/strategy.go:779","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"warn","time":"2025-09-04T06:49:55.938+0800","caller":"converter/image.go:462","msg":"cjxl lossless conversion failed, trying FFmpeg as fallback","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","failed_args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.png","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--distance=0","-e","9"]}
{"level":"debug","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"debug","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:49:55.938+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:49:55.994+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0xc0f03c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0xc0ec68000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0ec68280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc0ec90240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:49:55.994+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xadec68380] No JPEG data found in image\n[image2 @ 0xadec5c000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadec5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadec6c180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:49:57.039+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x95d03c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x95cc60000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x95cc60280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x95cc88240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:49:57.039+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x77ac6c380] No JPEG data found in image\n[image2 @ 0x77ac44000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x77ac44280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x77ac39a40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:49:59.079+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x95cc4c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x95d03c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x95d03c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x95cc50240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:49:59.079+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xadd040380] No JPEG data found in image\n[image2 @ 0xadcc64000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadcc64280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadcc8c180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:49:59.444+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:50:02.079+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xadd040380] No JPEG data found in image\n[image2 @ 0xadcc64000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadcc64280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadcc8c180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:324\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:785\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:50:02.079+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x95cc4c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x95d03c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x95d03c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x95cc50240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:478\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:617\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:02.080+0800","caller":"converter/batch_processor.go:1278","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","error":"both cjxl and FFmpeg lossless JXL conversion failed failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x95cc4c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x95d03c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x95d03c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x95cc50240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T06:50:02.081+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:02.081+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:02.173+0800","caller":"converter/strategy.go:809","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","complexity":0.5,"noise":0.35,"compression_potential":0.6,"content_type":"photo","quality_score":60}
{"level":"debug","time":"2025-09-04T06:50:02.173+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:02.173+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:50:02.190+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:03.195+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"debug","time":"2025-09-04T06:50:04.444+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T06:50:05.204+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"error","time":"2025-09-04T06:50:08.204+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:828\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:08.205+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:08.205+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:50:08.214+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:09.224+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"debug","time":"2025-09-04T06:50:09.444+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T06:50:11.234+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"error","time":"2025-09-04T06:50:14.234+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:828\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/strategy.go:677","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/batch_processor.go:1278","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","reason":"already target format"}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/batch_processor.go:1077","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T06:50:14.235+0800","caller":"converter/batch_processor.go:1096","msg":"批处理完成","处理总数":2}
{"level":"info","time":"2025-09-04T06:50:14.336+0800","caller":"converter/batch_processor.go:1448","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T06:50:14.336+0800","caller":"converter/batch_processor.go:967","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T06:50:14.336+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T06:50:14.337+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_065014.json"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_065014.txt"}
{"level":"info","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","output_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:14.338+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T06:50:14.391+0800","caller":"converter/signal_handler.go:74","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T06:50:14.391+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T06:50:14.391+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T06:50:14.391+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T06:50:27.850+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6"}
{"level":"debug","time":"2025-09-04T06:50:27.852+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6","verbose":true}
{"level":"info","time":"2025-09-04T06:50:27.853+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T06:50:27.853+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T06:50:27.867+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T06:50:27.867+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T06:50:27.867+0800","caller":"converter/signal_handler.go:57","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T06:50:27.867+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:27.867+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:50:27.867+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:27.867+0800","caller":"converter/converter.go:384","msg":"开始扫描文件","目录":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:27.867+0800","caller":"converter/converter.go:422","msg":"文件扫描完成","找到文件数":7}
{"level":"info","time":"2025-09-04T06:50:27.887+0800","caller":"converter/converter.go:301","msg":"启动转换会话","targetDir":"test_validation/","totalFiles":7}
{"level":"info","time":"2025-09-04T06:50:27.887+0800","caller":"converter/converter.go:303","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T06:50:27.887+0800","caller":"converter/converter.go:305","msg":"转换参数","inputDir":"test_validation/","mode":"quality"}
{"level":"debug","time":"2025-09-04T06:50:27.887+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:27.887+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:50:27.887+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:27.887+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:27.888+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:50:27.888+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:50:27.888+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":7,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":7,"scanned_files":3,"skipped_files":4}
{"level":"debug","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":4}
{"level":"info","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:539","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:553","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T06:50:27.889+0800","caller":"converter/batch_processor.go:626","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":2,"corrupted_files":1}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:776","msg":"忽略损坏文件","count":1}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:955","msg":"开始批处理原子性操作","task_count":2}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:1399","msg":"开始预检查阶段","file_count":2}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:1418","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:1424","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T06:50:27.990+0800","caller":"converter/batch_processor.go:1000","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T06:50:27.990+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:27.990+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"error","time":"2025-09-04T06:50:27.991+0800","caller":"converter/strategy.go:964","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:964\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:27.991+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"error","time":"2025-09-04T06:50:27.991+0800","caller":"converter/image.go:444","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_validation","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:444\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:965\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:27.991+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:27.991+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:50:28.032+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"debug","time":"2025-09-04T06:50:28.144+0800","caller":"converter/strategy.go:972","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"error","time":"2025-09-04T06:50:28.144+0800","caller":"converter/image.go:444","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.png","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_validation","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:444\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:28.144+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:28.144+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:50:28.150+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:29.038+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:29.157+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:31.053+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:50:31.173+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:50:32.853+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:50:34.053+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:455\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:965\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:50:34.054+0800","caller":"converter/image.go:456","msg":"DEBUG: After executing cjxl command","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","outputFileExists":false,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:456\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:965\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:50:34.054+0800","caller":"converter/image.go:462","msg":"cjxl lossless conversion failed, trying FFmpeg as fallback","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","failed_args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--lossless_jpeg=1","-e","9"]}
{"level":"debug","time":"2025-09-04T06:50:34.054+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:34.054+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:50:34.116+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xbe6c70380] No JPEG data found in image\n[image2 @ 0xbe6c48000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbe6c48280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbe6c0c780] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T06:50:34.174+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:455\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:50:34.174+0800","caller":"converter/image.go:456","msg":"DEBUG: After executing cjxl command","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","outputFileExists":false,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:456\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:50:34.174+0800","caller":"converter/image.go:462","msg":"cjxl lossless conversion failed, trying FFmpeg as fallback","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","failed_args":["/Users/nameko_1/Downloads/test/test_validation/corrupted.png","/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","--distance=0","-e","9"]}
{"level":"debug","time":"2025-09-04T06:50:34.174+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:34.174+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp"}
{"level":"warn","time":"2025-09-04T06:50:34.212+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x7bec4c380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x7bec40000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7bec40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7bec38d80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:35.165+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x904c8c380] No JPEG data found in image\n[image2 @ 0x904c64000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x904c64280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x904c35a40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:35.247+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0x775040380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0x774c64000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x774c64280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x774c38d80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:37.221+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x997040380] No JPEG data found in image\n[image2 @ 0x996c68000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x996c68280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x996c90180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:50:37.280+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0xb94c48380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0xb9503c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb9503c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb94c4c240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:50:37.853+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:50:40.222+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x997040380] No JPEG data found in image\n[image2 @ 0x996c68000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x996c68280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x996c90180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:478\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:965\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:40.222+0800","caller":"converter/batch_processor.go:1278","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","error":"both cjxl and FFmpeg lossless JXL conversion failed failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x997040380] No JPEG data found in image\n[image2 @ 0x996c68000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x996c68280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x996c90180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T06:50:40.222+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:40.222+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"error","time":"2025-09-04T06:50:40.281+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0xb94c48380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0xb9503c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb9503c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb94c4c240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:478\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:973\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/batch_processor.go:1278","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","error":"both cjxl and FFmpeg lossless JXL conversion failed failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[png @ 0xb94c48380] Invalid PNG signature 0x696E76616C696420.\n[image2 @ 0xb9503c000] Could not find codec parameters for stream 0 (Video: png, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_validation/corrupted.png':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 3 kb/s\n  Stream #0:0: Video: png, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb9503c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb94c4c240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_validation/corrupted.jxl.tmp.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/batch_processor.go:1077","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T06:50:40.281+0800","caller":"converter/batch_processor.go:1096","msg":"批处理完成","处理总数":2}
{"level":"info","time":"2025-09-04T06:50:40.382+0800","caller":"converter/batch_processor.go:1448","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T06:50:40.382+0800","caller":"converter/batch_processor.go:967","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T06:50:40.382+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T06:50:40.383+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_065040.json"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_065040.txt"}
{"level":"info","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl"}
{"level":"debug","time":"2025-09-04T06:50:40.384+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T06:50:40.412+0800","caller":"converter/signal_handler.go:74","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T06:50:40.412+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T06:50:40.412+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T06:50:40.412+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T06:50:44.544+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6"}
{"level":"debug","time":"2025-09-04T06:50:44.544+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6","verbose":true}
{"level":"info","time":"2025-09-04T06:50:44.544+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T06:50:44.544+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T06:50:44.561+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T06:50:44.561+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T06:50:44.561+0800","caller":"converter/signal_handler.go:57","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T06:50:44.561+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:44.562+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:50:44.562+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:44.562+0800","caller":"converter/converter.go:384","msg":"开始扫描文件","目录":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:44.562+0800","caller":"converter/converter.go:422","msg":"文件扫描完成","找到文件数":7}
{"level":"info","time":"2025-09-04T06:50:44.577+0800","caller":"converter/converter.go:301","msg":"启动转换会话","targetDir":"test_validation/","totalFiles":7}
{"level":"info","time":"2025-09-04T06:50:44.577+0800","caller":"converter/converter.go:303","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T06:50:44.577+0800","caller":"converter/converter.go:305","msg":"转换参数","inputDir":"test_validation/","mode":"emoji"}
{"level":"debug","time":"2025-09-04T06:50:44.577+0800","caller":"converter/path_security.go:51","msg":"开始路径安全检查","path":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:44.578+0800","caller":"converter/path_security.go:101","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_validation"}
{"level":"debug","time":"2025-09-04T06:50:44.578+0800","caller":"converter/converter.go:377","msg":"路径权限检查通过","path":"test_validation/"}
{"level":"info","time":"2025-09-04T06:50:44.578+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_validation/"}
{"level":"debug","time":"2025-09-04T06:50:44.578+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:50:44.578+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":7,"已扫描文件数":5}
{"level":"debug","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":7,"scanned_files":5,"skipped_files":2}
{"level":"debug","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":5}
{"level":"debug","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"info","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:539","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:553","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T06:50:44.580+0800","caller":"converter/batch_processor.go:626","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":5,"task_queue_size":4,"corrupted_files":1}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:776","msg":"忽略损坏文件","count":1}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:955","msg":"开始批处理原子性操作","task_count":4}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:1399","msg":"开始预检查阶段","file_count":4}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:1418","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:1424","msg":"开始原子性批处理","file_count":4}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:1000","msg":"开始批处理文件","文件总数":4}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","size_mb":0}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/strategy.go:1048","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"info","time":"2025-09-04T06:50:44.681+0800","caller":"converter/strategy.go:1022","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","format":".jxl","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/batch_processor.go:1278","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","reason":"already target format"}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl"}
{"level":"debug","time":"2025-09-04T06:50:44.681+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","size_mb":0}
{"level":"info","time":"2025-09-04T06:50:44.682+0800","caller":"converter/strategy.go:1048","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"info","time":"2025-09-04T06:50:44.682+0800","caller":"converter/strategy.go:1022","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","format":".jxl","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/batch_processor.go:1278","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","reason":"already target format"}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl"}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":25,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":50,"file":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:44.682+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:50:44.688+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:44.688+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:45.692+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:45.692+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:47.702+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:50:47.702+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:50:49.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:50:50.702+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1065\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:50:50.702+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1065\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":60}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":60}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:50.703+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:50:50.713+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:50.713+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:51.722+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:51.722+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:53.731+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:50:53.731+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:50:54.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:50:56.733+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:50:56.733+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:50:56.733+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":60,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"debug","time":"2025-09-04T06:50:56.733+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":50}
{"level":"warn","time":"2025-09-04T06:50:56.733+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":60,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"debug","time":"2025-09-04T06:50:56.733+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:50:56.733+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":50}
{"level":"debug","time":"2025-09-04T06:50:56.733+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:50:56.733+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:50:56.734+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:50:56.743+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:56.743+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:50:57.750+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:50:57.750+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"debug","time":"2025-09-04T06:50:59.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T06:50:59.753+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:50:59.753+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"error","time":"2025-09-04T06:51:02.754+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:51:02.754+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:51:02.754+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":50,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"warn","time":"2025-09-04T06:51:02.755+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":50,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":40}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":40}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:02.755+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:51:02.763+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:02.763+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:03.774+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:03.774+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"debug","time":"2025-09-04T06:51:04.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T06:51:05.785+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:51:05.785+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"error","time":"2025-09-04T06:51:08.785+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:51:08.785+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:51:08.786+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":40,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"warn","time":"2025-09-04T06:51:08.786+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":40,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":30}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":30}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:51:08.786+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:51:08.796+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:08.796+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"debug","time":"2025-09-04T06:51:09.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T06:51:09.805+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:09.805+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:11.811+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:51:11.811+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:51:14.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"info","time":"2025-09-04T06:51:14.544+0800","caller":"converter/advanced_pool.go:467","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T06:51:14.563+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"error","time":"2025-09-04T06:51:14.811+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:51:14.811+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:51:14.812+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":30,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":25}
{"level":"warn","time":"2025-09-04T06:51:14.812+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":30,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":25}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:51:14.812+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:51:14.822+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:14.822+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:15.831+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:15.831+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:17.841+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:51:17.841+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:51:19.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:51:20.842+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":25,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":20}
{"level":"warn","time":"2025-09-04T06:51:20.842+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":25,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/strategy.go:1082","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":20}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:20.842+0800","caller":"converter/tool_manager.go:100","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_validation/corrupted.avif.tmp"}
{"level":"warn","time":"2025-09-04T06:51:20.852+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:20.852+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":1}
{"level":"warn","time":"2025-09-04T06:51:21.861+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:21.861+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":2}
{"level":"warn","time":"2025-09-04T06:51:23.864+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","attempt":3}
{"level":"warn","time":"2025-09-04T06:51:23.864+0800","caller":"converter/tool_manager.go:150","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","attempt":3}
{"level":"debug","time":"2025-09-04T06:51:24.544+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T06:51:26.866+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"error","time":"2025-09-04T06:51:26.866+0800","caller":"converter/tool_manager.go:162","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:162\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:115\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:23\npixly/pkg/converter.(*EmojiStrategy).tryAggressiveAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1086\npixly/pkg/converter.(*EmojiStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1050\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1143\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1303"}
{"level":"warn","time":"2025-09-04T06:51:26.866+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","quality":20,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.jpg\n"}
{"level":"warn","time":"2025-09-04T06:51:26.866+0800","caller":"converter/strategy.go:1088","msg":"AVIF转换失败，尝试下一个质量级别","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","quality":20,"error":"conversion failed failed: exit status 1, output: Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_validation/corrupted.png\n"}
{"level":"debug","time":"2025-09-04T06:51:26.866+0800","caller":"converter/batch_processor.go:1278","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","reason":"already target format"}
{"level":"debug","time":"2025-09-04T06:51:26.866+0800","caller":"converter/batch_processor.go:1278","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","reason":"already target format"}
{"level":"debug","time":"2025-09-04T06:51:26.866+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:51:26.866+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:26.866+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":75,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/batch_processor.go:1077","msg":"批处理进度","已处理":4,"总数":4}
{"level":"debug","time":"2025-09-04T06:51:26.867+0800","caller":"converter/batch_processor.go:1096","msg":"批处理完成","处理总数":4}
{"level":"info","time":"2025-09-04T06:51:26.967+0800","caller":"converter/batch_processor.go:1448","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T06:51:26.967+0800","caller":"converter/batch_processor.go:967","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T06:51:26.967+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_065126.json"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_065126.txt"}
{"level":"info","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/fake.avif"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_avif_2.avif"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_1.jxl"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","output_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/test_jxl_2.jxl"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","output_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.png"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","output_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg","verifying_path":"/Users/nameko_1/Downloads/test/test_validation/corrupted.jpg"}
{"level":"debug","time":"2025-09-04T06:51:26.968+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T06:51:26.988+0800","caller":"converter/signal_handler.go:74","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T06:51:26.988+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T06:51:26.988+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T06:51:26.988+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T07:37:05.025+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6"}
{"level":"info","time":"2025-09-04T07:37:05.025+0800","caller":"cmd/root.go:142","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T07:37:05.077+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T07:37:07.311+0800","caller":"cmd/root.go:161","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T07:37:09.689+0800","caller":"cmd/root.go:204","msg":"方向键菜单选择结果","result":{"SelectedIndex":1,"Cancelled":false}}
{"level":"info","time":"2025-09-04T08:46:53.399+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:46:53.400+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:46:53.400+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:46:53.413+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:46:53.413+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:46:53.413+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:46:53.413+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:46:53.413+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:46:53.417+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:46:53.417+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:46:53.417+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:46:53.417+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":19}
{"level":"info","time":"2025-09-04T08:46:53.430+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"TEST_COMPREHENSIVE/images/","totalFiles":19}
{"level":"info","time":"2025-09-04T08:46:53.430+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:46:53.430+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"TEST_COMPREHENSIVE/images/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:46:53.430+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:46:53.430+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:46:53.431+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:46:53.431+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:46:53.431+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"TEST_COMPREHENSIVE/images/"}
{"level":"debug","time":"2025-09-04T08:46:53.431+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:46:53.431+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:46:53.433+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":19,"已扫描文件数":16}
{"level":"debug","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":19,"scanned_files":16,"skipped_files":3}
{"level":"debug","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":16}
{"level":"debug","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":3}
{"level":"info","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:46:53.441+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":16,"task_queue_size":16,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":16}
{"level":"info","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":16}
{"level":"info","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":16}
{"level":"debug","time":"2025-09-04T08:46:53.541+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":16}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.219291ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.264417ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.271125ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.275916ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.279584ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.283416ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.355042ms"}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.368ms"}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.390375ms"}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.412292ms"}
{"level":"debug","time":"2025-09-04T08:46:53.551+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.552+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.553+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.553+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:53.553+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"info","time":"2025-09-04T08:46:53.794+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:46:53.794+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"info","time":"2025-09-04T08:46:53.798+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:46:53.798+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"info","time":"2025-09-04T08:46:53.817+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:46:53.817+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:46:53.855+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"error","time":"2025-09-04T08:46:53.855+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_convert","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:53.855+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:46:53.855+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl"}
{"level":"debug","time":"2025-09-04T08:46:53.859+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:46:53.859+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_convert","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:53.859+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:46:53.859+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:46:53.872+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"error","time":"2025-09-04T08:46:53.872+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_convert","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:53.872+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:46:53.872+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl"}
{"level":"debug","time":"2025-09-04T08:46:53.896+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.896+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.896+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.897+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.897+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.897+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.900+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.900+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.900+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.904+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.904+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.904+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.907+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.907+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.907+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.908+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.908+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.908+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.912+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.912+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.913+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.951+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.951+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.953+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.953+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.954+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.954+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.957+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.957+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.964+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.965+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.966+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.966+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:53.970+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:46:53.970+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:46:54.050+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.050+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T08:46:54.050+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.050+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_320x240_q75.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.051+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.051+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.052+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.459958ms"}
{"level":"debug","time":"2025-09-04T08:46:54.052+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:46:54.072+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.072+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl","original_size":15669}
{"level":"debug","time":"2025-09-04T08:46:54.072+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.072+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_odd_resolution_333x555.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.072+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.072+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.076+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"511.170875ms"}
{"level":"debug","time":"2025-09-04T08:46:54.076+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:46:54.097+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.097+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl","original_size":28947}
{"level":"debug","time":"2025-09-04T08:46:54.097+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.097+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_640x480_q95.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.097+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.097+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.097+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"534.797708ms"}
{"level":"debug","time":"2025-09-04T08:46:54.097+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:46:54.164+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.164+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl","original_size":34269}
{"level":"debug","time":"2025-09-04T08:46:54.164+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.164+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.164+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.164+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.164+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"556.212458ms"}
{"level":"debug","time":"2025-09-04T08:46:54.164+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.257+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.257+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.257+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.259+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.259+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.259+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"info","time":"2025-09-04T08:46:54.282+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.282+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl","original_size":45549}
{"level":"debug","time":"2025-09-04T08:46:54.282+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.282+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_laptop_resolution_1366x768.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.282+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.282+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.283+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"623.092166ms"}
{"level":"debug","time":"2025-09-04T08:46:54.283+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.295+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.295+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.295+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.324+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.324+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.324+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.327+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.327+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png"}
{"level":"debug","time":"2025-09-04T08:46:54.339+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.339+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:46:54.352+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.352+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:46:54.368+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.368+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl","original_size":2162}
{"level":"debug","time":"2025-09-04T08:46:54.368+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.368+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.368+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.368+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.368+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"741.378209ms"}
{"level":"debug","time":"2025-09-04T08:46:54.368+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.370+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.370+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl.tmp"}
{"level":"warn","time":"2025-09-04T08:46:54.389+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xaecc14280] Requested output format 'png' is not known.\n[out#0 @ 0xaed018300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"debug","time":"2025-09-04T08:46:54.406+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.406+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.406+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.451+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.451+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png"}
{"level":"debug","time":"2025-09-04T08:46:54.455+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.455+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.455+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.497+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:46:54.497+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png"}
{"level":"info","time":"2025-09-04T08:46:54.504+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.504+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl","original_size":75353}
{"level":"debug","time":"2025-09-04T08:46:54.504+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.504+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.504+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.504+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"warn","time":"2025-09-04T08:46:54.506+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8ad450280] Requested output format 'png' is not known.\n[out#0 @ 0x8ac80c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T08:46:54.533+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 6309 bytes (0.657 bpp).\n320 x 240,  0.122 MP/s [0.12, 0.12], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:46:54.533+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","output":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.533+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.533+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"warn","time":"2025-09-04T08:46:54.585+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa0701c280] Requested output format 'png' is not known.\n[out#0 @ 0xa06810300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"info","time":"2025-09-04T08:46:54.590+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.590+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl","original_size":66340}
{"level":"debug","time":"2025-09-04T08:46:54.590+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.590+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.590+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.590+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"info","time":"2025-09-04T08:46:54.616+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:54.616+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl","original_size":58722}
{"level":"debug","time":"2025-09-04T08:46:54.616+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl"}
{"level":"error","time":"2025-09-04T08:46:54.616+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.616+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.616+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:46:54.616+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":16}
{"level":"error","time":"2025-09-04T08:46:54.755+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 17960 bytes (0.468 bpp).\n640 x 480,  0.362 MP/s [0.36, 0.36], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:46:54.755+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:54.755+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:54.755+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"info","time":"2025-09-04T08:46:55.177+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:46:55.177+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl","original_size":418473}
{"level":"debug","time":"2025-09-04T08:46:55.177+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","result":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl"}
{"level":"error","time":"2025-09-04T08:46:55.177+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:55.177+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:55.177+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"warn","time":"2025-09-04T08:46:55.423+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa6cc3c280] Requested output format 'png' is not known.\n[out#0 @ 0xa6d03c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:46:55.538+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x727020280] Requested output format 'png' is not known.\n[out#0 @ 0x726c54300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:46:55.621+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa1103c280] Requested output format 'png' is not known.\n[out#0 @ 0xa10c38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"error","time":"2025-09-04T08:46:55.642+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 51179 bytes (0.444 bpp).\n1280 x 720,  0.534 MP/s [0.53, 0.53], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:46:55.642+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:46:55.642+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:46:55.642+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"warn","time":"2025-09-04T08:46:57.460+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x774c34280] Requested output format 'png' is not known.\n[out#0 @ 0x775044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:46:57.574+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x909040280] Requested output format 'png' is not known.\n[out#0 @ 0x908c34300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:46:57.657+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa67040280] Requested output format 'png' is not known.\n[out#0 @ 0xa66c3c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T08:46:58.401+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"42.029256ms","平均执行":"855.17615ms"}
{"level":"error","time":"2025-09-04T08:47:00.460+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x774c34280] Requested output format 'png' is not known.\n[out#0 @ 0x775044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:00.461+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.461+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.461+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp"}
{"level":"warn","time":"2025-09-04T08:47:00.496+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbad024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbacc089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T08:47:00.575+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x909040280] Requested output format 'png' is not known.\n[out#0 @ 0x908c34300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:00.576+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.576+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.576+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp"}
{"level":"warn","time":"2025-09-04T08:47:00.620+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x813044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x812c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T08:47:00.657+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa67040280] Requested output format 'png' is not known.\n[out#0 @ 0xa66c3c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:00.658+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.658+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:00.658+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp"}
{"level":"warn","time":"2025-09-04T08:47:00.689+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa4d064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa4cc1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T08:47:01.552+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x740c40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x741030e40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:01.653+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x904c24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x905030e40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:01.724+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa3103c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa30c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"debug","time":"2025-09-04T08:47:03.400+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"42.029256ms","平均执行":"855.17615ms"}
{"level":"warn","time":"2025-09-04T08:47:03.614+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbfec24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbff030e40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:03.689+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9bec54280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9bf024300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:03.759+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x863024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x862c29c80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T08:47:06.615+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbfec24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbff030e40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:47:06.689+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9bec54280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9bf024300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:06.697+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T08:47:06.697+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:06.697+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:06.712+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":1}
{"level":"debug","time":"2025-09-04T08:47:06.749+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T08:47:06.749+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:06.749+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:06.751+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":1}
{"level":"error","time":"2025-09-04T08:47:06.760+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x863024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x862c29c80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:06.818+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T08:47:06.818+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:06.818+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:06.821+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T08:47:07.724+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:07.755+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:07.829+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":2}
{"level":"debug","time":"2025-09-04T08:47:08.401+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"42.029256ms","平均执行":"855.17615ms"}
{"level":"warn","time":"2025-09-04T08:47:09.732+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:09.766+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:09.838+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":3}
{"level":"error","time":"2025-09-04T08:47:12.733+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:12.734+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:12.734+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_1280x720_q95.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:12.742+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":1}
{"level":"error","time":"2025-09-04T08:47:12.766+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:12.766+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:12.766+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_320x240_q50.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:12.773+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":1}
{"level":"error","time":"2025-09-04T08:47:12.839+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:12.839+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:12.839+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_convert/test_webp_640x480_q80.avif.tmp"}
{"level":"warn","time":"2025-09-04T08:47:12.848+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":1}
{"level":"debug","time":"2025-09-04T08:47:13.401+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"42.029256ms","平均执行":"855.17615ms"}
{"level":"warn","time":"2025-09-04T08:47:13.748+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:13.776+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:13.857+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:47:15.752+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:15.780+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:47:15.862+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":3}
{"level":"debug","time":"2025-09-04T08:47:18.401+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"42.029256ms","平均执行":"855.17615ms"}
{"level":"error","time":"2025-09-04T08:47:18.752+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:18.752+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:18.752+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:47:18.752+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:18.752+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"error","time":"2025-09-04T08:47:18.780+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:18.780+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:18.780+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:47:18.780+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:18.780+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"error","time":"2025-09-04T08:47:18.862+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":16,"总数":16}
{"level":"debug","time":"2025-09-04T08:47:18.863+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":16}
{"level":"info","time":"2025-09-04T08:47:18.964+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:47:18.964+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:47:18.964+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_084719.json"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_084719.txt"}
{"level":"info","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1280x720_q50.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_jpeg_1920x1080_q80.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_320x240_fast.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.467+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_portrait_800x1920.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_large_4k.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_png_1280x720_best.jxl"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:47:19.468+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:47:19.494+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:47:19.494+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:47:19.494+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:47:19.494+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:47:34.549+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:47:34.550+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:47:34.550+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:47:34.577+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:47:34.577+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:47:34.577+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:47:34.577+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/videos/"}
{"level":"warn","time":"2025-09-04T08:47:34.577+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos: file already closed"}
{"level":"debug","time":"2025-09-04T08:47:34.577+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos"}
{"level":"debug","time":"2025-09-04T08:47:34.577+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/videos/"}
{"level":"info","time":"2025-09-04T08:47:34.577+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/videos/"}
{"level":"info","time":"2025-09-04T08:47:34.577+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":13}
{"level":"info","time":"2025-09-04T08:47:34.585+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"TEST_COMPREHENSIVE/videos/","totalFiles":13}
{"level":"info","time":"2025-09-04T08:47:34.585+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:47:34.585+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"TEST_COMPREHENSIVE/videos/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:47:34.585+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/videos/"}
{"level":"warn","time":"2025-09-04T08:47:34.585+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos: file already closed"}
{"level":"debug","time":"2025-09-04T08:47:34.586+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos"}
{"level":"debug","time":"2025-09-04T08:47:34.586+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/videos/"}
{"level":"info","time":"2025-09-04T08:47:34.586+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"TEST_COMPREHENSIVE/videos/"}
{"level":"debug","time":"2025-09-04T08:47:34.590+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_1280x720_h264.mov","format":".mov"}
{"level":"debug","time":"2025-09-04T08:47:34.595+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_640x480_h264.mov","format":".mov"}
{"level":"debug","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":13,"已扫描文件数":11}
{"level":"debug","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":13,"scanned_files":11,"skipped_files":2}
{"level":"debug","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":11}
{"level":"debug","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"info","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:47:34.640+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":11,"task_queue_size":11,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":11}
{"level":"info","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":11}
{"level":"info","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":11}
{"level":"debug","time":"2025-09-04T08:47:34.741+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":11}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.395666ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.439666ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.449042ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.455167ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.460375ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.464792ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.470666ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.474792ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.479375ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.4845ms"}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.745+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4","size_mb":2}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_15fps_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1920x1080_2mbps.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_320x240_crf23.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_60fps_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_1280x720.mp4","size_mb":1}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.746+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_1280x720_vp9_crf25.webm","size_mb":2}
{"level":"info","time":"2025-09-04T08:47:34.811+0800","caller":"converter/video.go:319","msg":"Skipping video conversion due to codec incompatibility","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_1280x720_vp9_crf25.webm","codec":"vp9","reason":"codec not supported in MOV container"}
{"level":"debug","time":"2025-09-04T08:47:34.812+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_1280x720_vp9_crf25.webm","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:47:34.812+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_1280x720_vp9_crf25.webm","size_mb":2}
{"level":"debug","time":"2025-09-04T08:47:34.812+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_1280x720_vp9_crf25.webm"}
{"level":"debug","time":"2025-09-04T08:47:34.812+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.489042ms"}
{"level":"debug","time":"2025-09-04T08:47:34.812+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","size_mb":0}
{"level":"info","time":"2025-09-04T08:47:34.847+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_320x240_crf23.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_320x240_crf23.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.853+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_15fps_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_15fps_640x480.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.855+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1920x1080_2mbps.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1920x1080_2mbps.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.857+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_640x480.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.860+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_640x480_crf18.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.868+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi","output":"/Users/nameko_1/Downloads/test/test_convert/test_avi_640x480_h264.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.871+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_1280x720.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_1280x720.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.872+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1280x720_crf20.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.874+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_60fps_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_60fps_640x480.mov","codec":"","copy_streams":true}
{"level":"info","time":"2025-09-04T08:47:34.879+0800","caller":"converter/video.go:319","msg":"Skipping video conversion due to codec incompatibility","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","codec":"vp9","reason":"codec not supported in MOV container"}
{"level":"debug","time":"2025-09-04T08:47:34.879+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:47:34.879+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.879+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm"}
{"level":"error","time":"2025-09-04T08:47:34.903+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_15fps_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_15fps_640x480.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.903+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_15fps_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.903+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_15fps_640x480.mp4"}
{"level":"error","time":"2025-09-04T08:47:34.903+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_320x240_crf23.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_320x240_crf23.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.903+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_320x240_crf23.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.903+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_320x240_crf23.mp4"}
{"level":"error","time":"2025-09-04T08:47:34.907+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1920x1080_2mbps.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1920x1080_2mbps.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.907+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1920x1080_2mbps.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.907+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1920x1080_2mbps.mp4"}
{"level":"error","time":"2025-09-04T08:47:34.917+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi","output":"/Users/nameko_1/Downloads/test/test_convert/test_avi_640x480_h264.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.917+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.917+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi"}
{"level":"error","time":"2025-09-04T08:47:34.917+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_640x480_crf18.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.918+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.918+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4"}
{"level":"debug","time":"2025-09-04T08:47:34.918+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":54.54545454545454,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_avi_640x480_h264.avi","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.918+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":63.63636363636363,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_640x480_crf18.mp4","size_mb":0}
{"level":"error","time":"2025-09-04T08:47:34.920+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_640x480.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.920+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.920+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_640x480.mp4"}
{"level":"error","time":"2025-09-04T08:47:34.921+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_60fps_640x480.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_60fps_640x480.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.921+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_60fps_640x480.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:47:34.921+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_60fps_640x480.mp4"}
{"level":"error","time":"2025-09-04T08:47:34.923+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_1280x720.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_1280x720.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_1280x720.mp4","size_mb":1}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_with_audio_1280x720.mp4"}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":11}
{"level":"error","time":"2025-09-04T08:47:34.923+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4","output":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1280x720_crf20.mov","DirectoryTemplate":"test_convert/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4","size_mb":2}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4"}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4","size_mb":2}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mp4_1280x720_crf20.mp4"}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":11,"总数":11}
{"level":"debug","time":"2025-09-04T08:47:34.923+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":11}
{"level":"info","time":"2025-09-04T08:47:35.024+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:47:35.024+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:47:35.024+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_084735.json"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_084735.txt"}
{"level":"info","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_1280x720_h264.mov","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_1280x720_h264.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_640x480_h264.mov","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_mov_640x480_h264.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/videos/test_webm_640x480_vp9_crf30.webm"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_15fps_640x480.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_15fps_640x480.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_320x240_crf23.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_320x240_crf23.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1920x1080_2mbps.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1920x1080_2mbps.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_avi_640x480_h264.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_avi_640x480_h264.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_640x480_crf18.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_640x480_crf18.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_640x480.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_640x480.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_60fps_640x480.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_60fps_640x480.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_1280x720.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_with_audio_1280x720.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1280x720_crf20.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_convert/test_mp4_1280x720_crf20.mov"}
{"level":"debug","time":"2025-09-04T08:47:35.311+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:47:35.354+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:47:35.354+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:47:35.354+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:47:35.354+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:47:54.921+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:47:54.921+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:47:54.921+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/audio/"}
{"level":"warn","time":"2025-09-04T08:47:54.936+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/audio","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/audio: file already closed"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/audio"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/audio/"}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/audio/"}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":0}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/converter.go:297","msg":"没有找到需要转换的文件"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:47:54.936+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:47:54.936+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:48:09.040+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:48:09.040+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:48:09.040+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:48:09.049+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:48:09.049+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:48:09.049+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:48:09.049+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"error","time":"2025-09-04T08:48:09.049+0800","caller":"converter/converter.go:378","msg":"路径权限检查失败","path":"TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","error":"指定路径不是目录: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","stacktrace":"pixly/pkg/converter.(*Converter).checkPathPermissions\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:378\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:286\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1032\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:64\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:20\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T08:48:09.049+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:48:09.049+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:48:09.049+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:48:09.049+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:48:15.484+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:48:15.484+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:48:15.484+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:48:15.495+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:48:15.495+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:48:15.495+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:48:15.495+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:48:15.495+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:48:15.495+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:48:15.495+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:15.495+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:15.495+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":19}
{"level":"info","time":"2025-09-04T08:48:15.515+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"TEST_COMPREHENSIVE/images/","totalFiles":19}
{"level":"info","time":"2025-09-04T08:48:15.515+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:48:15.515+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"TEST_COMPREHENSIVE/images/","mode":"quality"}
{"level":"debug","time":"2025-09-04T08:48:15.515+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:48:15.515+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:48:15.515+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:48:15.515+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:15.515+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"TEST_COMPREHENSIVE/images/"}
{"level":"debug","time":"2025-09-04T08:48:15.515+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:15.516+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:15.518+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":19,"已扫描文件数":16}
{"level":"debug","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":19,"scanned_files":16,"skipped_files":3}
{"level":"debug","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":16}
{"level":"debug","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":3}
{"level":"info","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:48:15.526+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":16,"task_queue_size":16,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":16}
{"level":"info","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":16}
{"level":"info","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":16}
{"level":"debug","time":"2025-09-04T08:48:15.626+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":16}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.465583ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.507291ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.514542ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.519875ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.523833ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.527542ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.531375ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.535583ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.538833ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.590583ms"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl"}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1280x720_q50.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1280x720_q50.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1280x720_q50.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1280x720_q50.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.636+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.636+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","/Users/nameko_1/Downloads/test/test_quality/test_jpeg_320x240_q75.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_320x240_q75.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_320x240_q75.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_320x240_q75.jxl"}
{"level":"error","time":"2025-09-04T08:48:15.637+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"error","time":"2025-09-04T08:48:15.637+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"error","time":"2025-09-04T08:48:15.637+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","/Users/nameko_1/Downloads/test/test_quality/test_odd_resolution_333x555.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_odd_resolution_333x555.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_odd_resolution_333x555.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_odd_resolution_333x555.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.637+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.637+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","/Users/nameko_1/Downloads/test/test_quality/test_laptop_resolution_1366x768.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_laptop_resolution_1366x768.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_laptop_resolution_1366x768.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_laptop_resolution_1366x768.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.637+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:48:15.748+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 7507 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.749+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_320x240_q75.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.603792ms"}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.749+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.749+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.749+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl"}
{"level":"error","time":"2025-09-04T08:48:15.764+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 10412 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.764+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_odd_resolution_333x555.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.766+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.766+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.766+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"122.466792ms"}
{"level":"debug","time":"2025-09-04T08:48:15.766+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.766+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.768+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl"}
{"level":"error","time":"2025-09-04T08:48:15.791+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 2233 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.791+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.791+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.791+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.792+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"139.768542ms"}
{"level":"debug","time":"2025-09-04T08:48:15.792+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"error","time":"2025-09-04T08:48:15.792+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.792+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.792+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.792+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl"}
{"level":"error","time":"2025-09-04T08:48:15.807+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 20650 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.808+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"165.164042ms"}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/strategy.go:999","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.808+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png"}
{"level":"debug","time":"2025-09-04T08:48:15.817+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"error","time":"2025-09-04T08:48:15.817+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.817+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:15.817+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.819+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:48:15.819+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.819+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:48:15.819+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:48:15.824+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"error","time":"2025-09-04T08:48:15.824+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.824+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:48:15.824+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl"}
{"level":"warn","time":"2025-09-04T08:48:15.867+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xba0c38280] Requested output format 'png' is not known.\n[out#0 @ 0xba1044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T08:48:15.898+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 20520 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.898+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1280x720_q50.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"181.349667ms"}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/strategy.go:999","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.899+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png"}
{"level":"error","time":"2025-09-04T08:48:15.961+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 27775 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:15.961+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_laptop_resolution_1366x768.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"272.345792ms"}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/strategy.go:999","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:15.962+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png"}
{"level":"warn","time":"2025-09-04T08:48:15.967+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa23408280] Requested output format 'png' is not known.\n[out#0 @ 0xa22808300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T08:48:16.015+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a5430280] Requested output format 'png' is not known.\n[out#0 @ 0x9a480c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T08:48:16.036+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 34939 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.036+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.036+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.036+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"error","time":"2025-09-04T08:48:16.060+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 47223 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.060+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.060+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.060+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"error","time":"2025-09-04T08:48:16.067+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 37043 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.067+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.067+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.067+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"error","time":"2025-09-04T08:48:16.239+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 6309 bytes (0.657 bpp).\n320 x 240,  0.186 MP/s [0.19, 0.19], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.239+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","output":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.240+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.240+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:16.240+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":16}
{"level":"error","time":"2025-09-04T08:48:16.464+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 17960 bytes (0.468 bpp).\n640 x 480,  0.488 MP/s [0.49, 0.49], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.465+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.465+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.465+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:48:16.803+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 276.4 kB including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:16.803+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:16.803+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:16.803+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"warn","time":"2025-09-04T08:48:16.905+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x74303c280] Requested output format 'png' is not known.\n[out#0 @ 0x742c38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:48:16.998+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa47040280] Requested output format 'png' is not known.\n[out#0 @ 0xa46c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T08:48:17.047+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa40c34280] Requested output format 'png' is not known.\n[out#0 @ 0xa41044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"error","time":"2025-09-04T08:48:17.426+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 51179 bytes (0.444 bpp).\n1280 x 720,  0.582 MP/s [0.58, 0.58], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:48:17.426+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl","DirectoryTemplate":"test_quality/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:17.426+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:17.426+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"warn","time":"2025-09-04T08:48:18.941+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0ec40280] Requested output format 'png' is not known.\n[out#0 @ 0xc0f038300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:48:19.034+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7f103c280] Requested output format 'png' is not known.\n[out#0 @ 0x7f0c38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T08:48:19.081+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e3040280] Requested output format 'png' is not known.\n[out#0 @ 0x7e2c3c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T08:48:20.484+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"11.981275ms","平均执行":"492.72964ms"}
{"level":"error","time":"2025-09-04T08:48:21.941+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0ec40280] Requested output format 'png' is not known.\n[out#0 @ 0xc0f038300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:385\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1000\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:21.942+0800","caller":"converter/batch_processor.go:1307","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","error":"WebP to PNG conversion failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0ec40280] Requested output format 'png' is not known.\n[out#0 @ 0xc0f038300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_1280x720_q95.jxl.temp.png.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T08:48:21.942+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:21.942+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"error","time":"2025-09-04T08:48:22.034+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7f103c280] Requested output format 'png' is not known.\n[out#0 @ 0x7f0c38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:385\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1000\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:22.035+0800","caller":"converter/batch_processor.go:1307","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","error":"WebP to PNG conversion failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7f103c280] Requested output format 'png' is not known.\n[out#0 @ 0x7f0c38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_320x240_q50.jxl.temp.png.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T08:48:22.035+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:22.035+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"error","time":"2025-09-04T08:48:22.081+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e3040280] Requested output format 'png' is not known.\n[out#0 @ 0x7e2c3c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:385\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1000\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/batch_processor.go:1307","msg":"image_conversion失败","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","error":"WebP to PNG conversion failed: exit status 234, details: [output ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e3040280] Requested output format 'png' is not known.\n[out#0 @ 0x7e2c3c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_quality/test_webp_640x480_q80.jxl.temp.png.\nError opening output files: Invalid argument\n]"}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":16,"总数":16}
{"level":"debug","time":"2025-09-04T08:48:22.082+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":16}
{"level":"info","time":"2025-09-04T08:48:22.183+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:48:22.183+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:48:22.183+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:48:22.685+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_084822.json"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_084822.txt"}
{"level":"info","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_640x480_q95.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_portrait_800x1920.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_jpeg_1920x1080_q80.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_320x240_fast.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_large_4k.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality/test_png_1280x720_best.jxl"}
{"level":"debug","time":"2025-09-04T08:48:22.686+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:48:22.702+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:48:22.702+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:48:22.702+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:48:22.702+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:48:35.661+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:48:35.661+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:48:35.661+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:48:35.685+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:48:35.686+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:48:35.686+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:48:35.686+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:48:35.686+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:48:35.688+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:48:35.688+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:35.688+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:35.688+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":19}
{"level":"info","time":"2025-09-04T08:48:35.710+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"TEST_COMPREHENSIVE/images/","totalFiles":19}
{"level":"info","time":"2025-09-04T08:48:35.710+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:48:35.710+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"TEST_COMPREHENSIVE/images/","mode":"emoji"}
{"level":"debug","time":"2025-09-04T08:48:35.710+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images/"}
{"level":"warn","time":"2025-09-04T08:48:35.710+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T08:48:35.710+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T08:48:35.710+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:48:35.710+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"TEST_COMPREHENSIVE/images/"}
{"level":"debug","time":"2025-09-04T08:48:35.710+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:35.711+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":19,"已扫描文件数":17}
{"level":"debug","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":19,"scanned_files":17,"skipped_files":2}
{"level":"debug","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":17}
{"level":"debug","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"info","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:48:35.712+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":17,"task_queue_size":17,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":17}
{"level":"info","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":17}
{"level":"info","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":17}
{"level":"debug","time":"2025-09-04T08:48:35.813+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":17}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"531.875µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"563.75µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"575.583µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"584.917µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"590.875µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"596.75µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"602.208µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"608.041µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"626.5µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"631.5µs"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.814+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.814+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:35.814+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.814+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.814+0800","caller":"converter/strategy.go:1036","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","format":".jxl","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T08:48:35.814+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl"}
{"level":"info","time":"2025-09-04T08:48:35.815+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:35.815+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.815+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:35.815+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":5.88235294117647,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"636µs"}
{"level":"info","time":"2025-09-04T08:48:35.815+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:35.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:35.816+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:35.816+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:48:35.816+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:48:35.816+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.032+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.033+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.033+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.033+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.240+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","quality":60,"original_size":9456,"new_size":3959,"reduction_ratio":0.581324027072758}
{"level":"info","time":"2025-09-04T08:48:36.241+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","quality":60,"reduction_ratio":0.581324027072758}
{"level":"error","time":"2025-09-04T08:48:36.241+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_320x240_q75.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.281416ms"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.241+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.241+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.254+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.254+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.255+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:48:36.255+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.295+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.295+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.295+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.295+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.306+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.306+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.306+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.306+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.541+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.541+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.541+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:36.541+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.561+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.561+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","quality":60,"original_size":28947,"new_size":7599,"reduction_ratio":0.737485749818634}
{"level":"info","time":"2025-09-04T08:48:36.561+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","quality":60,"reduction_ratio":0.737485749818634}
{"level":"error","time":"2025-09-04T08:48:36.561+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_640x480_q95.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:36.561+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.561+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.561+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"427.751542ms"}
{"level":"debug","time":"2025-09-04T08:48:36.561+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.562+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.562+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.562+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.580+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.580+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.580+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.580+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.600+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.600+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","quality":60,"original_size":2162,"new_size":1375,"reduction_ratio":0.3640148011100833}
{"level":"info","time":"2025-09-04T08:48:36.600+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","quality":60,"reduction_ratio":0.3640148011100833}
{"level":"error","time":"2025-09-04T08:48:36.600+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:36.600+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.600+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.600+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"748.310584ms"}
{"level":"debug","time":"2025-09-04T08:48:36.601+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.601+0800","caller":"converter/strategy.go:1062","msg":"表情包模式：静态图使用极限压缩策略","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.601+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.601+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.736+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","quality":60,"original_size":15669,"new_size":6829,"reduction_ratio":0.5641712936371178}
{"level":"info","time":"2025-09-04T08:48:36.736+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","quality":60,"reduction_ratio":0.5641712936371178}
{"level":"error","time":"2025-09-04T08:48:36.736+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_odd_resolution_333x555.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"787.340209ms"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.736+0800","caller":"converter/strategy.go:1036","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","format":".webp","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"922.706584ms"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.736+0800","caller":"converter/strategy.go:1036","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","format":".webp","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"922.908959ms"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"info","time":"2025-09-04T08:48:36.736+0800","caller":"converter/strategy.go:1036","msg":"表情包模式跳过高效格式文件","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","format":".webp","reason":"已是高效格式或工具不支持"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.736+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"info","time":"2025-09-04T08:48:36.775+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.775+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","quality":60,"original_size":33993,"new_size":10881,"reduction_ratio":0.6799046862589356}
{"level":"info","time":"2025-09-04T08:48:36.775+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","quality":60,"reduction_ratio":0.6799046862589356}
{"level":"error","time":"2025-09-04T08:48:36.775+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:36.775+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:36.775+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:48:36.779+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.779+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.779+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif.tmp"}
{"level":"debug","time":"2025-09-04T08:48:36.797+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.797+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T08:48:36.797+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:36.871+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:36.871+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","quality":60}
{"level":"debug","time":"2025-09-04T08:48:36.871+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T08:48:36.871+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:37.099+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.099+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","quality":60,"original_size":231431,"new_size":3359,"reduction_ratio":0.9854859547770177}
{"level":"info","time":"2025-09-04T08:48:37.099+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","quality":60,"reduction_ratio":0.9854859547770177}
{"level":"error","time":"2025-09-04T08:48:37.099+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.099+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.099+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T08:48:37.099+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":17}
{"level":"info","time":"2025-09-04T08:48:37.203+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.204+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","quality":60,"original_size":34269,"new_size":19940,"reduction_ratio":0.418133006507339}
{"level":"info","time":"2025-09-04T08:48:37.204+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","quality":60,"reduction_ratio":0.418133006507339}
{"level":"error","time":"2025-09-04T08:48:37.204+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.204+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.204+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T08:48:37.219+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:37.219+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T08:48:37.219+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:37.292+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.293+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:37.293+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T08:48:37.293+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:37.399+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.399+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","quality":60,"original_size":45549,"new_size":24406,"reduction_ratio":0.46418143098641024}
{"level":"info","time":"2025-09-04T08:48:37.399+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","quality":60,"reduction_ratio":0.46418143098641024}
{"level":"error","time":"2025-09-04T08:48:37.399+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"info","time":"2025-09-04T08:48:37.615+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.615+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","quality":60,"original_size":66340,"new_size":33246,"reduction_ratio":0.4988543864938197}
{"level":"info","time":"2025-09-04T08:48:37.615+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","quality":60,"reduction_ratio":0.4988543864938197}
{"level":"error","time":"2025-09-04T08:48:37.615+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.615+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.615+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"info","time":"2025-09-04T08:48:37.622+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.622+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:37.622+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T08:48:37.622+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:37.628+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.628+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","quality":60,"original_size":95008,"new_size":30913,"reduction_ratio":0.6746273997979118}
{"level":"info","time":"2025-09-04T08:48:37.628+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","quality":60,"reduction_ratio":0.6746273997979118}
{"level":"error","time":"2025-09-04T08:48:37.628+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.628+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.628+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"info","time":"2025-09-04T08:48:37.690+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.691+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","quality":60,"original_size":75353,"new_size":38345,"reduction_ratio":0.491128422226056}
{"level":"info","time":"2025-09-04T08:48:37.691+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","quality":60,"reduction_ratio":0.491128422226056}
{"level":"error","time":"2025-09-04T08:48:37.691+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.691+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.691+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"info","time":"2025-09-04T08:48:37.898+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:37.898+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","quality":60,"original_size":58722,"new_size":29105,"reduction_ratio":0.504359524539355}
{"level":"info","time":"2025-09-04T08:48:37.899+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","quality":60,"reduction_ratio":0.504359524539355}
{"level":"error","time":"2025-09-04T08:48:37.899+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:37.899+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:37.899+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"info","time":"2025-09-04T08:48:38.022+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:38.022+0800","caller":"converter/strategy.go:1096","msg":"尝试AVIF质量级别","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","quality":60}
{"level":"debug","time":"2025-09-04T08:48:38.022+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:38.022+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif.tmp"}
{"level":"info","time":"2025-09-04T08:48:38.398+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T08:48:38.398+0800","caller":"converter/strategy.go:1122","msg":"检查压缩比例","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","quality":60,"original_size":418473,"new_size":120716,"reduction_ratio":0.7115321657550189}
{"level":"info","time":"2025-09-04T08:48:38.399+0800","caller":"converter/strategy.go:1140","msg":"使用高压缩比AVIF结果","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","quality":60,"reduction_ratio":0.7115321657550189}
{"level":"error","time":"2025-09-04T08:48:38.399+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif","DirectoryTemplate":"test_emoji/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":17,"总数":17}
{"level":"debug","time":"2025-09-04T08:48:38.399+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":17}
{"level":"info","time":"2025-09-04T08:48:38.500+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:48:38.500+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:48:38.500+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_084839.json"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_084839.txt"}
{"level":"info","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_tiny_64x64.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_640x480_default.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_320x240_fast.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1280x720_q50.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_laptop_resolution_1366x768.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_portrait_800x1920.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_png_1280x720_best.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_jpeg_1920x1080_q80.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_ultrawide_1920x800.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif","verifying_path":"/Users/nameko_1/Downloads/test/test_emoji/test_large_4k.avif"}
{"level":"debug","time":"2025-09-04T08:48:39.001+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:48:39.034+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:48:39.034+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:48:39.034+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:48:39.034+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:48:48.183+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:48:52.557+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:48:52.557+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"TEST_COMPREHENSIVE/images/"}
{"level":"info","time":"2025-09-04T08:50:15.876+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:50:15.878+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:50:15.878+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:50:15.901+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:50:15.901+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:50:15.901+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:50:15.902+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_mixed/"}
{"level":"warn","time":"2025-09-04T08:50:15.902+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_mixed","error":"close /Users/nameko_1/Downloads/test/test_mixed: file already closed"}
{"level":"debug","time":"2025-09-04T08:50:15.902+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_mixed"}
{"level":"debug","time":"2025-09-04T08:50:15.902+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_mixed/"}
{"level":"info","time":"2025-09-04T08:50:15.902+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_mixed/"}
{"level":"info","time":"2025-09-04T08:50:15.902+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":2}
{"level":"info","time":"2025-09-04T08:50:15.915+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_mixed/","totalFiles":2}
{"level":"info","time":"2025-09-04T08:50:15.915+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:50:15.915+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_mixed/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:50:15.915+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_mixed/"}
{"level":"warn","time":"2025-09-04T08:50:15.915+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_mixed","error":"close /Users/nameko_1/Downloads/test/test_mixed: file already closed"}
{"level":"debug","time":"2025-09-04T08:50:15.916+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_mixed"}
{"level":"debug","time":"2025-09-04T08:50:15.916+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_mixed/"}
{"level":"info","time":"2025-09-04T08:50:15.916+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_mixed/"}
{"level":"debug","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":0}
{"level":"debug","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"info","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:50:15.920+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":2}
{"level":"info","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":2}
{"level":"info","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T08:50:16.020+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T08:50:16.030+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.053458ms"}
{"level":"debug","time":"2025-09-04T08:50:16.030+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.080792ms"}
{"level":"debug","time":"2025-09-04T08:50:16.030+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:50:16.030+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_mixed/test_mp4_640x480_crf18.mp4","size_mb":0}
{"level":"info","time":"2025-09-04T08:50:16.280+0800","caller":"converter/video.go:190","msg":"Executing video conversion","input":"/Users/nameko_1/Downloads/test/test_mixed/test_mp4_640x480_crf18.mp4","output":"/Users/nameko_1/Downloads/test/test_mixed_result/test_mp4_640x480_crf18.mov","codec":"","copy_streams":true}
{"level":"error","time":"2025-09-04T08:50:16.315+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_mixed/test_mp4_640x480_crf18.mp4","output":"/Users/nameko_1/Downloads/test/test_mixed_result/test_mp4_640x480_crf18.mov","DirectoryTemplate":"test_mixed_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:50:16.315+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_mixed/test_mp4_640x480_crf18.mp4","size_mb":0}
{"level":"debug","time":"2025-09-04T08:50:16.315+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_mixed/test_mp4_640x480_crf18.mp4"}
{"level":"debug","time":"2025-09-04T08:50:16.339+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.339+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.339+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.369+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.369+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:50:16.422+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:50:16.422+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","result":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl"}
{"level":"error","time":"2025-09-04T08:50:16.422+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl","DirectoryTemplate":"test_mixed_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_mixed/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T08:50:16.422+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":2}
{"level":"info","time":"2025-09-04T08:50:16.522+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:50:16.522+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:50:16.522+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:50:16.589+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_085016.json"}
{"level":"debug","time":"2025-09-04T08:50:16.590+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_085016.txt"}
{"level":"info","time":"2025-09-04T08:50:16.590+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:50:16.590+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_mp4_640x480_crf18.mov","verifying_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_mp4_640x480_crf18.mov"}
{"level":"debug","time":"2025-09-04T08:50:16.590+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_mixed_result/test_jpeg_320x240_q75.jxl"}
{"level":"debug","time":"2025-09-04T08:50:16.590+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:50:16.607+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:50:16.607+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:50:16.607+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:50:16.607+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:50:33.271+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:50:33.271+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:50:33.271+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:50:33.295+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:50:33.295+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:50:33.295+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:50:33.296+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/audio/test_mp3_128kbps.mp3"}
{"level":"error","time":"2025-09-04T08:50:33.296+0800","caller":"converter/converter.go:378","msg":"路径权限检查失败","path":"TEST_COMPREHENSIVE/audio/test_mp3_128kbps.mp3","error":"指定路径不是目录: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/audio/test_mp3_128kbps.mp3","stacktrace":"pixly/pkg/converter.(*Converter).checkPathPermissions\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:378\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:286\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1032\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:64\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:20\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T08:50:33.296+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:50:33.296+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:50:33.296+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:50:33.296+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:50:45.769+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:52:17.672+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:52:21.650+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:52:21.651+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:52:21.651+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:52:21.672+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:52:21.672+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:52:21.672+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:52:21.673+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_balanced_optimization/"}
{"level":"warn","time":"2025-09-04T08:52:21.673+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization","error":"close /Users/nameko_1/Downloads/test/test_balanced_optimization: file already closed"}
{"level":"debug","time":"2025-09-04T08:52:21.675+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization"}
{"level":"debug","time":"2025-09-04T08:52:21.675+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:21.675+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:21.675+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":2}
{"level":"info","time":"2025-09-04T08:52:21.696+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_balanced_optimization/","totalFiles":2}
{"level":"info","time":"2025-09-04T08:52:21.696+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:52:21.696+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_balanced_optimization/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:52:21.696+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_balanced_optimization/"}
{"level":"warn","time":"2025-09-04T08:52:21.696+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization","error":"close /Users/nameko_1/Downloads/test/test_balanced_optimization: file already closed"}
{"level":"debug","time":"2025-09-04T08:52:21.697+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization"}
{"level":"debug","time":"2025-09-04T08:52:21.697+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_balanced_optimization/"}
{"level":"debug","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":2,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":2,"scanned_files":2,"skipped_files":0}
{"level":"debug","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"info","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:52:21.697+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:52:21.798+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:52:21.799+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":2}
{"level":"info","time":"2025-09-04T08:52:21.799+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":2}
{"level":"info","time":"2025-09-04T08:52:21.799+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:52:21.799+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T08:52:21.799+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T08:52:21.801+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.049125ms"}
{"level":"debug","time":"2025-09-04T08:52:21.801+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.084125ms"}
{"level":"debug","time":"2025-09-04T08:52:21.801+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:21.801+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"info","time":"2025-09-04T08:52:22.001+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:52:22.001+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:22.030+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:52:22.031+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:22.031+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:22.031+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:52:22.060+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:22.060+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:22.060+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:22.092+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:22.092+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:52:22.137+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:52:22.137+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T08:52:22.137+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","result":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl"}
{"level":"error","time":"2025-09-04T08:52:22.137+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl","DirectoryTemplate":"test_balanced_optimization_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:22.137+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:22.137+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"error","time":"2025-09-04T08:52:22.527+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 17960 bytes (0.468 bpp).\n640 x 480,  0.646 MP/s [0.65, 0.65], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:52:22.527+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl","DirectoryTemplate":"test_balanced_optimization_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T08:52:22.527+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":2}
{"level":"info","time":"2025-09-04T08:52:22.628+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:52:22.628+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:52:22.628+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:52:22.711+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_085222.json"}
{"level":"debug","time":"2025-09-04T08:52:22.712+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_085222.txt"}
{"level":"info","time":"2025-09-04T08:52:22.712+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:52:22.712+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_jpeg_320x240_q75.jxl"}
{"level":"debug","time":"2025-09-04T08:52:22.712+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_balanced_optimization_result/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:52:22.712+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:52:22.765+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:52:22.765+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:52:22.765+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:52:22.765+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:52:33.477+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:52:33.479+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:52:33.479+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:52:33.497+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:52:33.497+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:52:33.497+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:52:33.497+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_balanced_optimization/"}
{"level":"warn","time":"2025-09-04T08:52:33.498+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization","error":"close /Users/nameko_1/Downloads/test/test_balanced_optimization: file already closed"}
{"level":"debug","time":"2025-09-04T08:52:33.498+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization"}
{"level":"debug","time":"2025-09-04T08:52:33.498+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:33.498+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:33.499+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":2}
{"level":"info","time":"2025-09-04T08:52:33.516+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_balanced_optimization/","totalFiles":2}
{"level":"info","time":"2025-09-04T08:52:33.516+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:52:33.516+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_balanced_optimization/","mode":"quality"}
{"level":"debug","time":"2025-09-04T08:52:33.516+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_balanced_optimization/"}
{"level":"warn","time":"2025-09-04T08:52:33.516+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization","error":"close /Users/nameko_1/Downloads/test/test_balanced_optimization: file already closed"}
{"level":"debug","time":"2025-09-04T08:52:33.516+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_balanced_optimization"}
{"level":"debug","time":"2025-09-04T08:52:33.516+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_balanced_optimization/"}
{"level":"info","time":"2025-09-04T08:52:33.516+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_balanced_optimization/"}
{"level":"debug","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":2,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":2,"scanned_files":2,"skipped_files":0}
{"level":"debug","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"info","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:52:33.517+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:52:33.618+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:52:33.618+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":2}
{"level":"info","time":"2025-09-04T08:52:33.618+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":2}
{"level":"info","time":"2025-09-04T08:52:33.618+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:52:33.618+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T08:52:33.619+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T08:52:33.628+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.384875ms"}
{"level":"debug","time":"2025-09-04T08:52:33.628+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.417625ms"}
{"level":"debug","time":"2025-09-04T08:52:33.628+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:33.628+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"error","time":"2025-09-04T08:52:33.628+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:33.629+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:52:33.629+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality_mode_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:33.629+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:33.629+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl"}
{"level":"error","time":"2025-09-04T08:52:33.701+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 7507 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:52:33.701+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl","DirectoryTemplate":"test_quality_mode_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:33.701+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:33.701+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T08:52:33.769+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T08:52:33.769+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_quality_mode_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:33.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:33.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl","normalized":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl"}
{"level":"error","time":"2025-09-04T08:52:34.252+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 17960 bytes (0.468 bpp).\n640 x 480,  0.656 MP/s [0.66, 0.66], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:52:34.252+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","output":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl","DirectoryTemplate":"test_quality_mode_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_balanced_optimization/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T08:52:34.252+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":2}
{"level":"info","time":"2025-09-04T08:52:34.352+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:52:34.352+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:52:34.353+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:52:34.437+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_085234.json"}
{"level":"debug","time":"2025-09-04T08:52:34.437+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_085234.txt"}
{"level":"info","time":"2025-09-04T08:52:34.438+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:52:34.438+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_jpeg_320x240_q75.jxl"}
{"level":"debug","time":"2025-09-04T08:52:34.438+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_quality_mode_result/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T08:52:34.438+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:52:34.469+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:52:34.469+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:52:34.469+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:52:34.469+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:52:57.394+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:53:07.019+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T08:53:07.020+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:53:16.506+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T08:53:16.506+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T08:53:16.506+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:54:35.982+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T08:54:35.983+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T08:54:35.983+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:54:51.696+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T08:54:51.696+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T08:54:51.698+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:54:51.699+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:54:51.727+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:54:51.727+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:54:51.727+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:54:51.727+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_quality_analysis/"}
{"level":"warn","time":"2025-09-04T08:54:51.727+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_quality_analysis","error":"close /Users/nameko_1/Downloads/test/test_quality_analysis: file already closed"}
{"level":"debug","time":"2025-09-04T08:54:51.727+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_quality_analysis"}
{"level":"debug","time":"2025-09-04T08:54:51.727+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:54:51.727+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:54:51.727+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":4}
{"level":"info","time":"2025-09-04T08:54:51.746+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_quality_analysis/","totalFiles":4}
{"level":"info","time":"2025-09-04T08:54:51.746+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:54:51.746+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_quality_analysis/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:54:51.746+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_quality_analysis/"}
{"level":"warn","time":"2025-09-04T08:54:51.746+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_quality_analysis","error":"close /Users/nameko_1/Downloads/test/test_quality_analysis: file already closed"}
{"level":"debug","time":"2025-09-04T08:54:51.747+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_quality_analysis"}
{"level":"debug","time":"2025-09-04T08:54:51.747+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:54:51.747+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_quality_analysis/"}
{"level":"debug","time":"2025-09-04T08:54:51.753+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":4,"已扫描文件数":4}
{"level":"debug","time":"2025-09-04T08:54:51.753+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":4,"scanned_files":4,"skipped_files":0}
{"level":"debug","time":"2025-09-04T08:54:51.753+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":4}
{"level":"info","time":"2025-09-04T08:54:51.753+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:54:51.754+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:54:51.754+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:54:51.854+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":4,"task_queue_size":4,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:54:51.855+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":4}
{"level":"info","time":"2025-09-04T08:54:51.855+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":4}
{"level":"info","time":"2025-09-04T08:54:51.855+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:54:51.855+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":4}
{"level":"debug","time":"2025-09-04T08:54:51.855+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":4}
{"level":"debug","time":"2025-09-04T08:54:51.861+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.379375ms"}
{"level":"debug","time":"2025-09-04T08:54:51.861+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.416375ms"}
{"level":"debug","time":"2025-09-04T08:54:51.861+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.42525ms"}
{"level":"debug","time":"2025-09-04T08:54:51.861+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.442417ms"}
{"level":"debug","time":"2025-09-04T08:54:51.861+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:51.862+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:51.862+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:51.866+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","size_mb":0}
{"level":"info","time":"2025-09-04T08:54:52.078+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:54:52.079+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"info","time":"2025-09-04T08:54:52.079+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:54:52.079+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.114+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.115+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"error","time":"2025-09-04T08:54:52.115+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_low_quality_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"error","time":"2025-09-04T08:54:52.115+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_low_quality_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","normalized":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","normalized":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.151+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"error","time":"2025-09-04T08:54:52.153+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 4011 bytes (12.835 bpp).\n50 x 50,  0.134 MP/s [0.13, 0.13], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:54:52.153+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","DirectoryTemplate":"test_low_quality_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.153+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:52.153+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.185+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.185+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:54:52.185+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:54:52.185+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:54:52.198+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:54:52.199+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","original_size":373}
{"level":"debug","time":"2025-09-04T08:54:52.199+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","result":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl"}
{"level":"error","time":"2025-09-04T08:54:52.199+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","DirectoryTemplate":"test_low_quality_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.199+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:52.199+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"info","time":"2025-09-04T08:54:52.228+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:54:52.228+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T08:54:52.228+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","result":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl"}
{"level":"error","time":"2025-09-04T08:54:52.228+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","DirectoryTemplate":"test_low_quality_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.228+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:52.228+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"error","time":"2025-09-04T08:54:52.419+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 6309 bytes (0.657 bpp).\n320 x 240,  0.270 MP/s [0.27, 0.27], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:54:52.419+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","output":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","DirectoryTemplate":"test_low_quality_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":4,"总数":4}
{"level":"debug","time":"2025-09-04T08:54:52.419+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":4}
{"level":"info","time":"2025-09-04T08:54:52.520+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:54:52.520+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:54:52.520+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_085452.json"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_085452.txt"}
{"level":"info","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_low_quality_result/test_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:54:52.668+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:54:52.725+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:54:52.725+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:54:52.725+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:54:52.725+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T08:56:38.333+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T08:56:38.334+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T08:56:43.156+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T08:56:43.156+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T08:56:43.158+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T08:56:43.158+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T08:56:43.176+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T08:56:43.176+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T08:56:43.176+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T08:56:43.177+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_quality_analysis/"}
{"level":"warn","time":"2025-09-04T08:56:43.177+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_quality_analysis","error":"close /Users/nameko_1/Downloads/test/test_quality_analysis: file already closed"}
{"level":"debug","time":"2025-09-04T08:56:43.177+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_quality_analysis"}
{"level":"debug","time":"2025-09-04T08:56:43.177+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:56:43.177+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:56:43.177+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":6}
{"level":"info","time":"2025-09-04T08:56:43.195+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_quality_analysis/","totalFiles":6}
{"level":"info","time":"2025-09-04T08:56:43.195+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T08:56:43.195+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_quality_analysis/","mode":"auto+"}
{"level":"debug","time":"2025-09-04T08:56:43.195+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_quality_analysis/"}
{"level":"warn","time":"2025-09-04T08:56:43.195+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_quality_analysis","error":"close /Users/nameko_1/Downloads/test/test_quality_analysis: file already closed"}
{"level":"debug","time":"2025-09-04T08:56:43.195+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_quality_analysis"}
{"level":"debug","time":"2025-09-04T08:56:43.195+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_quality_analysis/"}
{"level":"info","time":"2025-09-04T08:56:43.195+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_quality_analysis/"}
{"level":"debug","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":6,"已扫描文件数":6}
{"level":"debug","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":6,"scanned_files":6,"skipped_files":0}
{"level":"debug","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":6}
{"level":"info","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T08:56:43.220+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T08:56:43.321+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":6,"task_queue_size":6,"corrupted_files":0}
{"level":"info","time":"2025-09-04T08:56:43.321+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":6}
{"level":"info","time":"2025-09-04T08:56:43.321+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":6}
{"level":"info","time":"2025-09-04T08:56:43.322+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T08:56:43.322+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":6}
{"level":"debug","time":"2025-09-04T08:56:43.322+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":6}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.527834ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.599542ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.61175ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.51525ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.521667ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.528125ms"}
{"level":"debug","time":"2025-09-04T08:56:43.332+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.333+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","size_mb":12}
{"level":"debug","time":"2025-09-04T08:56:43.333+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.333+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.333+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.333+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","size_mb":0}
{"level":"info","time":"2025-09-04T08:56:43.539+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:56:43.539+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"info","time":"2025-09-04T08:56:43.544+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:56:43.544+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:43.582+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"error","time":"2025-09-04T08:56:43.582+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_extremely_low_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.582+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:43.582+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:43.590+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"error","time":"2025-09-04T08:56:43.590+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_extremely_low_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.590+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:43.591+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl"}
{"level":"info","time":"2025-09-04T08:56:43.617+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","format":".png"}
{"level":"debug","time":"2025-09-04T08:56:43.617+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png"}
{"level":"error","time":"2025-09-04T08:56:43.624+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 4011 bytes (12.835 bpp).\n50 x 50,  0.118 MP/s [0.12, 0.12], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:56:43.625+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.625+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.625+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:43.633+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.633+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.634+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.674+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.674+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:56:43.674+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.674+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl.tmp"}
{"level":"debug","time":"2025-09-04T08:56:43.680+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.680+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl.tmp"}
{"level":"info","time":"2025-09-04T08:56:43.690+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:56:43.690+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","original_size":373}
{"level":"debug","time":"2025-09-04T08:56:43.690+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","result":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl"}
{"level":"error","time":"2025-09-04T08:56:43.690+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.690+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.690+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_very_low_quality.jpg"}
{"level":"debug","time":"2025-09-04T08:56:43.703+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png"}
{"level":"error","time":"2025-09-04T08:56:43.703+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","originalFile":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","isInPlace":false,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_extremely_low_result","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.703+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","normalized":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:43.703+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","normalized":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl"}
{"level":"info","time":"2025-09-04T08:56:43.724+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:56:43.724+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T08:56:43.724+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","result":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl"}
{"level":"error","time":"2025-09-04T08:56:43.724+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.724+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.724+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.jpg"}
{"level":"info","time":"2025-09-04T08:56:43.729+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","in_place":false}
{"level":"info","time":"2025-09-04T08:56:43.729+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","original_size":12460}
{"level":"debug","time":"2025-09-04T08:56:43.729+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","result":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl"}
{"level":"error","time":"2025-09-04T08:56:43.729+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.730+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.730+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.jpg"}
{"level":"error","time":"2025-09-04T08:56:43.945+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 6309 bytes (0.657 bpp).\n320 x 240,  0.225 MP/s [0.23, 0.23], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:56:43.945+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:43.945+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T08:56:43.945+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:48.158+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":6,"空闲":4,"活跃工作者":1,"排队任务":0,"已完成":5,"失败":0,"平均等待":"9.958µs","平均执行":"410.407808ms"}
{"level":"error","time":"2025-09-04T08:56:50.414+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 322 bytes (0.001 bpp).\n2048 x 2048,  0.629 MP/s [0.63, 0.63], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T08:56:50.414+0800","caller":"converter/batch_processor.go:1250","msg":"DEBUG: 输出到指定目录，保留输出文件","input":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","output":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","DirectoryTemplate":"test_extremely_low_result/","stacktrace":"pixly/pkg/converter.(*FileProcessor).performPostProcessing\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1250\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1230\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","size_mb":12}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png","size_mb":12}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_quality_analysis/test_extremely_low_quality.png"}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":6,"总数":6}
{"level":"debug","time":"2025-09-04T08:56:50.414+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":6}
{"level":"info","time":"2025-09-04T08:56:50.514+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T08:56:50.514+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T08:56:50.514+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_085650.json"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_085650.txt"}
{"level":"info","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_very_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:602","msg":"指定目录转换验证","output_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_extremely_low_result/test_extremely_low_quality.jxl"}
{"level":"debug","time":"2025-09-04T08:56:50.950+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T08:56:50.974+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T08:56:50.974+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T08:56:50.974+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T08:56:50.974+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T09:01:36.292+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T09:01:41.393+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T09:01:50.791+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T09:01:57.796+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T09:01:57.796+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T09:01:57.798+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T09:01:57.798+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T09:01:57.816+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T09:01:57.816+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T09:01:57.816+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T09:01:57.816+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images"}
{"level":"warn","time":"2025-09-04T09:01:57.816+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T09:01:57.817+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T09:01:57.817+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images"}
{"level":"info","time":"2025-09-04T09:01:57.817+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"TEST_COMPREHENSIVE/images"}
{"level":"info","time":"2025-09-04T09:01:57.817+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":19}
{"level":"info","time":"2025-09-04T09:01:57.844+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"TEST_COMPREHENSIVE/images","totalFiles":19}
{"level":"info","time":"2025-09-04T09:01:57.845+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T09:01:57.845+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"TEST_COMPREHENSIVE/images","mode":"auto+"}
{"level":"debug","time":"2025-09-04T09:01:57.845+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"TEST_COMPREHENSIVE/images"}
{"level":"warn","time":"2025-09-04T09:01:57.845+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","error":"close /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images: file already closed"}
{"level":"debug","time":"2025-09-04T09:01:57.845+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T09:01:57.845+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"TEST_COMPREHENSIVE/images"}
{"level":"info","time":"2025-09-04T09:01:57.845+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"TEST_COMPREHENSIVE/images"}
{"level":"debug","time":"2025-09-04T09:01:57.845+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T09:01:57.846+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T09:01:57.848+0800","caller":"converter/batch_processor.go:220","msg":"文件已是目标格式，跳过扫描","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":19,"已扫描文件数":16}
{"level":"debug","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":19,"scanned_files":16,"skipped_files":3}
{"level":"debug","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":16}
{"level":"debug","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:365","msg":"已记录跳过的文件到结果中","skipped_files_count":3}
{"level":"info","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T09:01:57.859+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":16,"task_queue_size":16,"corrupted_files":0}
{"level":"info","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":16}
{"level":"info","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":16}
{"level":"info","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":16}
{"level":"debug","time":"2025-09-04T09:01:57.960+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":16}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.838791ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.917417ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.927875ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.93975ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.945958ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.951875ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.957125ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.962ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.967208ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.972625ms"}
{"level":"debug","time":"2025-09-04T09:01:57.970+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.971+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.971+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.971+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.971+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.971+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.972+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.972+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.972+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:57.973+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.221+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","format":".png"}
{"level":"debug","time":"2025-09-04T09:01:58.221+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"info","time":"2025-09-04T09:01:58.223+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","format":".png"}
{"level":"debug","time":"2025-09-04T09:01:58.223+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"info","time":"2025-09-04T09:01:58.241+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","format":".png"}
{"level":"debug","time":"2025-09-04T09:01:58.241+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T09:01:58.271+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"error","time":"2025-09-04T09:01:58.271+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","actualOutputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:01:58.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"debug","time":"2025-09-04T09:01:58.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.278+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"error","time":"2025-09-04T09:01:58.278+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","actualOutputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:01:58.278+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T09:01:58.278+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.316+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"error","time":"2025-09-04T09:01:58.317+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","actualOutputPath":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:01:58.317+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"debug","time":"2025-09-04T09:01:58.317+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.321+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.321+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.321+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.333+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.333+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.333+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.333+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.333+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.335+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.337+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.338+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.338+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.343+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.343+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.343+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.343+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.344+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.347+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.353+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.353+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.353+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.407+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.407+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.409+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.409+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.420+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.421+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.427+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.427+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.434+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.434+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.439+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.439+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.470+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.470+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl.tmp"}
{"level":"info","time":"2025-09-04T09:01:58.561+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.561+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl","original_size":9456}
{"level":"debug","time":"2025-09-04T09:01:58.561+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.561+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.561+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl","mod_time":"2025-09-04T08:45:32.530+0800"}
{"level":"info","time":"2025-09-04T09:01:58.561+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.561+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.561+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.561+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.026416ms"}
{"level":"debug","time":"2025-09-04T09:01:58.561+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.574+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.574+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl","original_size":15669}
{"level":"debug","time":"2025-09-04T09:01:58.574+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.575+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.575+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl","mod_time":"2025-09-04T08:45:50.659+0800"}
{"level":"info","time":"2025-09-04T09:01:58.575+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.575+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.575+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_odd_resolution_333x555.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.575+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"600.939042ms"}
{"level":"debug","time":"2025-09-04T09:01:58.575+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.620+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.620+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl","original_size":28947}
{"level":"debug","time":"2025-09-04T09:01:58.620+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.620+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.620+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl","mod_time":"2025-09-04T08:45:32.564+0800"}
{"level":"info","time":"2025-09-04T09:01:58.620+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.620+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.620+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_640x480_q95.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.620+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"614.241292ms"}
{"level":"debug","time":"2025-09-04T09:01:58.620+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.703+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.703+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl","original_size":34269}
{"level":"debug","time":"2025-09-04T09:01:58.703+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.703+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.703+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl","mod_time":"2025-09-04T08:45:32.599+0800"}
{"level":"info","time":"2025-09-04T09:01:58.703+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.703+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.703+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1280x720_q50.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.703+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"659.744791ms"}
{"level":"debug","time":"2025-09-04T09:01:58.703+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.752+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.752+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl","original_size":45549}
{"level":"debug","time":"2025-09-04T09:01:58.752+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.753+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.753+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl","mod_time":"2025-09-04T08:45:50.694+0800"}
{"level":"info","time":"2025-09-04T09:01:58.753+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.753+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.754+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_laptop_resolution_1366x768.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.754+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"742.696125ms"}
{"level":"debug","time":"2025-09-04T09:01:58.754+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.809+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.810+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.810+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.814+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.815+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.816+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.866+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.866+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.866+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.886+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.887+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.887+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.887+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl.tmp"}
{"level":"error","time":"2025-09-04T09:01:58.896+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 6309 bytes (0.657 bpp).\n320 x 240,  0.128 MP/s [0.13, 0.13], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"info","time":"2025-09-04T09:01:58.897+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T09:01:58.897+0800","caller":"converter/image.go:480","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.897+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.897+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl","mod_time":"2025-09-04T08:45:32.671+0800"}
{"level":"info","time":"2025-09-04T09:01:58.897+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.897+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.897+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_320x240_fast.png"}
{"level":"debug","time":"2025-09-04T09:01:58.897+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"793.95425ms"}
{"level":"debug","time":"2025-09-04T09:01:58.897+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"info","time":"2025-09-04T09:01:58.901+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.901+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl","original_size":2162}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"info","time":"2025-09-04T09:01:58.901+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"info","time":"2025-09-04T09:01:58.901+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl","mod_time":"2025-09-04T08:45:49.918+0800"}
{"level":"info","time":"2025-09-04T09:01:58.901+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.901+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.905+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.905+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.905+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.925+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.925+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:01:58.949+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.949+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png"}
{"level":"info","time":"2025-09-04T09:01:58.958+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:58.958+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl","original_size":75353}
{"level":"debug","time":"2025-09-04T09:01:58.958+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.959+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl"}
{"level":"info","time":"2025-09-04T09:01:58.959+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl","mod_time":"2025-09-04T08:45:32.637+0800"}
{"level":"info","time":"2025-09-04T09:01:58.959+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl"}
{"level":"debug","time":"2025-09-04T09:01:58.959+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:58.959+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg"}
{"level":"debug","time":"2025-09-04T09:01:58.964+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:01:58.964+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png"}
{"level":"debug","time":"2025-09-04T09:01:59.013+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:01:59.013+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:01:59.013+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"warn","time":"2025-09-04T09:01:59.031+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb0b05c280] Requested output format 'png' is not known.\n[out#0 @ 0xb0ac18300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:01:59.047+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xab2838280] Requested output format 'png' is not known.\n[out#0 @ 0xab303c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:01:59.114+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:01:59.114+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png"}
{"level":"warn","time":"2025-09-04T09:01:59.179+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa6cc14280] Requested output format 'png' is not known.\n[out#0 @ 0xa6d02cfc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"info","time":"2025-09-04T09:01:59.185+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:59.185+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl","original_size":66340}
{"level":"debug","time":"2025-09-04T09:01:59.185+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.185+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.185+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl","mod_time":"2025-09-04T08:45:50.045+0800"}
{"level":"info","time":"2025-09-04T09:01:59.185+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl"}
{"level":"debug","time":"2025-09-04T09:01:59.185+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:59.185+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg"}
{"level":"info","time":"2025-09-04T09:01:59.224+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:59.224+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl","original_size":58722}
{"level":"debug","time":"2025-09-04T09:01:59.224+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.224+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.224+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl","mod_time":"2025-09-04T08:45:50.010+0800"}
{"level":"info","time":"2025-09-04T09:01:59.225+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T09:01:59.225+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:59.225+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg"}
{"level":"debug","time":"2025-09-04T09:01:59.225+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":16}
{"level":"error","time":"2025-09-04T09:01:59.309+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 17960 bytes (0.468 bpp).\n640 x 480,  0.305 MP/s [0.30, 0.30], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"info","time":"2025-09-04T09:01:59.309+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T09:01:59.309+0800","caller":"converter/image.go:480","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.310+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.310+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl","mod_time":"2025-09-04T08:45:32.709+0800"}
{"level":"info","time":"2025-09-04T09:01:59.310+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T09:01:59.310+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:59.310+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png"}
{"level":"info","time":"2025-09-04T09:01:59.799+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl","in_place":false}
{"level":"info","time":"2025-09-04T09:01:59.799+0800","caller":"converter/image.go:239","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl","original_size":418473}
{"level":"debug","time":"2025-09-04T09:01:59.799+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","result":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.799+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl"}
{"level":"info","time":"2025-09-04T09:01:59.799+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl","mod_time":"2025-09-04T08:45:49.974+0800"}
{"level":"info","time":"2025-09-04T09:01:59.799+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl"}
{"level":"debug","time":"2025-09-04T09:01:59.799+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:01:59.799+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg"}
{"level":"warn","time":"2025-09-04T09:02:00.070+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc3ac54280] Requested output format 'png' is not known.\n[out#0 @ 0xc3b024300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:00.086+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb74c34280] Requested output format 'png' is not known.\n[out#0 @ 0xb75044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:00.215+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a105c280] Requested output format 'png' is not known.\n[out#0 @ 0x9a0c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"error","time":"2025-09-04T09:02:00.430+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 51179 bytes (0.444 bpp).\n1280 x 720,  0.442 MP/s [0.44, 0.44], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"info","time":"2025-09-04T09:02:00.430+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T09:02:00.430+0800","caller":"converter/image.go:480","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl"}
{"level":"info","time":"2025-09-04T09:02:00.430+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","new":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl"}
{"level":"info","time":"2025-09-04T09:02:00.430+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl","mod_time":"2025-09-04T08:45:32.774+0800"}
{"level":"info","time":"2025-09-04T09:02:00.430+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","temp_output":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl"}
{"level":"debug","time":"2025-09-04T09:02:00.430+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:00.430+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png"}
{"level":"warn","time":"2025-09-04T09:02:02.105+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x888c38280] Requested output format 'png' is not known.\n[out#0 @ 0x889044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:02.124+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x954c60280] Requested output format 'png' is not known.\n[out#0 @ 0x95501c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:02.251+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8d4c38280] Requested output format 'png' is not known.\n[out#0 @ 0x8d5044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T09:02:02.798+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"49.985935ms","平均执行":"958.486538ms"}
{"level":"error","time":"2025-09-04T09:02:05.105+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x888c38280] Requested output format 'png' is not known.\n[out#0 @ 0x889044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:05.105+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.105+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.105+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp"}
{"level":"error","time":"2025-09-04T09:02:05.124+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x954c60280] Requested output format 'png' is not known.\n[out#0 @ 0x95501c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:05.124+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.124+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.124+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp"}
{"level":"warn","time":"2025-09-04T09:02:05.159+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadac58280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadb024300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:02:05.162+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x886c3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x88703c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T09:02:05.252+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8d4c38280] Requested output format 'png' is not known.\n[out#0 @ 0x8d5044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:191\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:281\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:791\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:656\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:05.252+0800","caller":"converter/strategy.go:803","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.252+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:05.252+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp"}
{"level":"warn","time":"2025-09-04T09:02:05.290+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb6f064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb6ec1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:02:06.208+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb0f044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb0ec089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:06.211+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc5ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc5b044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:06.326+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc18c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc19018300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"debug","time":"2025-09-04T09:02:07.798+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"49.985935ms","平均执行":"958.486538ms"}
{"level":"warn","time":"2025-09-04T09:02:08.257+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x89cc3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x89d040300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:08.259+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x803064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x802c1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:08.360+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x83ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x83b044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T09:02:11.257+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 320x240, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x89cc3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x89d040300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T09:02:11.260+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1280x720, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x803064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x802c1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:11.349+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T09:02:11.349+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:11.349+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:02:11.352+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T09:02:11.352+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:11.352+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.avif.tmp"}
{"level":"error","time":"2025-09-04T09:02:11.361+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 640x480, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x83ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x83b044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:310\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:815\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:665\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"warn","time":"2025-09-04T09:02:11.365+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:02:11.365+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:02:11.434+0800","caller":"converter/strategy.go:833","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","complexity":0.7,"noise":0.5,"compression_potential":0.19999999999999998,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T09:02:11.434+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:11.434+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.avif.tmp"}
{"level":"warn","time":"2025-09-04T09:02:11.437+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:02:12.374+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:12.374+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:12.444+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":2}
{"level":"debug","time":"2025-09-04T09:02:12.798+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"49.985935ms","平均执行":"958.486538ms"}
{"level":"warn","time":"2025-09-04T09:02:14.383+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:14.383+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:14.453+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":3}
{"level":"error","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:17.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.avif.tmp"}
{"level":"warn","time":"2025-09-04T09:02:17.388+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:02:17.388+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":1}
{"level":"error","time":"2025-09-04T09:02:17.454+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:17.454+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:17.454+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.avif.tmp"}
{"level":"warn","time":"2025-09-04T09:02:17.457+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:02:17.798+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"49.985935ms","平均执行":"958.486538ms"}
{"level":"warn","time":"2025-09-04T09:02:18.396+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:18.396+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:18.461+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":2}
{"level":"warn","time":"2025-09-04T09:02:20.408+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:20.408+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","attempt":3}
{"level":"warn","time":"2025-09-04T09:02:20.467+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","attempt":3}
{"level":"debug","time":"2025-09-04T09:02:22.798+0800","caller":"converter/advanced_pool.go:414","msg":"池监控指标","池大小":10,"运行中":10,"空闲":0,"活跃工作者":3,"排队任务":0,"已完成":13,"失败":0,"平均等待":"49.985935ms","平均执行":"958.486538ms"}
{"level":"error","time":"2025-09-04T09:02:23.408+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T09:02:23.408+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:23.409+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.409+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.409+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T09:02:23.409+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T09:02:23.409+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:23.410+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.410+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:23.410+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.410+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":87.5,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:23.410+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":93.75,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","size_mb":0}
{"level":"error","time":"2025-09-04T09:02:23.468+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:855\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:685\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/strategy.go:701","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/batch_processor.go:1307","msg":"文件跳过转换","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","reason":"already target format"}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":16,"总数":16}
{"level":"debug","time":"2025-09-04T09:02:23.468+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":16}
{"level":"info","time":"2025-09-04T09:02:23.569+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T09:02:23.569+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T09:02:23.569+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T09:02:24.115+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_090224.json"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_090224.txt"}
{"level":"info","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_1280x720_crf20.avif"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_avif_640x480_crf30.avif"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jxl_640x480.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_320x240_q75.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_tiny_64x64.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_jpeg_1920x1080_q80.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_portrait_800x1920.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_ultrawide_1920x800.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.png","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_640x480_default.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jpg","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_large_4k.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.png","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_png_1280x720_best.jxl"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_1280x720_q95.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_320x240_q50.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","output_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp","verifying_path":"/Users/nameko_1/Downloads/test/TEST_COMPREHENSIVE/images/test_webp_640x480_q80.webp"}
{"level":"debug","time":"2025-09-04T09:02:24.116+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T09:02:24.128+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T09:02:24.128+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T09:02:24.128+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T09:02:24.128+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T09:02:45.980+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T09:02:45.981+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T09:02:45.981+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"TEST_COMPREHENSIVE/images"}
{"level":"info","time":"2025-09-04T09:03:20.605+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"debug","time":"2025-09-04T09:03:20.606+0800","caller":"cmd/root.go:113","msg":"Detailed initialization info","version":"1.65.6.0","verbose":true}
{"level":"info","time":"2025-09-04T09:03:20.608+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T09:03:20.608+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T09:03:20.633+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T09:03:20.633+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T09:03:20.633+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T09:03:20.634+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_comprehensive_validation"}
{"level":"warn","time":"2025-09-04T09:03:20.635+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation","error":"close /Users/nameko_1/Downloads/test/test_comprehensive_validation: file already closed"}
{"level":"debug","time":"2025-09-04T09:03:20.635+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation"}
{"level":"debug","time":"2025-09-04T09:03:20.635+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_comprehensive_validation"}
{"level":"info","time":"2025-09-04T09:03:20.635+0800","caller":"converter/converter.go:389","msg":"开始扫描文件","目录":"test_comprehensive_validation"}
{"level":"info","time":"2025-09-04T09:03:20.635+0800","caller":"converter/converter.go:434","msg":"文件扫描完成","找到文件数":3}
{"level":"info","time":"2025-09-04T09:03:20.650+0800","caller":"converter/converter.go:306","msg":"启动转换会话","targetDir":"test_comprehensive_validation","totalFiles":3}
{"level":"info","time":"2025-09-04T09:03:20.650+0800","caller":"converter/converter.go:308","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T09:03:20.650+0800","caller":"converter/converter.go:310","msg":"转换参数","inputDir":"test_comprehensive_validation","mode":"auto+"}
{"level":"debug","time":"2025-09-04T09:03:20.650+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_comprehensive_validation"}
{"level":"warn","time":"2025-09-04T09:03:20.650+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation","error":"close /Users/nameko_1/Downloads/test/test_comprehensive_validation: file already closed"}
{"level":"debug","time":"2025-09-04T09:03:20.651+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation"}
{"level":"debug","time":"2025-09-04T09:03:20.651+0800","caller":"converter/converter.go:382","msg":"路径权限检查通过","path":"test_comprehensive_validation"}
{"level":"info","time":"2025-09-04T09:03:20.651+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_comprehensive_validation"}
{"level":"debug","time":"2025-09-04T09:03:20.651+0800","caller":"converter/batch_processor.go:285","msg":"Magic Number检测发现扩展名不匹配","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","current_ext":".jpg","detected_format":"jxl"}
{"level":"debug","time":"2025-09-04T09:03:20.652+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":3,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T09:03:20.652+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":3,"scanned_files":3,"skipped_files":0}
{"level":"debug","time":"2025-09-04T09:03:20.652+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"info","time":"2025-09-04T09:03:20.652+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T09:03:20.653+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T09:03:20.653+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T09:03:20.754+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"info","time":"2025-09-04T09:03:20.755+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":3}
{"level":"info","time":"2025-09-04T09:03:20.755+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":3}
{"level":"info","time":"2025-09-04T09:03:20.755+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T09:03:20.755+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T09:03:20.755+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T09:03:20.758+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.298959ms"}
{"level":"debug","time":"2025-09-04T09:03:20.758+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.313792ms"}
{"level":"debug","time":"2025-09-04T09:03:20.758+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.326125ms"}
{"level":"debug","time":"2025-09-04T09:03:20.758+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:20.759+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:20.759+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:20.759+0800","caller":"converter/batch_processor.go:1307","msg":"转换前修正文件扩展名","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","change":".jxl->jxl"}
{"level":"info","time":"2025-09-04T09:03:20.982+0800","caller":"converter/strategy.go:61","msg":"检测到无损格式，优先使用质量模式","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","format":".png"}
{"level":"debug","time":"2025-09-04T09:03:20.982+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","normalized":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png"}
{"level":"debug","time":"2025-09-04T09:03:20.989+0800","caller":"converter/strategy.go:653","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:03:20.989+0800","caller":"converter/strategy.go:777","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:03:20.989+0800","caller":"converter/strategy.go:658","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","result":""}
{"level":"debug","time":"2025-09-04T09:03:20.989+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:20.989+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg"}
{"level":"debug","time":"2025-09-04T09:03:21.018+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png"}
{"level":"error","time":"2025-09-04T09:03:21.018+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","actualOutputPath":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_comprehensive_validation","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:03:21.019+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","normalized":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png"}
{"level":"debug","time":"2025-09-04T09:03:21.019+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp"}
{"level":"error","time":"2025-09-04T09:03:21.054+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"error","time":"2025-09-04T09:03:21.054+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/test_comprehensive_validation","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:03:21.054+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","normalized":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg"}
{"level":"debug","time":"2025-09-04T09:03:21.054+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp"}
{"level":"error","time":"2025-09-04T09:03:21.108+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nCompressed to 6292 bytes including container \n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:73\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"info","time":"2025-09-04T09:03:21.108+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T09:03:21.108+0800","caller":"converter/image.go:480","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","new":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"info","time":"2025-09-04T09:03:21.109+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","new":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"info","time":"2025-09-04T09:03:21.109+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","mod_time":"2025-09-04T09:02:59.163+0800"}
{"level":"info","time":"2025-09-04T09:03:21.109+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","temp_output":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"debug","time":"2025-09-04T09:03:21.109+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:21.109+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg"}
{"level":"error","time":"2025-09-04T09:03:21.111+0800","caller":"converter/image.go:442","msg":"DEBUG: After executing cjxl command","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [Modular, lossless, effort: 9]\nCompressed to 1632 bytes (0.170 bpp).\n320 x 240,  1.074 MP/s [1.07, 1.07], , 1 reps, 10 threads.\n","outputFileExists":true,"stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:442\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:641\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:64\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"info","time":"2025-09-04T09:03:21.111+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/image.go:480","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","new":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"info","time":"2025-09-04T09:03:21.111+0800","caller":"converter/batch_processor.go:1281","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","new":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"info","time":"2025-09-04T09:03:21.111+0800","caller":"converter/batch_processor.go:1299","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","mod_time":"2025-09-04T09:03:05.682+0800"}
{"level":"info","time":"2025-09-04T09:03:21.111+0800","caller":"converter/batch_processor.go:1288","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","temp_output":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png"}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png"}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T09:03:21.111+0800","caller":"converter/batch_processor.go:1125","msg":"批处理完成","处理总数":3}
{"level":"info","time":"2025-09-04T09:03:21.211+0800","caller":"converter/batch_processor.go:1477","msg":"原子性批处理成功完成"}
{"level":"info","time":"2025-09-04T09:03:21.211+0800","caller":"converter/batch_processor.go:1011","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T09:03:21.211+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_090321.json"}
{"level":"debug","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_090321.txt"}
{"level":"info","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_jpeg_320x240_q75.jpg","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jpg","output_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"debug","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.png","output_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_comprehensive_validation/test_sample.jxl"}
{"level":"warn","time":"2025-09-04T09:03:21.287+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T09:03:21.299+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T09:03:21.299+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T09:03:21.299+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T09:03:21.299+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T09:04:10.227+0800","caller":"cmd/root.go:110","msg":"Pixly initialized","version":"1.65.6.0"}
{"level":"info","time":"2025-09-04T09:25:50.453+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.2"}
{"level":"info","time":"2025-09-04T09:26:42.077+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.3"}
{"level":"info","time":"2025-09-04T09:31:12.727+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.3"}
{"level":"debug","time":"2025-09-04T09:31:12.728+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.3","verbose":true}
{"level":"info","time":"2025-09-04T09:31:12.730+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T09:31:12.730+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T09:31:12.750+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T09:31:12.750+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T09:31:12.750+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T09:31:12.751+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"warn","time":"2025-09-04T09:31:12.751+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","error":"close /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS: file already closed"}
{"level":"debug","time":"2025-09-04T09:31:12.751+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"debug","time":"2025-09-04T09:31:12.751+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"info","time":"2025-09-04T09:31:12.751+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"info","time":"2025-09-04T09:31:12.751+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":47}
{"level":"info","time":"2025-09-04T09:31:12.776+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","totalFiles":47}
{"level":"info","time":"2025-09-04T09:31:12.776+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T09:31:12.776+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","mode":"quality"}
{"level":"debug","time":"2025-09-04T09:31:12.776+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"warn","time":"2025-09-04T09:31:12.776+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","error":"close /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS: file already closed"}
{"level":"debug","time":"2025-09-04T09:31:12.777+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"debug","time":"2025-09-04T09:31:12.777+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"info","time":"2025-09-04T09:31:12.777+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"debug","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:325","msg":"扫描完成","总文件数":47,"已扫描文件数":47}
{"level":"debug","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:327","msg":"快速扫描完成","total_files":47,"scanned_files":47,"skipped_files":0}
{"level":"debug","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:333","msg":"实际需要处理的文件数量","process_queue_size":47}
{"level":"info","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:550","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"info","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:564","msg":"开始深度分析","文件数量":0}
{"level":"info","time":"2025-09-04T09:31:12.831+0800","caller":"converter/batch_processor.go:660","msg":"深度分析完成","分析文件数":0}
{"level":"info","time":"2025-09-04T09:31:12.931+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":47,"task_queue_size":47,"corrupted_files":0}
{"level":"info","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:999","msg":"开始批处理原子性操作","task_count":47}
{"level":"info","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:1428","msg":"开始预检查阶段","file_count":47}
{"level":"info","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:1447","msg":"预检查阶段完成"}
{"level":"info","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:1453","msg":"开始原子性批处理","file_count":47}
{"level":"debug","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:1039","msg":"开始批处理文件","文件总数":47}
{"level":"error","time":"2025-09-04T09:31:12.932+0800","caller":"converter/batch_processor.go:1117","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression0.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1117\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1510\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1464\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1007\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:351\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1033\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:65\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.998667ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.059833ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.0725ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.081875ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.089708ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.097ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.106166ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.113334ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.19775ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/advanced_pool.go:347","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.21225ms"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","size_mb":0}
{"level":"error","time":"2025-09-04T09:31:12.938+0800","caller":"converter/strategy.go:978","msg":"DEBUG: 品质模式：转换JPEG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","stacktrace":"pixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:978\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp","size_mb":0}
{"level":"error","time":"2025-09-04T09:31:12.938+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","--lossless_jpeg=1","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","actualOutputPath":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:979\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:31:12.938+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/strategy.go:999","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.temp.png","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.temp.png"}
{"level":"debug","time":"2025-09-04T09:31:12.939+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.940+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:12.941+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.942+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:12.943+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:12.943+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:12.944+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif"}
{"level":"warn","time":"2025-09-04T09:31:12.973+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:31:13.005+0800","caller":"converter/strategy.go:986","msg":"品质模式：转换PNG为JXL (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png"}
{"level":"error","time":"2025-09-04T09:31:13.005+0800","caller":"converter/image.go:430","msg":"DEBUG: Before executing cjxl command","tool":"/opt/homebrew/bin/cjxl","args":["/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","--distance=0","-e","9"],"inputPath":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","actualOutputPath":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","originalFile":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","isInPlace":true,"inputExists":true,"outputDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","stacktrace":"pixly/pkg/converter.(*Converter).convertToJXLLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:430\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:987\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1172\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1332"}
{"level":"warn","time":"2025-09-04T09:31:13.005+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[webp @ 0xcb340c380] missing RIFF tag\n[image2 @ 0xcb2c38000] Could not find codec parameters for stream 0 (Video: webp, none): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 5 kb/s\n  Stream #0:0: Video: webp, none, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xcb2c38280] Requested output format 'png' is not known.\n[out#0 @ 0xcb3400300] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:31:13.006+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png"}
{"level":"debug","time":"2025-09-04T09:31:13.006+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jxl.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.008+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.009+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.009+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.009+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.009+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.009+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/strategy.go:991","msg":"品质模式：转换动图为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.avif.tmp"}
{"level":"debug","time":"2025-09-04T09:31:13.010+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.avif.tmp"}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif\n","attempt":1}
{"level":"warn","time":"2025-09-04T09:31:13.017+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif\n","attempt":1}
{"level":"debug","time":"2025-09-04T09:31:13.030+0800","caller":"converter/strategy.go:983","msg":"品质模式：转换PNG为AVIF (无损)","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png"}
{"level":"debug","time":"2025-09-04T09:31:13.030+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png"}
{"level":"debug","time":"2025-09-04T09:31:13.030+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.avif.tmp"}
{"level":"error","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1467","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1467\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1007\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:351\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1033\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:65\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T09:31:13.033+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif","error":"context canceled"}
{"level":"info","time":"2025-09-04T09:31:13.033+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":4.25531914893617,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif","error":"context canceled"}
{"level":"error","time":"2025-09-04T09:31:13.033+0800","caller":"converter/advanced_pool.go:330","msg":"提交优先级任务失败","taskID":"","priority":1,"error":"this pool has been closed","stacktrace":"pixly/pkg/converter.(*AdvancedPool).priorityScheduler\n\t/Users/nameko_1/Downloads/test/pkg/converter/advanced_pool.go:330"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":2.127659574468085,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1307","msg":"文件处理超时或被取消","file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","error":"context canceled"}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":6.382978723404255,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_256colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":8.51063829787234,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_32colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":10.638297872340425,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_16colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":12.76595744680851,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_64colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":14.893617021276595,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":17.02127659574468,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":19.148936170212767,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":21.27659574468085,"file":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/corrupted_fake.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T09:31:13.033+0800","caller":"converter/batch_processor.go:1111","msg":"批处理进度","已处理":10,"总数":47}
{"level":"info","time":"2025-09-04T09:31:18.448+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.3"}
{"level":"debug","time":"2025-09-04T09:31:18.448+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.3","verbose":true}
{"level":"info","time":"2025-09-04T09:31:18.448+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"info","time":"2025-09-04T09:31:18.448+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":2,"最大大小":4,"启用优先级":true,"启用监控":true}
{"level":"info","time":"2025-09-04T09:31:18.462+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T09:31:18.462+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T09:31:18.462+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"info","time":"2025-09-04T09:31:18.463+0800","caller":"converter/converter.go:283","msg":"发现未完成的转换会话","sessionID":"TEST_QUALITY_VARIATIONS_1756949472","targetDir":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS","completed":0,"total":47}
{"level":"info","time":"2025-09-04T09:31:18.463+0800","caller":"converter/converter.go:296","msg":"成功恢复转换会话，继续处理未完成的文件"}
{"level":"info","time":"2025-09-04T09:31:18.463+0800","caller":"converter/converter.go:1140","msg":"所有文件已完成，清理会话"}
{"level":"debug","time":"2025-09-04T09:31:18.479+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T09:31:18.479+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"info","time":"2025-09-04T09:31:18.479+0800","caller":"converter/advanced_pool.go:549","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T09:31:18.479+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T09:31:29.976+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.3"}
{"level":"debug","time":"2025-09-04T09:31:29.976+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.3","verbose":true}
{"level":"info","time":"2025-09-04T09:31:29.976+0800","caller":"cmd/analyze.go:41","msg":"开始分析媒体文件","target":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS"}
{"level":"info","time":"2025-09-04T11:18:36.653+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"info","time":"2025-09-04T11:18:36.654+0800","caller":"cmd/root.go:143","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T11:18:36.705+0800","caller":"cmd/root.go:147","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T11:18:37.515+0800","caller":"cmd/root.go:162","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T11:18:40.258+0800","caller":"cmd/root.go:205","msg":"方向键菜单选择结果","result":{"SelectedIndex":0,"Cancelled":false}}
{"level":"debug","time":"2025-09-04T11:19:06.883+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:19:06.883+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"warn","time":"2025-09-04T11:19:06.906+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","error":"close /Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name: file already closed"}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.906+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.907+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T11:19:06.923+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","totalFiles":5}
{"level":"debug","time":"2025-09-04T11:19:06.923+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:19:06.923+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:19:06.923+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"warn","time":"2025-09-04T11:19:06.923+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","error":"close /Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name: file already closed"}
{"level":"debug","time":"2025-09-04T11:19:06.924+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.924+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.924+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":6,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":6,"scanned_files":3,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:19:06.933+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:19:07.033+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/batch_processor.go:1436","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/batch_processor.go:1455","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/batch_processor.go:1461","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"645.833µs"}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"669.125µs"}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"675.791µs"}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.034+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.222+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":33.33333333333333,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":66.66666666666666,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:19:07.255+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/batch_processor.go:1485","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_111907.json"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_111907.txt"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif"}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","output_path":"","verifying_path":""}
{"level":"warn","time":"2025-09-04T11:19:07.356+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: ","输出文件不存在: ","输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:19:07.375+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:19:11.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:16.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:21.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:26.884+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:31.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:36.883+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:19:36.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:36.906+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:19:41.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:46.884+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:51.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:19:56.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:01.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:06.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:06.883+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:20:06.906+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:20:11.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:16.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:21.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:26.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:31.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:36.883+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:20:36.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:36.905+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:20:41.885+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:46.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:51.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:20:56.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:01.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:06.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:06.883+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:21:06.906+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:21:11.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:16.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:21.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:26.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:31.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:36.883+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:21:36.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:36.905+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:21:41.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:46.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"debug","time":"2025-09-04T11:21:51.883+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"21.125µs","平均执行":"220.618416ms"}
{"level":"info","time":"2025-09-04T11:22:02.197+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:22:02.197+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:22:02.197+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:22:02.212+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:22:02.212+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:22:02.212+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:22:02.212+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"error","time":"2025-09-04T11:22:02.212+0800","caller":"converter/converter.go:395","msg":"路径权限检查失败","path":"/Users/nameko_1/Downloads/test/test_media","error":"路径不存在: /Users/nameko_1/Downloads/test/test_media","stacktrace":"pixly/pkg/converter.(*Converter).checkPathPermissions\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:395\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:303\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1044\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:65\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T11:22:02.212+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:22:02.313+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:22:02.313+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:22:02.313+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:22:19.368+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:22:19.370+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:22:19.370+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:22:19.409+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:22:19.409+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:22:19.410+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:22:19.410+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.411+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.411+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.411+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.411+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:22:19.418+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test/test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:22:19.418+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:22:19.418+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test/test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:22:19.418+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.419+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.419+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.419+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":3,"skipped_files":0}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:22:19.421+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:1436","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:1455","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:1461","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:22:19.522+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.425584ms"}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.448917ms"}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.455834ms"}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test1.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test3.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:19.525+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:19.716+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:19.716+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:19.716+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.webp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:19.748+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.webp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:19.748+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png"}
{"level":"debug","time":"2025-09-04T11:22:19.780+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","normalized":"/Users/nameko_1/Downloads/test/test_media/test2.jpg"}
{"level":"debug","time":"2025-09-04T11:22:19.780+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test2.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test2.jxl.tmp"}
{"level":"debug","time":"2025-09-04T11:22:19.781+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:19.782+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:19.782+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:19.782+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:22:19.783+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb53414280] Requested output format 'png' is not known.\n[out#0 @ 0xb52c08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:22:19.800+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_media/test2.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_media/test2.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/image.go:467","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","new":"/Users/nameko_1/Downloads/test/test_media/test2.jxl"}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/batch_processor.go:1295","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","new":"/Users/nameko_1/Downloads/test/test_media/test2.jxl"}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/batch_processor.go:1313","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_media/test2.jxl","mod_time":"2025-09-04T11:22:12.929+0800"}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/batch_processor.go:1302","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","temp_output":"/Users/nameko_1/Downloads/test/test_media/test2.jxl"}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:19.847+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test2.jpg"}
{"level":"warn","time":"2025-09-04T11:22:20.806+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:22:20.818+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x791020280] Requested output format 'png' is not known.\n[out#0 @ 0x790c08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:22:22.814+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"warn","time":"2025-09-04T11:22:22.853+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0cc3c280] Requested output format 'png' is not known.\n[out#0 @ 0xc0d044240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:22:24.370+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":2,"排队任务":0,"已完成":1,"失败":0,"平均等待":"21.916µs","平均执行":"322.389375ms"}
{"level":"error","time":"2025-09-04T11:22:25.814+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:215\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:262\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:22:25.814+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:25.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:25.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:22:25.849+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test1.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9bd03c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9bcc08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"error","time":"2025-09-04T11:22:25.853+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc0cc3c280] Requested output format 'png' is not known.\n[out#0 @ 0xc0d044240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:188\npixly/pkg/converter.(*Converter).convertWebPToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:278\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:796\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:22:25.854+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:25.854+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.webp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:25.854+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:22:25.890+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7a6c58280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7a7028240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:22:26.881+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test1.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7bd044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7bcc08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:22:26.924+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a6c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9a7028240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:22:28.921+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test1.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9ccc3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9cd048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"warn","time":"2025-09-04T11:22:28.956+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9f1060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9f0c44240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:22:29.370+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":2,"排队任务":0,"已完成":1,"失败":0,"平均等待":"21.916µs","平均执行":"322.389375ms"}
{"level":"error","time":"2025-09-04T11:22:31.922+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test1.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9ccc3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9cd048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test1.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:307\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"error","time":"2025-09-04T11:22:31.956+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test3.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 100x100, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9f1060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9f0c44240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test3.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:307\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:820\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:22:31.990+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test1.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:22:31.990+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:31.990+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:22:32.012+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test1.png","output":"/Users/nameko_1/Downloads/test/test_media/test1.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:22:32.012+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test1.png","result":"/Users/nameko_1/Downloads/test/test_media/test1.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:22:32.012+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:32.012+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test1.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test1.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:22:32.018+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test1.png","output":"/Users/nameko_1/Downloads/test/test_media/test1.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:22:32.018+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test1.png","result":"/Users/nameko_1/Downloads/test/test_media/test1.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:22:32.018+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:32.018+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test1.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:32.018+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:32.023+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp","complexity":0.5,"noise":0.55,"compression_potential":0.3,"content_type":"mixed","quality_score":40}
{"level":"debug","time":"2025-09-04T11:22:32.023+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.webp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:32.023+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.avif.tmp"}
{"level":"warn","time":"2025-09-04T11:22:32.027+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:22:33.030+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:22:34.371+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":1,"排队任务":0,"已完成":2,"失败":0,"平均等待":"18.458µs","平均执行":"6.407868354s"}
{"level":"warn","time":"2025-09-04T11:22:35.034+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":3}
{"level":"error","time":"2025-09-04T11:22:38.035+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:868\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:22:38.035+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.webp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:38.035+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test3.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test3.avif.tmp"}
{"level":"warn","time":"2025-09-04T11:22:38.038+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:22:39.042+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:22:39.370+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":1,"排队任务":0,"已完成":2,"失败":0,"平均等待":"18.458µs","平均执行":"6.407868354s"}
{"level":"warn","time":"2025-09-04T11:22:41.046+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","attempt":3}
{"level":"error","time":"2025-09-04T11:22:44.046+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_media/test3.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:21\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:868\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test3.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test3.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:22:44.046+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:22:44.147+0800","caller":"converter/batch_processor.go:1485","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:22:44.147+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:22:44.147+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:22:44.196+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_112244.json"}
{"level":"debug","time":"2025-09-04T11:22:44.196+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_112244.txt"}
{"level":"debug","time":"2025-09-04T11:22:44.196+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:22:44.196+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test2.jpg","output_path":"/Users/nameko_1/Downloads/test/test_media/test2.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test2.jxl"}
{"level":"debug","time":"2025-09-04T11:22:44.197+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test1.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test1.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test1.png"}
{"level":"debug","time":"2025-09-04T11:22:44.197+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test3.webp","output_path":"/Users/nameko_1/Downloads/test/test_media/test3.webp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test3.webp"}
{"level":"debug","time":"2025-09-04T11:22:44.197+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T11:22:44.203+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:22:44.303+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:22:44.303+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:22:44.303+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:23:58.421+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:23:58.424+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:23:58.425+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:23:58.445+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:23:58.445+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:23:58.445+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:23:58.446+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.446+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.446+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.446+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.446+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test/test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test/test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.463+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:23:58.464+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:23:58.464+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":3,"skipped_files":0}
{"level":"debug","time":"2025-09-04T11:23:58.464+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:23:58.464+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:23:58.465+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:23:58.465+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:1436","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:1455","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:1461","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:23:58.565+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:23:58.576+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.850958ms"}
{"level":"debug","time":"2025-09-04T11:23:58.576+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.908708ms"}
{"level":"debug","time":"2025-09-04T11:23:58.576+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.918125ms"}
{"level":"debug","time":"2025-09-04T11:23:58.576+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T11:23:58.577+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:23:58.577+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:23:58.717+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:23:58.717+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:23:58.717+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:23:58.717+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:23:58.717+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","normalized":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl.tmp"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:23:58.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:23:58.831+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"debug","time":"2025-09-04T11:23:58.844+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","in_place":true}
{"level":"debug","time":"2025-09-04T11:23:58.844+0800","caller":"converter/image.go:467","msg":"Atomically replaced original file","original":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","new":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:23:58.845+0800","caller":"converter/batch_processor.go:1295","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","new":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:23:58.845+0800","caller":"converter/batch_processor.go:1313","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","mod_time":"2025-09-04T11:23:52.422+0800"}
{"level":"debug","time":"2025-09-04T11:23:58.845+0800","caller":"converter/batch_processor.go:1302","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","temp_output":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:23:58.845+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","size_mb":0}
{"level":"debug","time":"2025-09-04T11:23:58.845+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg"}
{"level":"warn","time":"2025-09-04T11:23:59.845+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:24:01.853+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:24:03.425+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":1,"排队任务":0,"已完成":2,"失败":0,"平均等待":"19.125µs","平均执行":"204.324062ms"}
{"level":"error","time":"2025-09-04T11:24:04.853+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:215\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:262\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:24:04.853+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:04.853+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:04.853+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:24:04.893+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa77040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa76c64240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:24:05.940+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a4c3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9a5044240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:24:07.998+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x71d060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x71cc44240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:24:08.425+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":1,"排队任务":0,"已完成":2,"失败":0,"平均等待":"19.125µs","平均执行":"204.324062ms"}
{"level":"error","time":"2025-09-04T11:24:10.999+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x71d060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x71cc44240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:307\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1340"}
{"level":"debug","time":"2025-09-04T11:24:11.089+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:24:11.089+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:11.089+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:24:11.115+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:24:11.115+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:24:11.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:11.115+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:24:11.124+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:24:11.225+0800","caller":"converter/batch_processor.go:1485","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:24:11.225+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:24:11.225+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_112411.json"}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_112411.txt"}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jpg","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:24:11.264+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:24:11.301+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:24:11.403+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:24:11.403+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:24:11.403+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:25:42.192+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"info","time":"2025-09-04T11:25:42.193+0800","caller":"cmd/root.go:143","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T11:25:42.245+0800","caller":"cmd/root.go:147","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T11:25:42.878+0800","caller":"cmd/root.go:162","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T11:25:46.774+0800","caller":"cmd/root.go:205","msg":"方向键菜单选择结果","result":{"SelectedIndex":0,"Cancelled":false}}
{"level":"debug","time":"2025-09-04T11:26:01.362+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:26:01.363+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:26:01.455+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:26:01.455+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:26:01.456+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:26:01.458+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.464+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.464+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.464+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.473+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T11:26:01.542+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","totalFiles":5}
{"level":"debug","time":"2025-09-04T11:26:01.542+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:26:01.542+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:26:01.542+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.543+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.543+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.543+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:26:01.554+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":6,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:26:01.554+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":6,"scanned_files":3,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:26:01.554+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:26:01.554+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:26:01.554+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:26:01.555+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:26:01.555+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:26:01.655+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:26:01.655+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:26:01.655+0800","caller":"converter/batch_processor.go:1436","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:26:01.655+0800","caller":"converter/batch_processor.go:1455","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:26:01.655+0800","caller":"converter/batch_processor.go:1461","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:26:01.656+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:26:01.665+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.484083ms"}
{"level":"debug","time":"2025-09-04T11:26:01.665+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.589917ms"}
{"level":"debug","time":"2025-09-04T11:26:01.665+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.6165ms"}
{"level":"debug","time":"2025-09-04T11:26:01.665+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.667+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.667+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.889+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":33.33333333333333,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":66.66666666666666,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:26:01.923+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:26:02.025+0800","caller":"converter/batch_processor.go:1485","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:26:02.025+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:26:02.025+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:26:02.025+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_112602.json"}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_112602.txt"}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif"}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif"}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","output_path":"","verifying_path":""}
{"level":"warn","time":"2025-09-04T11:26:02.026+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: ","输出文件不存在: ","输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:26:02.065+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:26:06.364+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:11.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:16.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:21.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:26.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:31.363+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:26:31.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:31.456+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:26:36.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:41.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:46.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:51.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:26:56.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:27:01.363+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:27:01.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:27:01.455+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:27:06.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:27:11.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"debug","time":"2025-09-04T11:27:16.363+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"30.555µs","平均执行":"257.889916ms"}
{"level":"info","time":"2025-09-04T11:28:46.276+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:28:46.276+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:28:46.276+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"./test_media"}
{"level":"warn","time":"2025-09-04T11:28:46.292+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_media","error":"close /Users/nameko_1/Downloads/test/test_media: file already closed"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"./test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"./test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.292+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"./test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"./test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"./test_media"}
{"level":"warn","time":"2025-09-04T11:28:46.309+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_media","error":"close /Users/nameko_1/Downloads/test/test_media: file already closed"}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"./test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.309+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"./test_media"}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:28:46.318+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:28:46.418+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:28:46.428+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.953917ms"}
{"level":"debug","time":"2025-09-04T11:28:46.428+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.002875ms"}
{"level":"debug","time":"2025-09-04T11:28:46.428+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:28:46.428+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:28:46.589+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:28:46.589+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:28:46.589+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:28:46.589+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:28:46.589+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:28:46.683+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:46.683+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:46.683+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:46.683+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:28:46.700+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:28:47.707+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:28:49.724+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:28:51.276+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"29.042µs","平均执行":"161.481ms"}
{"level":"error","time":"2025-09-04T11:28:52.725+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:215\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:262\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T11:28:52.725+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:52.725+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:52.725+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:28:52.774+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc91044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc90c68240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:28:53.812+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xac0c60280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xac1024240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:28:55.858+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa99044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa98c2cd80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:28:56.276+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"29.042µs","平均执行":"161.481ms"}
{"level":"error","time":"2025-09-04T11:28:58.858+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa99044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa98c2cd80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:307\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T11:28:58.946+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:28:58.946+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:58.946+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:28:58.973+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:28:58.973+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:28:58.973+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:58.973+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:28:58.982+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:28:59.083+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:28:59.083+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:28:59.083+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_112859.json"}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_112859.txt"}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:28:59.084+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:28:59.099+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:28:59.199+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:28:59.199+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:28:59.199+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:29:56.305+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:29:56.308+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:29:56.308+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:29:56.368+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:29:56.368+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:29:56.368+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:29:56.371+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"warn","time":"2025-09-04T11:29:56.371+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_media","error":"close /Users/nameko_1/Downloads/test/test_media: file already closed"}
{"level":"debug","time":"2025-09-04T11:29:56.371+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.371+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.371+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.371+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:29:56.391+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:29:56.391+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:29:56.391+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:29:56.391+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"warn","time":"2025-09-04T11:29:56.392+0800","caller":"converter/path_security.go:179","msg":"Failed to close directory during read permission check","path":"/Users/nameko_1/Downloads/test/test_media","error":"close /Users/nameko_1/Downloads/test/test_media: file already closed"}
{"level":"debug","time":"2025-09-04T11:29:56.392+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.392+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.392+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:29:56.396+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:29:56.497+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:29:56.497+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:29:56.497+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:29:56.497+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:29:56.497+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:29:56.500+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:29:56.503+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.96425ms"}
{"level":"debug","time":"2025-09-04T11:29:56.503+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.047083ms"}
{"level":"debug","time":"2025-09-04T11:29:56.503+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:29:56.503+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:29:56.731+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:29:56.731+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:29:56.731+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:29:56.731+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:29:56.731+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:29:56.834+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:29:56.834+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:29:56.834+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:29:56.834+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:29:56.851+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:29:57.857+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:29:59.872+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:30:01.309+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"44.25µs","平均执行":"228.514333ms"}
{"level":"error","time":"2025-09-04T11:30:02.872+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:215\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:262\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T11:30:02.873+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:02.873+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:02.873+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:30:02.929+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc8705c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc86c08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:30:03.986+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x971044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x970c08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:30:06.046+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc6d024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc6cc29bc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:30:06.308+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"44.25µs","平均执行":"228.514333ms"}
{"level":"error","time":"2025-09-04T11:30:09.046+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc6d024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc6cc29bc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:307\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T11:30:09.143+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:30:09.143+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:09.143+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:30:09.169+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:30:09.169+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:30:09.169+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:09.169+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:30:09.179+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:30:09.279+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:30:09.279+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:30:09.279+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_113009.json"}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_113009.txt"}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:30:09.280+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:30:09.335+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:30:09.436+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:30:09.436+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:30:09.436+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:31:42.467+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"info","time":"2025-09-04T11:32:48.633+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:32:48.633+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:32:48.633+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:32:48.712+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:32:48.712+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:32:48.712+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:32:48.713+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.713+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.713+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.713+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.713+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.728+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:32:48.731+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:32:48.831+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:32:48.842+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.633708ms"}
{"level":"debug","time":"2025-09-04T11:32:48.842+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.669417ms"}
{"level":"debug","time":"2025-09-04T11:32:48.842+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:32:48.842+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:32:49.080+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:32:49.080+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:32:49.080+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:32:49.080+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:32:49.080+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:32:49.227+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:32:49.227+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:32:49.227+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:32:49.227+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:32:49.243+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:32:50.260+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:32:52.272+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:32:53.633+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"18.083µs","平均执行":"238.354625ms"}
{"level":"error","time":"2025-09-04T11:32:55.273+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:252\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:299\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:32:55.273+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:32:55.273+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:32:55.273+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:32:55.321+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x786c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x787048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:32:56.370+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x97d044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x97cc08900] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:32:58.417+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x98f040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x98ec84240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:32:58.634+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"18.083µs","平均执行":"238.354625ms"}
{"level":"error","time":"2025-09-04T11:33:01.418+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x98f040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x98ec84240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:344\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:33:01.522+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:33:01.522+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:33:01.522+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:33:01.548+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:33:01.585+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:33:01.585+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:33:01.585+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:33:01.585+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:33:01.594+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:33:01.625+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:33:01.725+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:33:01.725+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:33:01.725+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_113301.json"}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_113301.txt"}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:33:01.726+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:33:01.745+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:33:01.846+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:33:01.846+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:33:01.846+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:35:29.039+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:35:29.041+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:35:29.043+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:35:29.043+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:35:29.056+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:35:29.056+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:35:29.057+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:35:29.057+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.058+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.058+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.058+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.058+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:35:29.068+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:35:29.068+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:35:29.068+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:35:29.068+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.069+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.069+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.069+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:35:29.071+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:35:29.071+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:35:29.071+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:35:29.072+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:35:29.072+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:35:29.073+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:35:29.073+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:35:29.174+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:35:29.174+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:35:29.174+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:35:29.174+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:35:29.175+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:35:29.175+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:35:29.185+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.625708ms"}
{"level":"debug","time":"2025-09-04T11:35:29.185+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.679458ms"}
{"level":"debug","time":"2025-09-04T11:35:29.185+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:35:29.185+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:35:29.354+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:35:29.355+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:35:29.355+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:35:29.355+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:35:29.355+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:35:29.454+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:35:29.454+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:35:29.454+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:35:29.454+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:35:29.474+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:35:30.495+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:35:32.512+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:35:34.043+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.833µs","平均执行":"169.929625ms"}
{"level":"error","time":"2025-09-04T11:35:35.513+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:252\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:299\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:35:35.513+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:35:35.513+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:35:35.513+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:35:35.589+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x772c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x773028240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:35:36.648+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e6c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7e7028240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:35:38.709+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc5ac20280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc5b064240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:35:39.043+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.833µs","平均执行":"169.929625ms"}
{"level":"error","time":"2025-09-04T11:35:41.710+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc5ac20280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc5b064240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:344\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"info","time":"2025-09-04T11:36:12.579+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:36:12.579+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:36:12.579+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:36:12.579+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/converter.go:283","msg":"发现未完成的转换会话","sessionID":"test_media_1756956929","targetDir":"test_media","completed":0,"total":3}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/converter.go:296","msg":"成功恢复转换会话，继续处理未完成的文件"}
{"level":"debug","time":"2025-09-04T11:36:12.630+0800","caller":"converter/converter.go:1140","msg":"所有文件已完成，清理会话"}
{"level":"debug","time":"2025-09-04T11:36:12.654+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:36:12.757+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:36:12.758+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:36:12.758+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:36:28.967+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:36:28.970+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:36:28.970+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:36:28.971+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:36:29.045+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:36:29.045+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:36:29.045+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:36:29.046+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.046+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.046+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.046+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.046+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.059+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:36:29.060+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:36:29.060+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:36:29.060+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:36:29.060+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:36:29.060+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:36:29.061+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:36:29.061+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:36:29.161+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:36:29.166+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.15425ms"}
{"level":"debug","time":"2025-09-04T11:36:29.167+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.1975ms"}
{"level":"debug","time":"2025-09-04T11:36:29.167+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:36:29.167+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:36:29.395+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:36:29.395+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:36:29.395+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:36:29.395+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:36:29.395+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:36:29.488+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:29.488+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:29.488+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:29.488+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:36:29.506+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:36:30.523+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:36:32.539+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:36:33.971+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"25.458µs","平均执行":"228.647542ms"}
{"level":"error","time":"2025-09-04T11:36:35.540+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --lossless\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:252\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:299\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:36:35.541+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:35.541+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:35.541+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:36:35.592+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8fec3c280] Requested output format 'jxl' is not known.\n[out#0 @ 0x8ff048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:36:36.638+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc8d048280] Requested output format 'jxl' is not known.\n[out#0 @ 0xc8cc88240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:36:38.675+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x990c20280] Requested output format 'jxl' is not known.\n[out#0 @ 0x991064240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:36:38.971+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"25.458µs","平均执行":"228.647542ms"}
{"level":"error","time":"2025-09-04T11:36:41.675+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x990c20280] Requested output format 'jxl' is not known.\n[out#0 @ 0x991064240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:345\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:36:41.769+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:36:41.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:41.769+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:36:41.804+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:36:41.842+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:36:41.842+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:36:41.842+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:41.842+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:36:41.851+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:36:41.882+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:36:41.882+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:36:41.883+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:36:41.984+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:36:41.984+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:36:41.984+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_113641.json"}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_113641.txt"}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:36:41.985+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:36:42.005+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:36:42.106+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:36:42.106+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:36:42.106+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:41:10.292+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:41:10.292+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:41:10.292+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:41:10.292+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.312+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.327+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:41:10.329+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:41:10.430+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:41:10.432+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.35525ms"}
{"level":"debug","time":"2025-09-04T11:41:10.432+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.371542ms"}
{"level":"debug","time":"2025-09-04T11:41:10.432+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:41:10.432+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:41:10.615+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:41:10.615+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:41:10.615+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:41:10.616+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:41:10.616+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:41:10.708+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:10.708+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:10.708+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:10.708+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:41:10.724+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --alpha_quality=100\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:41:11.741+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --alpha_quality=100\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:41:13.758+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --alpha_quality=100\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:41:15.292+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.958µs","平均执行":"183.724709ms"}
{"level":"error","time":"2025-09-04T11:41:16.758+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --alpha_quality=100\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:252\npixly/pkg/converter.(*Converter).convertPNGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:299\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:793\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:661\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:41:16.758+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:16.758+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:16.758+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:41:16.807+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x707040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x706c80240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:41:17.846+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbbec54280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbbf028240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:41:19.897+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9aac3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9ab048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:41:20.292+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":2,"空闲":8,"活跃工作者":1,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.958µs","平均执行":"183.724709ms"}
{"level":"error","time":"2025-09-04T11:41:22.899+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, png_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_red.png':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: png, pal8(pc, gbr/bt709/unknown), 200x200, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9aac3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9ab048240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:344\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:817\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:41:22.990+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","complexity":0.5,"noise":0,"compression_potential":1,"content_type":"graphic","quality_score":70}
{"level":"debug","time":"2025-09-04T11:41:22.991+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:22.991+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:41:23.019+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:41:23.059+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:41:23.059+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":60}
{"level":"debug","time":"2025-09-04T11:41:23.059+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:23.059+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:41:23.068+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.avif.tmp"}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","format":".avif"}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.avif","quality":55}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/strategy.go:772","msg":"平衡优化：无显著体积减小，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:41:23.100+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:41:23.200+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:41:23.200+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:41:23.200+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_114123.json"}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_114123.txt"}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"warn","time":"2025-09-04T11:41:23.201+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:41:23.222+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:41:23.322+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:41:23.322+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:41:23.322+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:43:31.939+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:43:31.941+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:43:31.941+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:43:31.941+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:43:31.996+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:43:31.996+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:43:31.996+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:43:31.997+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:31.997+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:43:31.997+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:31.997+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:31.997+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:32.010+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":2,"skipped_files":1}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":1}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:43:32.013+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T11:43:32.113+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T11:43:32.124+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.343833ms"}
{"level":"debug","time":"2025-09-04T11:43:32.124+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.410292ms"}
{"level":"debug","time":"2025-09-04T11:43:32.124+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:43:32.124+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:43:32.289+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:43:32.289+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:43:32.289+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":""}
{"level":"debug","time":"2025-09-04T11:43:32.289+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:43:32.289+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:43:32.381+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:43:32.381+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:43:32.381+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:43:32.381+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"debug","time":"2025-09-04T11:43:32.459+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/error_handler.go:421","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","in_place":false}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/image.go:270","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","original_size":329}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","result":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/batch_processor.go:1298","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_media/test_red.png","new":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/batch_processor.go:1316","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","mod_time":"2025-09-04T11:23:52.408+0800"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/batch_processor.go:1305","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","temp_output":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_red.png","size_mb":0}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_red.png"}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T11:43:32.495+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T11:43:32.596+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:43:32.596+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:43:32.597+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_114332.json"}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_114332.txt"}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"warn","time":"2025-09-04T11:43:32.637+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:43:32.659+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:43:32.760+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:43:32.760+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:43:32.760+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:46:17.290+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:46:17.290+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:46:17.290+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:46:17.290+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.307+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.323+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:46:17.324+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:46:17.428+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:46:17.428+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T11:46:17.428+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T11:46:17.428+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:46:17.428+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T11:46:17.437+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T11:46:17.447+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.86125ms"}
{"level":"debug","time":"2025-09-04T11:46:17.447+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:46:17.711+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:17.711+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:17.711+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:17.711+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:17.711+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:46:17.837+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7f6804280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7f7044180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:46:18.924+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc73040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc72858180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:46:20.976+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb24c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb25048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:46:22.290+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:46:23.977+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb24c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb25048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:46:24.053+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T11:46:24.054+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:24.054+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:46:24.073+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:46:25.091+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:46:27.110+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:46:27.290+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:46:30.111+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:46:30.111+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:30.112+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:46:30.132+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:46:31.149+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:46:32.290+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T11:46:33.156+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","attempt":3}
{"level":"error","time":"2025-09-04T11:46:36.157+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"Unknown argument: --qcolor\nUse '/opt/homebrew/bin/cjxl -h' for more information\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T11:46:36.158+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T11:46:36.258+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:46:36.259+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:46:36.259+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_114636.json"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_114636.txt"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:46:36.260+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T11:46:36.278+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:46:36.378+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:46:36.378+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:46:36.378+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:48:19.254+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.5"}
{"level":"debug","time":"2025-09-04T11:48:19.255+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.5","verbose":true}
{"level":"debug","time":"2025-09-04T11:48:19.255+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:48:19.255+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:48:19.271+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:48:19.276+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:48:19.276+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:48:19.276+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.277+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.277+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.277+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.277+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:48:19.302+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:48:19.303+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:48:19.303+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:48:19.303+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.304+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.304+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.304+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:48:19.307+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T11:48:19.410+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T11:48:19.420+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.854958ms"}
{"level":"debug","time":"2025-09-04T11:48:19.420+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:48:19.625+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:19.625+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:19.625+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:19.625+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:19.625+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:48:19.664+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x86d064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x86cc08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:48:20.709+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa5f060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa5ec44180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:48:22.747+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8f8c40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8f9048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:48:24.255+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:48:25.748+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8f8c40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8f9048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:48:25.814+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T11:48:25.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:25.814+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:48:25.837+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:48:26.845+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:48:28.859+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:48:29.256+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:48:31.860+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:48:31.862+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:31.862+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:48:31.881+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:48:32.896+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:48:34.255+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T11:48:34.910+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T11:48:37.910+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T11:48:37.911+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T11:48:38.012+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:48:38.012+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:48:38.012+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_114838.json"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_114838.txt"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:48:38.014+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T11:48:38.031+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:48:38.132+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:48:38.132+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:48:38.132+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:52:56.990+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"info","time":"2025-09-04T11:52:56.990+0800","caller":"cmd/root.go:143","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T11:52:57.042+0800","caller":"cmd/root.go:147","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T11:52:57.654+0800","caller":"cmd/root.go:162","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T11:53:00.185+0800","caller":"cmd/root.go:205","msg":"方向键菜单选择结果","result":{"SelectedIndex":0,"Cancelled":false}}
{"level":"debug","time":"2025-09-04T11:53:19.954+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:53:19.954+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:19.972+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:19.973+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","totalFiles":5}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:20.016+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":6,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":6,"scanned_files":3,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:53:20.022+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:53:20.122+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:53:20.123+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:53:20.123+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:53:20.123+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:53:20.123+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:53:20.123+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.573625ms"}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.641916ms"}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.650792ms"}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.128+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.353+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.353+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.353+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.353+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.354+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.354+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":33.33333333333333,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":66.66666666666666,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:53:20.399+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:53:20.500+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:53:20.500+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:53:20.500+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:53:20.501+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_115320.json"}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_115320.txt"}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif"}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif"}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","output_path":"","verifying_path":""}
{"level":"warn","time":"2025-09-04T11:53:20.502+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: ","输出文件不存在: ","输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:53:20.515+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:53:24.955+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"20.125µs","平均执行":"270.995889ms"}
{"level":"debug","time":"2025-09-04T11:53:29.955+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"20.125µs","平均执行":"270.995889ms"}
{"level":"debug","time":"2025-09-04T11:53:34.955+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"20.125µs","平均执行":"270.995889ms"}
{"level":"info","time":"2025-09-04T11:53:49.921+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"info","time":"2025-09-04T11:56:37.247+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T11:56:37.247+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T11:56:37.248+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:56:37.248+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:56:37.294+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:56:37.294+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.295+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.313+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.314+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:56:37.316+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T11:56:37.417+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T11:56:37.421+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.3645ms"}
{"level":"debug","time":"2025-09-04T11:56:37.421+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:56:37.587+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:37.587+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:37.587+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:37.587+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:37.587+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:56:37.623+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8f1024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8f0c2ccc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:56:38.659+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x86b064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x86ac68180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:56:40.694+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb7ec24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb7f030cc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:56:42.248+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:56:43.694+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb7ec24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb7f030cc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:56:43.747+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T11:56:43.747+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:43.747+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:56:43.770+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:56:44.788+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:56:46.807+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:56:47.248+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:56:49.807+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:56:49.808+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:49.808+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:56:49.825+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:56:50.840+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:56:52.248+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T11:56:52.856+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T11:56:55.857+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:56:55.857+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:55.857+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:56:55.858+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:55.858+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:56:55.858+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:55.858+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T11:56:55.858+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T11:56:55.959+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:56:55.959+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:56:55.959+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:56:55.960+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_115655.json"}
{"level":"debug","time":"2025-09-04T11:56:55.960+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_115655.txt"}
{"level":"debug","time":"2025-09-04T11:56:55.961+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:56:55.961+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:56:55.961+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:56:55.961+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:56:55.961+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T11:56:55.984+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:56:56.085+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:56:56.085+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:56:56.085+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T11:57:11.809+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"info","time":"2025-09-04T11:57:11.811+0800","caller":"cmd/root.go:143","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T11:57:11.862+0800","caller":"cmd/root.go:147","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T11:57:12.414+0800","caller":"cmd/root.go:162","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T11:57:19.061+0800","caller":"cmd/root.go:205","msg":"方向键菜单选择结果","result":{"SelectedIndex":0,"Cancelled":false}}
{"level":"info","time":"2025-09-04T11:57:29.408+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"info","time":"2025-09-04T11:57:29.408+0800","caller":"cmd/root.go:143","msg":"进入showMainMenu函数"}
{"level":"info","time":"2025-09-04T11:57:29.459+0800","caller":"cmd/root.go:147","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T11:57:29.983+0800","caller":"cmd/root.go:162","msg":"进入主菜单循环"}
{"level":"info","time":"2025-09-04T11:57:37.877+0800","caller":"cmd/root.go:205","msg":"方向键菜单选择结果","result":{"SelectedIndex":0,"Cancelled":false}}
{"level":"debug","time":"2025-09-04T11:57:50.128+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:57:50.129+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:57:50.149+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:57:50.149+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:57:50.149+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:57:50.149+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.150+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.150+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.150+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.150+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T11:57:50.163+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","totalFiles":5}
{"level":"debug","time":"2025-09-04T11:57:50.163+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:57:50.163+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:57:50.163+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.164+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.164+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.164+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name"}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":6,"已扫描文件数":3}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":6,"scanned_files":3,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":3}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:57:50.173+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:57:50.274+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":3,"task_queue_size":3,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:57:50.274+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":3}
{"level":"debug","time":"2025-09-04T11:57:50.274+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":3}
{"level":"debug","time":"2025-09-04T11:57:50.275+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:57:50.275+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":3}
{"level":"debug","time":"2025-09-04T11:57:50.275+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":3}
{"level":"debug","time":"2025-09-04T11:57:50.279+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.274625ms"}
{"level":"debug","time":"2025-09-04T11:57:50.279+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.450875ms"}
{"level":"debug","time":"2025-09-04T11:57:50.279+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.491875ms"}
{"level":"debug","time":"2025-09-04T11:57:50.279+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.282+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.282+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/strategy.go:1022","msg":"品质模式：转换WebP为JXL (无损)","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.496+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","normalized":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.527+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.527+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":33.33333333333333,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":66.66666666666666,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp"}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":3,"总数":3}
{"level":"debug","time":"2025-09-04T11:57:50.528+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":3}
{"level":"debug","time":"2025-09-04T11:57:50.628+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:57:50.628+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:57:50.628+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_115750.json"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_115750.txt"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.avif"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","output_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif","verifying_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.avif"}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/1.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/Cache_-5cb0a0b4ae783064.webp","output_path":"","verifying_path":""}
{"level":"debug","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test_副本/TEST/🆕 Avif动图和表情包测试使用_MuseDash 三人日常 2.0 📁 测フォ_Folder Name/2.webp","output_path":"","verifying_path":""}
{"level":"warn","time":"2025-09-04T11:57:50.629+0800","caller":"converter/report.go:622","msg":"发现验证错误","errors":["输出文件不存在: ","输出文件不存在: ","输出文件不存在: "]}
{"level":"debug","time":"2025-09-04T11:57:50.643+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:57:55.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:00.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:05.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:10.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:15.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:20.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:20.129+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:58:20.150+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:58:25.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:30.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:35.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:40.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:45.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:50.129+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T11:58:50.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:58:50.150+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T11:58:55.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:59:00.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"debug","time":"2025-09-04T11:59:05.129+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":3,"空闲":7,"活跃工作者":0,"排队任务":0,"已完成":3,"失败":0,"平均等待":"51.166µs","平均执行":"248.356208ms"}
{"level":"info","time":"2025-09-04T11:59:07.101+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T11:59:07.101+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T11:59:07.101+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.115+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.130+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T11:59:07.131+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T11:59:07.232+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T11:59:07.243+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.78375ms"}
{"level":"debug","time":"2025-09-04T11:59:07.243+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:59:07.407+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:07.408+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:07.408+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:07.408+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:07.408+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:59:07.441+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbdd064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbdcc08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:59:08.475+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb3103c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb30c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:59:10.521+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa09040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa08c64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:59:12.101+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:59:13.522+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa09040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa08c64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:59:13.581+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T11:59:13.581+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:13.581+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:59:13.603+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:59:14.621+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T11:59:16.638+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T11:59:17.102+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T11:59:19.639+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:59:19.639+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:19.639+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T11:59:19.648+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T11:59:20.666+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T11:59:22.101+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T11:59:22.684+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T11:59:25.685+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:25.685+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T11:59:25.686+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T11:59:25.787+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T11:59:25.787+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T11:59:25.788+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T11:59:25.789+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_115925.json"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_115925.txt"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T11:59:25.790+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T11:59:25.807+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T11:59:25.908+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T11:59:25.908+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T11:59:25.908+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:00:29.981+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:00:29.981+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:00:29.981+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:00:30.017+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:00:30.017+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.018+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.058+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:00:30.059+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:00:30.160+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:00:30.167+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"7.350375ms"}
{"level":"debug","time":"2025-09-04T12:00:30.167+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:00:30.367+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:30.367+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:30.367+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:30.367+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:30.367+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:00:30.400+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x77b064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x77ac48180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:00:31.435+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xcb9040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xcb8c64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:00:33.481+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x985044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x984c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:00:34.982+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:00:36.482+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x985044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x984c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:00:36.534+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:00:36.535+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:36.535+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:00:36.556+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:00:37.565+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:00:39.583+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:00:39.982+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:00:42.583+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:00:42.584+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:42.584+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:00:42.601+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:00:43.619+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:00:44.982+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:00:45.638+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:00:48.638+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:00:48.638+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:00:48.739+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:00:48.739+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:00:48.739+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_120048.json"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_120048.txt"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:00:48.740+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:00:48.755+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:00:49.982+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"19µs","平均执行":"18.471092458s"}
{"level":"debug","time":"2025-09-04T12:00:54.982+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"19µs","平均执行":"18.471092458s"}
{"level":"debug","time":"2025-09-04T12:00:55.870+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:00:55.871+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:00:55.871+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:02:01.378+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:02:01.381+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:02:01.381+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:02:01.399+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:02:01.399+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:02:01.399+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:02:01.400+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.400+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.400+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.400+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.400+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.414+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:02:01.415+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:02:01.415+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:02:01.415+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:02:01.415+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:02:01.415+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:02:01.416+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:02:01.416+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:02:01.516+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:02:01.516+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:02:01.516+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:02:01.516+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:02:01.516+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:02:01.517+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:02:01.521+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.624458ms"}
{"level":"debug","time":"2025-09-04T12:02:01.521+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:02:01.683+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:01.683+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:01.683+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:01.683+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:01.683+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:02:01.718+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x780c58280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x781028180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:02:02.749+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x904c40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x905048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:02:04.805+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x981024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x980c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:02:06.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:02:07.806+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x981024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x980c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:02:07.878+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:02:07.878+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:07.878+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:02:07.901+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:02:08.919+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:02:10.937+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:02:11.382+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:02:13.937+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:02:13.937+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:13.937+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:02:13.947+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:02:14.954+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:02:16.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:02:16.974+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:02:19.974+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:02:19.975+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:02:20.075+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:02:20.075+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:02:20.075+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_120220.json"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_120220.txt"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:02:20.077+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:02:20.092+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:02:21.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.125µs","平均执行":"18.453825958s"}
{"level":"debug","time":"2025-09-04T12:02:26.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.125µs","平均执行":"18.453825958s"}
{"level":"debug","time":"2025-09-04T12:02:31.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.125µs","平均执行":"18.453825958s"}
{"level":"debug","time":"2025-09-04T12:02:31.381+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:02:31.400+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:02:36.381+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.125µs","平均执行":"18.453825958s"}
{"level":"debug","time":"2025-09-04T12:02:38.612+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:02:38.612+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:02:38.612+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:04:26.131+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:04:26.133+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:04:26.134+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:04:26.134+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:04:26.165+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:04:26.165+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:04:26.166+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:04:26.166+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.167+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.167+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.167+0800","caller":"converter/converter.go:406","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.167+0800","caller":"converter/converter.go:451","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/converter.go:323","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/converter.go:325","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/converter.go:327","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.183+0800","caller":"converter/converter.go:399","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.184+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:04:26.185+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:04:26.185+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:04:26.185+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:04:26.185+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:04:26.185+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:04:26.186+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:04:26.186+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:04:26.286+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:04:26.287+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:04:26.287+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:04:26.287+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:04:26.287+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:04:26.287+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:04:26.298+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.641042ms"}
{"level":"debug","time":"2025-09-04T12:04:26.298+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:04:26.460+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:26.460+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:26.460+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:26.460+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:26.460+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:04:26.495+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbb9040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbb8c84180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:04:27.528+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb5f060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb5ec08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:04:29.575+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb33044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb32c88180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:04:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:04:32.576+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb33044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb32c88180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:04:32.633+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:04:32.633+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:32.633+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:04:32.652+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:04:33.670+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:04:35.678+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:04:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:04:38.679+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:04:38.679+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:38.679+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:04:38.699+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:04:39.708+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:04:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:04:41.715+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:04:44.715+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:04:44.716+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:04:44.817+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:04:44.817+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:04:44.817+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_120444.json"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_120444.txt"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:04:44.818+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:04:44.879+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:04:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:04:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:04:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:04:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:04:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:05:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:05:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:05:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:05:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:05:56.167+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:06:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:06:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:06:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:06:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:06:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:07:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:07:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:07:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:07:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:07:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:08:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:08:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:08:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:08:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:08:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:09:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:09:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:09:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:09:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:09:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:10:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:10:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:10:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:51.135+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:10:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:10:56.165+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:11:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:11.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:16.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:21.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:26.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:26.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:11:26.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:11:31.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:36.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:41.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:46.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:51.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:56.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:11:56.134+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:11:56.166+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:12:01.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"debug","time":"2025-09-04T12:12:06.134+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.208µs","平均执行":"18.418387625s"}
{"level":"info","time":"2025-09-04T12:13:01.835+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:13:01.835+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:13:01.835+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:13:01.852+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:13:01.852+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:13:01.852+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:13:01.852+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.853+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.853+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.853+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.853+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.885+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.886+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:13:01.888+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:13:01.888+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:13:01.888+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:13:01.888+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:13:01.888+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:13:01.889+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:13:01.889+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:13:01.990+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:13:02.001+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.834958ms"}
{"level":"debug","time":"2025-09-04T12:13:02.001+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:13:02.199+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:02.199+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:02.199+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:02.199+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:02.199+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:13:02.232+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc55024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc54c80180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:13:03.269+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8eb03c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8eac08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:13:05.330+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x851024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x850c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:13:06.836+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:13:08.330+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x851024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x850c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:13:08.387+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:13:08.387+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:08.387+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:13:08.408+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:13:09.427+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:13:11.443+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:13:11.836+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:13:14.444+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:13:14.444+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:14.444+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:13:14.453+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:13:15.472+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:13:16.836+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:13:17.488+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:13:20.488+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:13:20.489+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:13:20.590+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:13:20.590+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:13:20.590+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:13:20.591+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_121320.json"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_121320.txt"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:13:20.592+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:13:20.626+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:13:21.836+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"12.208µs","平均执行":"18.48857s"}
{"level":"debug","time":"2025-09-04T12:13:26.835+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"12.208µs","平均执行":"18.48857s"}
{"level":"debug","time":"2025-09-04T12:13:31.835+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:13:31.835+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"12.208µs","平均执行":"18.48857s"}
{"level":"debug","time":"2025-09-04T12:13:31.853+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:13:35.317+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:13:35.318+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:13:35.318+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:14:15.237+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:14:15.237+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:14:15.238+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:14:15.238+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.274+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:14:15.290+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:14:15.290+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:14:15.290+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:14:15.290+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.291+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.291+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.291+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:14:15.292+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:14:15.392+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:14:15.392+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:14:15.393+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:14:15.393+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:14:15.393+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:14:15.393+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:14:15.401+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"8.719042ms"}
{"level":"debug","time":"2025-09-04T12:14:15.401+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:14:15.605+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:15.605+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:15.606+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:15.606+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:15.606+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:14:15.642+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7cac20280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7cb064180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:14:16.676+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc91060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc90c44180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:14:18.725+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbfec60280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbff024180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:14:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:14:21.725+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbfec60280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbff024180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:14:21.792+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:14:21.792+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:21.792+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:14:21.815+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:14:22.829+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:14:24.846+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:14:25.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:14:27.847+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:14:27.847+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:27.848+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:14:27.866+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:14:28.883+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:14:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:14:30.901+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:14:33.901+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:14:33.902+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:14:34.003+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:14:34.003+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:14:34.003+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:14:34.005+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_121434.json"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_121434.txt"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:14:34.006+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:14:34.047+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:14:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:14:40.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:14:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:14:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:14:45.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:14:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:14:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:10.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:15.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:15.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:15:15.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:15:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:25.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:40.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:15:45.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:15:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:15:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:10.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:15.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:15.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:16:15.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:16:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:25.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:40.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:16:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:45.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:16:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:16:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:10.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:15.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:17:15.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:15.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:17:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:25.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:40.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:17:45.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:17:50.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:17:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:10.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:15.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:18:15.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:15.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:18:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:25.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:40.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:18:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:45.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:18:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:18:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:10.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:15.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:19:15.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:15.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:19:20.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:25.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:30.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:40.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:19:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:45.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:19:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:19:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:00.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:05.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:10.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:15.237+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:20:15.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:15.275+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:20:20.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:25.237+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:30.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:35.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:40.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:45.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:45.238+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:20:45.274+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:20:50.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"debug","time":"2025-09-04T12:20:55.238+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.792µs","平均执行":"18.500842542s"}
{"level":"info","time":"2025-09-04T12:25:01.311+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:25:01.313+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:25:01.315+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:25:01.315+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:25:01.337+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:25:01.337+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:25:01.337+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:25:01.338+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.338+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.338+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.338+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.338+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:25:01.351+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:25:01.351+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:25:01.351+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:25:01.351+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.352+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.352+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.352+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:25:01.354+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:25:01.354+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:25:01.354+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:25:01.354+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:25:01.354+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:25:01.355+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:25:01.355+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:25:01.455+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:25:01.455+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:25:01.455+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:25:01.455+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:25:01.455+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:25:01.456+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:25:01.466+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.054917ms"}
{"level":"debug","time":"2025-09-04T12:25:01.466+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:25:01.858+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:01.858+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:01.858+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:01.858+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:01.858+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:25:01.898+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9d2c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9d3048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:25:02.935+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa18c58280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa19028180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:25:04.994+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb3705c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb36c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:25:06.315+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:25:07.995+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb3705c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb36c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:25:08.038+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:25:08.038+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:08.038+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:25:08.089+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:25:09.097+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:25:11.115+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:25:11.315+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:25:14.115+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:25:14.117+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:14.117+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:25:14.132+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:25:15.150+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:25:16.315+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:25:17.166+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:25:20.167+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:25:20.168+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:25:20.269+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:25:20.269+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:25:20.269+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:25:20.270+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_122520.json"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_122520.txt"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:25:20.271+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:25:20.314+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:25:21.315+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"35.167µs","平均执行":"18.702427917s"}
{"level":"debug","time":"2025-09-04T12:25:26.315+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"35.167µs","平均执行":"18.702427917s"}
{"level":"debug","time":"2025-09-04T12:25:31.038+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:25:31.038+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:25:31.038+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:26:40.067+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:26:40.069+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:26:40.069+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:26:40.070+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:26:40.148+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:26:40.148+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:26:40.148+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:26:40.149+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.150+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.150+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.150+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.150+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.163+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:26:40.166+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:26:40.267+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:26:40.278+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.841583ms"}
{"level":"debug","time":"2025-09-04T12:26:40.278+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:26:40.480+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:40.480+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:40.480+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:40.480+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:40.480+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:26:40.516+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa77024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa76c29b00] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:26:41.550+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb4ec40280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb4f048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:26:43.600+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc12c18280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc1302ce40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:26:45.070+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:26:46.600+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc12c18280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc1302ce40] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:26:46.636+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:26:46.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:46.636+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:26:46.682+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:26:47.691+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:26:49.709+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:26:50.070+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:26:52.709+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:26:52.710+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:52.710+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:26:52.726+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:26:53.743+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:26:55.070+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:26:55.752+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:26:58.752+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:58.753+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:26:58.754+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:26:58.854+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:26:58.854+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:26:58.854+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:26:58.856+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_122658.json"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_122658.txt"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:26:58.857+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:26:58.875+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:27:00.070+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"18.875µs","平均执行":"18.475718s"}
{"level":"debug","time":"2025-09-04T12:27:05.070+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"18.875µs","平均执行":"18.475718s"}
{"level":"debug","time":"2025-09-04T12:27:07.331+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:27:07.332+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:27:07.332+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:28:19.039+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:28:19.041+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:28:19.042+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:28:19.042+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:28:19.060+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:28:19.060+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:28:19.060+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:28:19.062+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.063+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.063+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.063+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.063+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:28:19.100+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:28:19.100+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:28:19.100+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:28:19.100+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.101+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.101+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.101+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:28:19.102+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:28:19.203+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:28:19.204+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"927.625µs"}
{"level":"debug","time":"2025-09-04T12:28:19.204+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:28:19.382+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:19.382+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:19.383+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:19.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:19.383+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:28:19.422+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x863044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x862c68180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:28:20.455+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7c5044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7c4c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:28:22.490+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbaec3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbaf048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:28:24.042+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:28:25.490+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbaec3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbaf048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:28:25.558+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:28:25.558+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:25.558+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:28:25.580+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:28:26.598+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:28:28.613+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:28:29.042+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:28:31.614+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:28:31.614+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:31.614+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:28:31.623+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:28:32.641+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:28:34.042+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:28:34.651+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:28:37.651+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:28:37.652+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:28:37.753+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:28:37.753+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:28:37.753+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:28:37.755+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_122837.json"}
{"level":"debug","time":"2025-09-04T12:28:37.755+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_122837.txt"}
{"level":"debug","time":"2025-09-04T12:28:37.756+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:28:37.756+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:28:37.756+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:28:37.756+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:28:37.756+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:28:37.770+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:28:39.042+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.333µs","平均执行":"18.447691583s"}
{"level":"debug","time":"2025-09-04T12:28:44.042+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.333µs","平均执行":"18.447691583s"}
{"level":"debug","time":"2025-09-04T12:28:45.665+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:28:45.665+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:28:45.666+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:29:36.027+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:29:36.029+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:29:36.030+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:29:36.031+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:29:36.095+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:29:36.095+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:29:36.095+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:29:36.096+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.096+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.096+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.096+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.097+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:29:36.134+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:29:36.134+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:29:36.134+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:29:36.134+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.135+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.135+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.135+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:29:36.136+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:29:36.237+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:29:36.238+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:29:36.238+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:29:36.238+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:29:36.238+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:29:36.238+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:29:36.248+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.822292ms"}
{"level":"debug","time":"2025-09-04T12:29:36.249+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:29:36.438+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:36.438+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:36.438+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:36.438+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:36.438+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:29:36.478+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x96d044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x96cc08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:29:37.511+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xba9040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xba8c60180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:29:39.546+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadcc34280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadd048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:29:41.031+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:29:42.547+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xadcc34280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xadd048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:29:42.610+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:29:42.610+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:42.610+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:29:42.632+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:29:43.641+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:29:45.659+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:29:46.031+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:29:48.659+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:29:48.659+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:48.660+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:29:48.677+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:29:49.698+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:29:51.031+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:29:51.715+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:29:54.715+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:29:54.715+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:54.715+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:29:54.715+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:54.716+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:29:54.716+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:54.716+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:29:54.716+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:29:54.816+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:29:54.816+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:29:54.816+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_122954.json"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_122954.txt"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:29:54.817+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:29:54.837+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:29:56.031+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"21.667µs","平均执行":"18.467062375s"}
{"level":"debug","time":"2025-09-04T12:30:00.838+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:30:00.838+0800","caller":"converter/advanced_pool.go:569","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:30:00.838+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:30:42.239+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:30:42.241+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:30:42.242+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:30:42.242+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:30:42.259+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:30:42.259+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:30:42.259+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:30:42.261+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.261+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.261+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.261+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.261+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:30:42.298+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.299+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:30:42.301+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:30:42.301+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:30:42.301+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:30:42.301+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:30:42.301+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:30:42.302+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:30:42.302+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:30:42.403+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:30:42.403+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:30:42.403+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:30:42.403+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:30:42.403+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:30:42.405+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:30:42.415+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.650041ms"}
{"level":"debug","time":"2025-09-04T12:30:42.415+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:30:42.569+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:42.569+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:42.570+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:42.570+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:42.570+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:30:42.605+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x855024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x854c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:30:43.642+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x98d040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x98cc64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:30:45.694+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb56c1c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb57064180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:30:47.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:30:48.695+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb56c1c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb57064180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:30:48.750+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:30:48.750+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:48.750+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:30:48.770+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:30:49.780+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:30:51.802+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:30:52.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:30:54.803+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:30:54.804+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:30:54.804+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:30:54.823+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:30:55.832+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:30:57.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:30:57.840+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:31:00.840+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:31:00.840+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:31:00.840+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:31:00.841+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:31:00.841+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:31:00.841+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:31:00.841+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:31:00.841+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:31:00.941+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:31:00.941+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:31:00.941+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:31:00.942+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_123100.json"}
{"level":"debug","time":"2025-09-04T12:31:00.942+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_123100.txt"}
{"level":"debug","time":"2025-09-04T12:31:00.942+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:31:00.942+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:31:00.943+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:31:00.943+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:31:00.943+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:31:00.966+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:31:02.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:07.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:12.242+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:31:12.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:12.260+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:31:17.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:22.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:27.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:32.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:37.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:42.242+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:31:42.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:42.260+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:31:47.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:52.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:31:57.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:02.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:07.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:12.242+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:32:12.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:12.260+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:32:17.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:22.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"debug","time":"2025-09-04T12:32:27.242+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"51.375µs","平均执行":"18.425969584s"}
{"level":"info","time":"2025-09-04T12:34:56.939+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:34:56.941+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:34:56.942+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:34:56.942+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:34:56.956+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:34:56.956+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.957+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.973+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:34:56.975+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:34:57.076+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:34:57.095+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:34:57.095+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:34:57.095+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:34:57.095+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:34:57.095+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:34:57.098+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"2.135791ms"}
{"level":"debug","time":"2025-09-04T12:34:57.098+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:34:57.272+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:34:57.272+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:34:57.272+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:34:57.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:34:57.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:34:57.307+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8ad020280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8acc80180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:34:58.339+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x772c3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x773044180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:35:00.398+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb1f064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb1ec48180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:35:01.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:35:03.399+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb1f064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb1ec48180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:834\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:35:03.444+0800","caller":"converter/strategy.go:846","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:35:03.444+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:03.444+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:35:03.464+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:35:04.481+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:35:06.498+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:35:06.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"error","time":"2025-09-04T12:35:09.499+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:35:09.499+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:09.499+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:35:09.519+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:35:10.528+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:35:11.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":1,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"warn","time":"2025-09-04T12:35:12.538+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:35:15.538+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:882\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1190\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1343"}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/batch_processor.go:1129","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:35:15.539+0800","caller":"converter/batch_processor.go:1143","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:35:15.640+0800","caller":"converter/batch_processor.go:1488","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:35:15.640+0800","caller":"converter/batch_processor.go:1029","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:35:15.640+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:35:15.642+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_123515.json"}
{"level":"debug","time":"2025-09-04T12:35:15.642+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_123515.txt"}
{"level":"debug","time":"2025-09-04T12:35:15.643+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:35:15.643+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:35:15.643+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:35:15.643+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:35:15.643+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:35:15.672+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:35:16.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:21.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:26.942+0800","caller":"converter/advanced_pool.go:477","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:35:26.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:26.957+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:35:31.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:36.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:41.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:46.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"debug","time":"2025-09-04T12:35:51.942+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"61.417µs","平均执行":"18.441588916s"}
{"level":"info","time":"2025-09-04T12:36:55.260+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:36:55.262+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:36:55.263+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:36:55.263+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:36:55.278+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:36:55.278+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:36:55.278+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:36:55.279+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.279+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.279+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.279+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.280+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.384+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:360","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:568","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:582","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:36:55.394+0800","caller":"converter/batch_processor.go:678","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:36:55.494+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:36:55.494+0800","caller":"converter/batch_processor.go:1017","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:36:55.494+0800","caller":"converter/batch_processor.go:1439","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:36:55.494+0800","caller":"converter/batch_processor.go:1458","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:36:55.494+0800","caller":"converter/batch_processor.go:1464","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:36:55.495+0800","caller":"converter/batch_processor.go:1057","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:36:55.505+0800","caller":"converter/advanced_pool.go:357","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.271958ms"}
{"level":"debug","time":"2025-09-04T12:36:55.506+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:36:55.691+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:36:55.691+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:36:55.691+0800","caller":"converter/strategy.go:808","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:36:55.691+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:36:55.691+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:36:55.771+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb69044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb68c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"info","time":"2025-09-04T12:37:05.766+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:37:05.766+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:37:05.766+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:37:05.766+0800","caller":"converter/advanced_pool.go:165","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/converter.go:283","msg":"发现未完成的转换会话","sessionID":"test_media_1756960615","targetDir":"test_media","completed":0,"total":3}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/converter.go:296","msg":"成功恢复转换会话，继续处理未完成的文件"}
{"level":"debug","time":"2025-09-04T12:37:05.788+0800","caller":"converter/converter.go:1146","msg":"所有文件已完成，清理会话"}
{"level":"debug","time":"2025-09-04T12:37:05.805+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:37:10.767+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"debug","time":"2025-09-04T12:37:15.766+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"debug","time":"2025-09-04T12:37:20.767+0800","caller":"converter/advanced_pool.go:424","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":0,"失败":0,"平均等待":"0s","平均执行":"0s"}
{"level":"info","time":"2025-09-04T12:37:40.510+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:37:40.510+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:37:40.510+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:37:40.510+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.526+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.542+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:37:40.543+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:37:40.543+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:37:40.544+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:37:40.544+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:37:40.544+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:37:40.544+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:37:40.544+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:37:40.644+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:37:40.645+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:37:40.645+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:37:40.645+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:37:40.645+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:37:40.646+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:37:40.649+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.059042ms"}
{"level":"debug","time":"2025-09-04T12:37:40.649+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:37:40.828+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:40.828+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:40.828+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:40.828+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:40.828+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:37:40.862+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x93103c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x930c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:37:41.906+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x79ec18280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x79f040180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:37:43.964+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x838c24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x839030cc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:37:46.965+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x838c24280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x839030cc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:37:47.011+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:37:47.012+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:47.012+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:37:47.036+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:37:48.052+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:37:50.069+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:37:53.070+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:37:53.070+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:53.070+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:37:53.089+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:37:54.106+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:37:56.115+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:37:59.115+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:37:59.116+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:37:59.217+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:37:59.217+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:37:59.217+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:37:59.218+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_123759.json"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_123759.txt"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:37:59.219+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:37:59.233+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:38:01.279+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:38:01.279+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:38:01.279+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:41:03.425+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:41:03.425+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:41:03.425+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:41:03.426+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:41:03.438+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:41:03.438+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:41:03.438+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:41:03.439+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.439+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.439+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.439+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.439+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.451+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:41:03.454+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:41:03.555+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:41:03.566+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"10.847917ms"}
{"level":"debug","time":"2025-09-04T12:41:03.566+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:41:03.721+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:03.721+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:03.721+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:03.721+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:03.721+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:41:03.757+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb73064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb72c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:41:04.790+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb04c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb05048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:41:06.849+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x769064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x768c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:41:09.851+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x769064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x768c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:41:09.910+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:41:09.910+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:09.910+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:41:09.931+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:41:10.955+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:41:12.971+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:41:15.972+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:41:15.972+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:15.973+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:41:15.990+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:41:16.998+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:41:19.006+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:41:22.007+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:41:22.007+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:22.007+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:41:22.007+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:22.008+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:41:22.008+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:22.008+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:41:22.008+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:41:22.108+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:41:22.108+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:41:22.108+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124122.json"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124122.txt"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:41:22.109+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:41:22.125+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:41:24.169+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:41:24.169+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:41:24.169+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:43:13.418+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:43:13.418+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:43:13.419+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:43:13.484+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:43:13.484+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:43:13.485+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:43:13.485+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.487+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.487+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.487+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.487+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:43:13.499+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.500+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:43:13.502+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:43:13.603+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:43:13.604+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"100.333µs"}
{"level":"debug","time":"2025-09-04T12:43:13.604+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:43:13.782+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:13.783+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:13.783+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:13.783+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:13.783+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:43:13.821+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9b2c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9b3048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:43:14.868+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xaf5020280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xaf4c80180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:43:16.916+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9aec1c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9af068180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:43:19.916+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9aec1c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9af068180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:43:19.976+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:43:19.976+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:19.976+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:43:20.002+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:43:21.020+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:43:23.038+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:43:26.039+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:43:26.039+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:26.039+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:43:26.049+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:43:27.056+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:43:29.074+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:43:32.076+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:32.076+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:43:32.077+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:43:32.177+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:43:32.177+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:43:32.177+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:43:32.178+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124332.json"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124332.txt"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:43:32.179+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:43:32.192+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:43:40.585+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:43:40.586+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:43:40.586+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:44:53.609+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:44:53.609+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:44:53.609+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:44:53.622+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:44:53.622+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:44:53.622+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:44:53.622+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.623+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.623+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.623+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.623+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.635+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:44:53.637+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:44:53.739+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:44:53.740+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:44:53.741+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:44:53.741+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:44:53.741+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:44:53.741+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:44:53.749+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"8.126084ms"}
{"level":"debug","time":"2025-09-04T12:44:53.749+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:44:53.921+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:44:53.921+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:44:53.921+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:44:53.921+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:44:53.921+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:44:53.955+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb85024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb84c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:44:55.013+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x99ac3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x99b048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:44:57.046+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x85ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x85b048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:45:00.047+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x85ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x85b048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:45:00.102+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:45:00.102+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:00.102+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:45:00.123+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:45:01.131+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:45:03.137+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:45:06.137+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:45:06.137+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:06.139+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:45:06.157+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:45:07.175+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:45:09.189+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:45:12.190+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:45:12.190+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:45:12.291+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:45:12.291+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:45:12.291+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124512.json"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124512.txt"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:45:12.292+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:45:12.311+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:45:23.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:45:23.623+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:45:43.610+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.75µs","平均执行":"18.441658375s"}
{"level":"debug","time":"2025-09-04T12:45:53.609+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:45:53.623+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T12:46:10.610+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:46:10.610+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:46:10.610+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:46:10.611+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:46:23.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:46:23.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:46:33.609+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.75µs","平均执行":"18.441658375s"}
{"level":"warn","time":"2025-09-04T12:46:40.567+0800","caller":"converter/checkpoint.go:113","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"debug","time":"2025-09-04T12:46:40.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:46:41.619+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:46:41.619+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:46:41.619+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:46:41.619+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.624+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.624+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.624+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.624+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.638+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:46:41.640+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:46:41.741+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:46:41.748+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"6.823375ms"}
{"level":"debug","time":"2025-09-04T12:46:41.748+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:46:41.922+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:41.922+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:41.922+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:41.922+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:41.922+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:46:41.960+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x847064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x846c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:46:42.999+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa53024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa52c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:46:45.035+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xba7040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xba6c2ccc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:46:48.035+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xba7040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xba6c2ccc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:46:48.103+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:46:48.103+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:48.103+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:46:48.126+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:46:49.139+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:46:51.160+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:46:53.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:46:53.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"error","time":"2025-09-04T12:46:54.160+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:46:54.161+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:46:54.161+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:46:54.179+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:46:55.192+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:46:57.213+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:47:00.213+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:47:00.215+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:47:00.316+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:47:00.316+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:47:00.316+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:47:00.318+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124700.json"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124700.txt"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:00.319+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:47:00.335+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:47:00.611+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"71.125µs","平均执行":"18.467119916s"}
{"level":"debug","time":"2025-09-04T12:47:02.379+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:47:02.380+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:47:02.380+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"info","time":"2025-09-04T12:47:14.259+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:47:14.262+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:47:14.262+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:47:14.277+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.278+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.294+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:47:14.300+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:47:14.300+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:47:14.300+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:47:14.300+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:47:14.300+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:47:14.301+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:47:14.301+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:47:14.402+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:47:14.403+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"1.367333ms"}
{"level":"debug","time":"2025-09-04T12:47:14.403+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:47:14.613+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:14.614+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:14.614+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:14.614+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:14.614+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:47:14.670+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xafec3c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xaff408180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:47:15.707+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x727040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x726c84180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:47:17.754+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8bac34280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8bb048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:47:20.755+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8bac34280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x8bb048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:47:20.815+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:47:20.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:20.815+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:47:20.837+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:47:21.844+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:47:23.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:47:23.610+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.75µs","平均执行":"18.441658375s"}
{"level":"debug","time":"2025-09-04T12:47:23.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T12:47:23.860+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:47:26.860+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:47:26.861+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:26.861+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:47:26.879+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:47:27.896+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:47:29.912+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:47:32.913+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:47:32.916+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:47:33.017+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:47:33.017+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:47:33.017+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:47:33.019+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124733.json"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124733.txt"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:47:33.020+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:47:33.038+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:47:44.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:47:44.278+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:47:53.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:47:53.623+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T12:48:03.018+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:48:03.019+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:48:03.019+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:48:03.019+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:48:04.263+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.292µs","平均执行":"18.51311075s"}
{"level":"debug","time":"2025-09-04T12:48:13.609+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.75µs","平均执行":"18.441658375s"}
{"level":"debug","time":"2025-09-04T12:48:14.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:48:14.279+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:48:23.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:48:23.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T12:48:33.014+0800","caller":"converter/checkpoint.go:113","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"debug","time":"2025-09-04T12:48:33.019+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:48:34.048+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.049+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.067+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:48:34.071+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:48:34.171+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:48:34.171+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:48:34.171+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:48:34.172+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:48:34.172+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:48:34.172+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:48:34.175+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.307958ms"}
{"level":"debug","time":"2025-09-04T12:48:34.175+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:48:34.403+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:34.403+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:34.403+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:34.403+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:34.403+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:48:34.443+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xacd05c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xaccc08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:48:35.493+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbc1064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbc0c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:48:37.542+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x713040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x712c64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:48:40.543+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x713040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x712c64180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:48:40.612+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:48:40.612+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:40.612+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:48:40.636+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:48:41.655+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:48:43.671+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"debug","time":"2025-09-04T12:48:44.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:48:44.278+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"error","time":"2025-09-04T12:48:46.672+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:48:46.673+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:46.673+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:48:46.694+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:48:47.711+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:48:49.730+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:48:52.730+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:48:52.731+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:48:52.831+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:48:52.831+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:48:52.831+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124852.json"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124852.txt"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:48:52.833+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:48:52.858+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:48:53.019+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"16.541µs","平均执行":"18.55591975s"}
{"level":"debug","time":"2025-09-04T12:48:53.610+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:48:53.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:48:54.262+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.292µs","平均执行":"18.51311075s"}
{"level":"debug","time":"2025-09-04T12:48:54.901+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:48:54.901+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:48:54.901+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"debug","time":"2025-09-04T12:49:03.610+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"30.75µs","平均执行":"18.441658375s"}
{"level":"debug","time":"2025-09-04T12:49:14.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:49:14.278+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:49:23.609+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:49:23.622+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T12:49:30.378+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:49:30.379+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:49:30.379+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:49:30.393+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:49:30.393+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:49:30.393+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:49:30.394+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.394+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.394+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.394+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.394+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.409+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:49:30.412+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:49:30.513+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:49:30.518+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"5.413667ms"}
{"level":"debug","time":"2025-09-04T12:49:30.518+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:49:30.696+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:30.696+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:30.696+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:30.696+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:30.696+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:49:30.733+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9f4c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9f5048180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:49:31.778+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7c0c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7c1028180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:49:33.842+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e1040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7e0c60180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","attempt":3}
{"level":"error","time":"2025-09-04T12:49:36.844+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x7e1040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x7e0c60180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:49:36.926+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:49:36.926+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:36.926+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:49:36.955+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:49:37.961+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"warn","time":"2025-09-04T12:49:39.970+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:49:42.971+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:49:42.971+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:42.971+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"warn","time":"2025-09-04T12:49:42.993+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":1}
{"level":"warn","time":"2025-09-04T12:49:44.007+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":2}
{"level":"debug","time":"2025-09-04T12:49:44.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:49:44.262+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.292µs","平均执行":"18.51311075s"}
{"level":"debug","time":"2025-09-04T12:49:44.278+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T12:49:46.023+0800","caller":"converter/tool_manager.go:152","msg":"工具执行失败，准备重试","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","attempt":3}
{"level":"error","time":"2025-09-04T12:49:49.024+0800","caller":"converter/tool_manager.go:164","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:164\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:49:49.024+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:49:49.125+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:49:49.125+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:49:49.125+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:49:49.126+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_124949.json"}
{"level":"debug","time":"2025-09-04T12:49:49.126+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_124949.txt"}
{"level":"debug","time":"2025-09-04T12:49:49.127+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:49:49.127+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:49:49.127+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:49:49.127+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:49:49.127+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:49:49.144+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:50:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:50:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:50:14.262+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:50:14.278+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:50:20.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:50:30.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:50:30.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:50:34.262+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"22.292µs","平均执行":"18.51311075s"}
{"level":"debug","time":"2025-09-04T12:50:44.263+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:50:44.281+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:51:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:51:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:51:10.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:51:30.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:51:30.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:52:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:52:00.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:52:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:52:30.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:52:30.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:52:50.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:53:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:53:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T12:53:28.879+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:53:28.879+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:53:28.879+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:53:30.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:53:30.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:53:40.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"warn","time":"2025-09-04T12:53:58.870+0800","caller":"converter/checkpoint.go:113","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"debug","time":"2025-09-04T12:53:58.879+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:53:59.900+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:53:59.900+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:53:59.900+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:53:59.900+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.901+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.901+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.901+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.901+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.917+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:53:59.921+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"414.5µs"}
{"level":"debug","time":"2025-09-04T12:54:00.022+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:00.191+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:00.192+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:00.192+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:00.192+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:00.192+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:00.225+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:54:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:54:01.259+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:54:03.295+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc3cc58280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc3d028180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:03.328+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:54:03.328+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:03.328+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:03.366+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:04.378+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":2}
{"level":"error","time":"2025-09-04T12:54:06.395+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:06.395+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:06.395+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:06.409+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:07.416+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":2}
{"level":"error","time":"2025-09-04T12:54:09.425+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:54:09.425+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:54:09.525+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:54:09.525+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:54:09.525+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_125409.json"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_125409.txt"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:09.526+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:54:09.540+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"info","time":"2025-09-04T12:54:14.326+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:54:14.326+0800","caller":"cmd/root.go:114","msg":"Detailed initialization info","version":"1.65.6.6","verbose":true}
{"level":"debug","time":"2025-09-04T12:54:14.326+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:54:14.326+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.343+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":3}
{"level":"debug","time":"2025-09-04T12:54:14.364+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":3}
{"level":"debug","time":"2025-09-04T12:54:14.364+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:54:14.364+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:54:14.364+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.365+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.365+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.365+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":3,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":3,"scanned_files":1,"skipped_files":2}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":2}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:54:14.367+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:54:14.467+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:54:14.477+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"9.801792ms"}
{"level":"debug","time":"2025-09-04T12:54:14.477+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:14.517+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:14.517+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:14.517+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:14.517+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:14.517+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:14.549+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:15.603+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:54:17.651+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa66c5c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa67024180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:17.691+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:54:17.691+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:17.691+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:17.699+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:18.718+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":2}
{"level":"error","time":"2025-09-04T12:54:20.737+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:20.737+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:20.737+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:54:20.748+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":1}
{"level":"debug","time":"2025-09-04T12:54:21.767+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/cjxl","attempt":2}
{"level":"error","time":"2025-09-04T12:54:23.778+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:66\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:54:23.778+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:54:23.878+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_125423.json"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_125423.txt"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:54:23.879+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:54:23.900+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:54:25.949+0800","caller":"converter/task_monitor.go:176","msg":"🛑 停止任务监控器"}
{"level":"debug","time":"2025-09-04T12:54:25.949+0800","caller":"converter/advanced_pool.go:574","msg":"高级ants池已关闭"}
{"level":"debug","time":"2025-09-04T12:54:25.949+0800","caller":"converter/watchdog.go:110","msg":"看门狗已停止"}
{"level":"debug","time":"2025-09-04T12:54:30.386+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:54:30.388+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:54:30.405+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:55:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:55:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:55:20.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"debug","time":"2025-09-04T12:55:30.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:55:30.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:56:00.379+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:56:00.394+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:56:10.379+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"17.333µs","平均执行":"18.505969417s"}
{"level":"info","time":"2025-09-04T12:56:30.972+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:56:30.974+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:56:30.974+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:30.988+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":5}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:31.002+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":5,"已扫描文件数":2}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":5,"scanned_files":2,"skipped_files":3}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":2}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":3}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:56:31.010+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":2,"task_queue_size":2,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":2}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":2}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":2}
{"level":"debug","time":"2025-09-04T12:56:31.111+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":2}
{"level":"debug","time":"2025-09-04T12:56:31.114+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.208166ms"}
{"level":"debug","time":"2025-09-04T12:56:31.114+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"3.239333ms"}
{"level":"debug","time":"2025-09-04T12:56:31.114+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T12:56:31.114+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:56:31.290+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:31.290+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:31.290+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:31.290+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:31.290+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:56:31.330+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:56:31.395+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png"}
{"level":"debug","time":"2025-09-04T12:56:31.395+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png"}
{"level":"debug","time":"2025-09-04T12:56:31.396+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png"}
{"level":"debug","time":"2025-09-04T12:56:31.396+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:56:31.457+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:56:31.493+0800","caller":"converter/error_handler.go:439","msg":"Atomic file replace completed","temp_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl.tmp","final_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","in_place":false}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/image.go:270","msg":"JXL repackaging completed","input":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","output":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","original_size":327}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/strategy.go:663","msg":"平衡优化：无损重包成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","result":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl"}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/batch_processor.go:1297","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","new":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl"}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/batch_processor.go:1315","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","mod_time":"2025-09-04T12:54:57.005+0800"}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/batch_processor.go:1304","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","temp_output":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl"}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","size_mb":0}
{"level":"debug","time":"2025-09-04T12:56:31.494+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png"}
{"level":"debug","time":"2025-09-04T12:56:32.365+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:56:34.420+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x853060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x852c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:56:34.456+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:56:34.456+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:34.456+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:56:34.486+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:56:35.533+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:56:37.579+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbeb040280] Requested output format 'png' is not known.\n[out#0 @ 0xbeac08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).universalToJXLPreProcessor\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:192\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:46\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:56:37.579+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:37.579+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:56:37.612+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:56:38.657+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:56:40.706+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x8f4c40280] Requested output format 'png' is not known.\n[out#0 @ 0x8f5044180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*ConversionFramework).universalToJXLPreProcessor\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:192\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:46\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:15\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:885\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:690\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/strategy.go:706","msg":"平衡优化：无优化可能，跳过","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":2,"总数":2}
{"level":"debug","time":"2025-09-04T12:56:40.706+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":2}
{"level":"debug","time":"2025-09-04T12:56:40.807+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:56:40.807+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:56:40.807+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_125640.json"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_125640.txt"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.png","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:56:40.852+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:56:40.869+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:57:00.975+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:57:00.989+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T12:57:09.727+0800","caller":"cmd/root.go:111","msg":"Pixly initialized","version":"1.65.6.6"}
{"level":"debug","time":"2025-09-04T12:57:09.728+0800","caller":"converter/task_monitor.go:160","msg":"🚀 启动任务监控器"}
{"level":"debug","time":"2025-09-04T12:57:09.728+0800","caller":"converter/advanced_pool.go:166","msg":"高级ants池已启动","初始大小":10,"最大大小":20,"启用优先级":true,"启用监控":true}
{"level":"debug","time":"2025-09-04T12:57:09.750+0800","caller":"converter/watchdog.go:93","msg":"🐕 启动进度看门狗"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/watchdog.go:95","msg":"看门狗配置","stagnant_timeout":60,"large_file_timeout":180,"file_processing_timeout":120,"mode":0,"is_in_test_suite":false}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/signal_handler.go:83","msg":"信号处理器已启动"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/converter.go:412","msg":"开始扫描文件","目录":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.751+0800","caller":"converter/converter.go:457","msg":"文件扫描完成","找到文件数":5}
{"level":"debug","time":"2025-09-04T12:57:09.795+0800","caller":"converter/converter.go:329","msg":"启动转换会话","targetDir":"test_media","totalFiles":5}
{"level":"debug","time":"2025-09-04T12:57:09.795+0800","caller":"converter/converter.go:331","msg":"开始转换操作"}
{"level":"debug","time":"2025-09-04T12:57:09.795+0800","caller":"converter/converter.go:333","msg":"转换参数","inputDir":"test_media","mode":"auto+"}
{"level":"debug","time":"2025-09-04T12:57:09.795+0800","caller":"converter/path_security.go:50","msg":"开始路径安全检查","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.796+0800","caller":"converter/path_security.go:100","msg":"路径安全检查通过","path":"/Users/nameko_1/Downloads/test/test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.796+0800","caller":"converter/converter.go:405","msg":"路径权限检查通过","path":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.796+0800","caller":"converter/batch_processor.go:62","msg":"开始统一扫描和分析","inputDir":"test_media"}
{"level":"debug","time":"2025-09-04T12:57:09.798+0800","caller":"converter/batch_processor.go:320","msg":"扫描完成","总文件数":5,"已扫描文件数":1}
{"level":"debug","time":"2025-09-04T12:57:09.798+0800","caller":"converter/batch_processor.go:322","msg":"快速扫描完成","total_files":5,"scanned_files":1,"skipped_files":4}
{"level":"debug","time":"2025-09-04T12:57:09.798+0800","caller":"converter/batch_processor.go:328","msg":"实际需要处理的文件数量","process_queue_size":1}
{"level":"debug","time":"2025-09-04T12:57:09.798+0800","caller":"converter/batch_processor.go:359","msg":"已记录跳过的文件到结果中","skipped_files_count":4}
{"level":"debug","time":"2025-09-04T12:57:09.799+0800","caller":"converter/batch_processor.go:567","msg":"怀疑度评分完成","uncertain_files":0,"skipped_by_score":0,"threshold":30}
{"level":"debug","time":"2025-09-04T12:57:09.799+0800","caller":"converter/batch_processor.go:581","msg":"开始深度分析","文件数量":0}
{"level":"debug","time":"2025-09-04T12:57:09.799+0800","caller":"converter/batch_processor.go:677","msg":"深度分析完成","分析文件数":0}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:123","msg":"扫描和分析完成","total_files":1,"task_queue_size":1,"corrupted_files":0}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:1016","msg":"开始批处理原子性操作","task_count":1}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:1438","msg":"开始预检查阶段","file_count":1}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:1457","msg":"预检查阶段完成"}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:1463","msg":"开始原子性批处理","file_count":1}
{"level":"debug","time":"2025-09-04T12:57:09.899+0800","caller":"converter/batch_processor.go:1056","msg":"开始批处理文件","文件总数":1}
{"level":"debug","time":"2025-09-04T12:57:09.903+0800","caller":"converter/advanced_pool.go:358","msg":"优先级任务已提交","taskID":"","priority":1,"waitTime":"4.115042ms"}
{"level":"debug","time":"2025-09-04T12:57:09.904+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":0.1,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:57:10.066+0800","caller":"converter/strategy.go:658","msg":"自动模式+：应用平衡优化算法","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:10.066+0800","caller":"converter/strategy.go:782","msg":"平衡优化步骤1：无损重新包装","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:10.066+0800","caller":"converter/strategy.go:809","msg":"平衡优化步骤2：数学无损压缩","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:10.066+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:10.066+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:57:10.099+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":1}
{"level":"debug","time":"2025-09-04T12:57:11.138+0800","caller":"converter/tool_manager.go:153","msg":"工具执行重试","tool":"/opt/homebrew/bin/ffmpeg","attempt":2}
{"level":"error","time":"2025-09-04T12:57:13.185+0800","caller":"converter/tool_manager.go:146","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, bmp_pipe, from '/Users/nameko_1/Downloads/test/test_media/test_green.bmp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: bmp, bgr24, 150x150, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x977044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x976c80180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:146\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:117\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:341\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:836\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:670\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:77\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1189\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1342"}
{"level":"debug","time":"2025-09-04T12:57:13.222+0800","caller":"converter/strategy.go:848","msg":"智能质量分析","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","complexity":0.5,"noise":0.3,"compression_potential":0.6,"content_type":"mixed","quality_score":65}
{"level":"debug","time":"2025-09-04T12:57:13.222+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:13.222+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.272+0800","caller":"converter/conversion_framework.go:202","msg":"Converted format to PNG for JXL processing","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","format":".bmp","png":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.272+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:57:13.304+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:57:13.337+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.337+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","quality":60}
{"level":"debug","time":"2025-09-04T12:57:13.337+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:13.337+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.370+0800","caller":"converter/conversion_framework.go:202","msg":"Converted format to PNG for JXL processing","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","format":".bmp","png":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.370+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp.temp.png"}
{"level":"debug","time":"2025-09-04T12:57:13.370+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:57:13.384+0800","caller":"converter/tool_manager.go:102","msg":"路径已规范化","original":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp","normalized":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl.tmp"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/conversion_framework.go:88","msg":"Conversion completed","input":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","format":".jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:697","msg":"平衡优化：有损探测成功","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","result":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","quality":55}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:964","msg":"平衡优化：评估探测结果","path":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","quality":60,"size":106,"reduction":67832,"ratio":0.9984397538932556,"score":0.8789078277252788}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:964","msg":"平衡优化：评估探测结果","path":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","quality":55,"size":111,"reduction":67827,"ratio":0.9983661573787865,"score":0.8638563101651505}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:974","msg":"平衡优化：选择最佳结果","path":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","quality":60,"score":0.8789078277252788}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:736","msg":"平衡优化：准备移动文件","from":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","to":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/strategy.go:752","msg":"平衡优化：选择最佳结果","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","temp_result":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","final_output":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","target_ext":".jxl","quality":60}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/batch_processor.go:1297","msg":"原地转换完成，文件扩展名已更新","original":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","new":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/batch_processor.go:1315","msg":"已保留原始文件时间戳","file":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","mod_time":"2025-09-04T11:23:52.449+0800"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/batch_processor.go:1304","msg":"文件替换完成","original_file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","temp_output":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/watchdog.go:151","msg":"看门狗进度更新","progress":100,"file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","size_mb":0}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/watchdog.go:162","msg":"文件处理完成，取消超时监控","file":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp"}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/batch_processor.go:1128","msg":"批处理进度","已处理":1,"总数":1}
{"level":"debug","time":"2025-09-04T12:57:13.417+0800","caller":"converter/batch_processor.go:1142","msg":"批处理完成","处理总数":1}
{"level":"debug","time":"2025-09-04T12:57:13.518+0800","caller":"converter/batch_processor.go:1487","msg":"原子性批处理成功完成"}
{"level":"debug","time":"2025-09-04T12:57:13.518+0800","caller":"converter/batch_processor.go:1028","msg":"批处理原子性操作完成"}
{"level":"debug","time":"2025-09-04T12:57:13.518+0800","caller":"converter/report.go:117","msg":"生成详细转换报告"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:407","msg":"JSON报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_detailed_report_20250904_125713.json"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:571","msg":"可读报告已保存","file":"/Users/nameko_1/Downloads/test/reports/conversion/pixly_report_20250904_125713.txt"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:577","msg":"验证转换结果"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_blue.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green_converted.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_manual.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","output_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_red.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:595","msg":"原地转换验证","original_path":"/Users/nameko_1/Downloads/test/test_media/test_green.bmp","output_path":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl","verifying_path":"/Users/nameko_1/Downloads/test/test_media/test_green.jxl"}
{"level":"debug","time":"2025-09-04T12:57:13.558+0800","caller":"converter/report.go:626","msg":"转换结果验证通过"}
{"level":"debug","time":"2025-09-04T12:57:13.569+0800","caller":"converter/signal_handler.go:100","msg":"信号处理器已停止"}
{"level":"debug","time":"2025-09-04T12:57:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:57:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:57:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T12:58:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:58:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:58:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:58:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:58:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T12:59:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:59:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T12:59:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T12:59:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T12:59:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:00:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:00:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":3,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:00:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:00:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:00:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:01:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:01:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:01:19.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:01:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:01:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:02:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:02:09.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:02:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:02:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:02:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:02:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:03:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:03:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:03:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:03:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:03:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:04:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:04:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:04:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:04:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:04:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:05:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:05:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:05:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:05:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:05:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:06:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:06:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:06:19.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:06:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:06:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:07:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:07:09.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:07:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:07:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:07:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:07:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:08:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:08:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:08:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:08:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:08:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:09:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:09:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:09:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:09:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:09:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:10:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:10:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:10:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:10:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:10:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:11:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:11:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:11:19.730+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:11:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:11:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:12:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:12:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:12:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:12:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:12:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:12:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:13:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:13:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:13:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:13:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:13:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:14:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:14:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:14:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:14:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:14:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:15:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:15:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:15:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:15:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:15:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:16:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:16:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:16:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:16:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:16:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:17:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:17:09.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":1,"空闲":9,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:17:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:17:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:17:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:17:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:18:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:18:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:18:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:18:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:18:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:19:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:19:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:19:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:19:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:19:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:20:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:20:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:20:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:20:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:20:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:21:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:21:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:21:19.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:21:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:21:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:22:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:22:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:22:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:22:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:22:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:22:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:23:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:23:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:23:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:23:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:23:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:24:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:24:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:24:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:24:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:24:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:25:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:25:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:25:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:25:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:25:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:26:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:26:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:26:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:26:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:26:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:27:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:27:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:27:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:27:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:27:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:27:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:28:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:28:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:28:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:28:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:28:49.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:29:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:29:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:29:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:29:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:29:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:30:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:30:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:30:29.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:30:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:30:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:31:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:31:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:31:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:31:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:31:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:32:09.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:32:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:32:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:32:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:32:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:32:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:33:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:33:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:33:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:33:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:33:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:34:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:34:09.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:34:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:34:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:34:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:35:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:35:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:35:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:35:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:35:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:36:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:36:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:36:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:36:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:36:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:37:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:37:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:37:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:37:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:37:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:37:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:38:09.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:38:09.752+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:38:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:38:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:38:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:39:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:39:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:39:39.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:39:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:39:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:40:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:40:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:40:29.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:40:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:40:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:41:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:41:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:41:19.749+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:41:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:41:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:42:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:42:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:42:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:42:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:42:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:42:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:43:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:43:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:43:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:43:39.751+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:43:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:44:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:44:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:44:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:44:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:44:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:45:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:45:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:45:29.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:45:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:45:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:46:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:46:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:46:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:46:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:46:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:47:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:47:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:47:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:47:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:47:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:47:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:48:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:48:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:48:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:48:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:48:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:49:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:49:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:49:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:49:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:49:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:50:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:50:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:50:29.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:50:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:50:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:51:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:51:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:51:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:51:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:51:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:52:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:52:09.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:52:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:52:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:52:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:52:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:53:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:53:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:53:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:53:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:53:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:54:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:54:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:54:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:54:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:54:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:55:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:55:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:55:29.730+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:55:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:55:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:56:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:56:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:56:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:56:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:56:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:57:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:57:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:57:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:57:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:57:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:57:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:58:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:58:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:58:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:58:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:58:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:59:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:59:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T13:59:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T13:59:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T13:59:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:00:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:00:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:00:29.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:00:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:00:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:01:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:01:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:01:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:01:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:01:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:02:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:02:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:02:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:02:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:02:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:02:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:03:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:03:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:03:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:03:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:03:49.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:04:09.736+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:04:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:04:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:04:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:04:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:05:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:05:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:05:29.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:05:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:05:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:06:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:06:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:06:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:06:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:06:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:07:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:07:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:07:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:07:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:07:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:07:59.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:08:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:08:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:08:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:08:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:08:49.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:09:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:09:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:09:39.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:09:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:09:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:10:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:10:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:10:29.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:10:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:10:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:11:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:11:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:11:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:11:39.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:11:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:12:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:12:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:12:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:12:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:12:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:12:59.728+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:13:09.727+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:13:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:13:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:13:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:13:49.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:14:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:14:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:14:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:14:39.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:14:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:15:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:15:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:15:29.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:15:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:15:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:16:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:16:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:16:19.727+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:16:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:16:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:17:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:17:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:17:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:17:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:17:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:17:59.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:18:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:18:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:18:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:18:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:18:49.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:19:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:19:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:19:14.196+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"info","time":"2025-09-04T14:19:14.247+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"debug","time":"2025-09-04T14:19:39.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:19:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:19:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:20:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:20:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:20:15.971+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"info","time":"2025-09-04T14:20:25.971+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:20:29.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T14:20:39.670+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"info","time":"2025-09-04T14:20:39.670+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"test_media"}
{"level":"debug","time":"2025-09-04T14:20:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:20:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:21:08.130+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:21:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:21:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:21:15.221+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"info","time":"2025-09-04T14:21:15.221+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_QUALITY_VARIATIONS"}
{"level":"debug","time":"2025-09-04T14:21:19.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T14:21:24.353+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"error","time":"2025-09-04T14:21:24.571+0800","caller":"converter/batch_processor.go:1162","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression0.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1162\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1545\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1499\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1045\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T14:21:24.673+0800","caller":"converter/batch_processor.go:1502","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1502\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1045\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T14:21:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:21:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:22:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:22:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:22:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:22:25.157+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:22:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:22:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:22:59.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:23:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:23:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:23:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:23:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:23:49.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:24:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:24:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:24:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:24:39.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:24:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:25:04.374+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:25:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:25:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:25:29.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"warn","time":"2025-09-04T14:25:34.342+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"error","time":"2025-09-04T14:25:35.894+0800","caller":"converter/strategy.go:730","msg":"平衡优化：文件移动失败","from":"","to":"/Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/test_webp_q85.jxl","error":"rename  /Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/test_webp_q85.jxl: no such file or directory","stacktrace":"pixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:730\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1217\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1367"}
{"level":"debug","time":"2025-09-04T14:25:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:25:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"error","time":"2025-09-04T14:25:41.030+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x99903c000] Stream #0: not enough frames to estimate rate; consider increasing probesize\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/028.png':\n  Metadata:\n    major_brand     : avif\n    minor_version   : 0\n    compatible_brands: avifmif1miafMA1A\n  Duration: N/A, start: 0.000000, bitrate: N/A\n  Stream #0:0[0x1]: Video: av1 (libdav1d) (High) (av01 / 0x31307661), yuv444p(pc), 3443x2463 [SAR 1:1 DAR 3443:2463], 1 fps, 1 tbr, 1 tbn (default)\n    Metadata:\n      title           : Color\n    Side data:\n      ICC Profile\n[AVFormatContext @ 0x99903c500] Unable to choose an output format for '/Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/028.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x998c08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/028.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/TEST_NORMAL_FILES/028.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:820\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1217\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1367"}
{"level":"error","time":"2025-09-04T14:25:44.489+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:14\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:863\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1217\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1367"}
{"level":"error","time":"2025-09-04T14:25:47.537+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToJXL\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:14\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:863\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1217\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1367"}
{"level":"debug","time":"2025-09-04T14:26:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:26:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:26:19.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:26:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:26:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:27:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:27:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:27:09.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:27:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:27:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:27:59.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:28:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:28:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:28:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:28:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:28:49.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:29:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:29:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:29:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:29:39.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:29:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:30:03.716+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:30:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:30:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:30:29.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:30:39.728+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:30:39.750+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:31:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:31:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:31:19.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:31:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:31:39.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:32:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:32:09.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:32:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:32:39.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:32:39.748+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:32:59.726+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:33:09.726+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:33:09.749+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:33:39.627+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:33:39.651+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:33:49.627+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:34:09.627+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:34:09.650+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:34:39.627+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:34:39.627+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:34:39.650+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:35:09.626+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:35:09.649+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:35:29.626+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:35:39.626+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:35:39.649+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:36:09.626+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:36:09.649+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:36:19.626+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:36:39.626+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:36:39.648+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:37:09.625+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:37:09.625+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:37:09.648+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:37:39.626+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:37:39.648+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:37:59.625+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:38:09.625+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:38:09.648+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:38:39.625+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:38:39.648+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:38:49.625+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T14:38:50.005+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:39:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:39:09.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T14:39:21.474+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"error","time":"2025-09-04T14:39:21.668+0800","caller":"converter/batch_processor.go:1162","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression0.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1162\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1545\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1499\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1045\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T14:39:21.769+0800","caller":"converter/batch_processor.go:1502","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1502\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1045\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"info","time":"2025-09-04T14:39:29.069+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.6.7"}
{"level":"debug","time":"2025-09-04T14:39:39.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:39:39.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:39:39.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:40:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:40:09.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:40:29.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:40:39.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:40:39.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:41:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:41:09.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:41:19.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:41:39.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:41:39.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:42:09.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:42:09.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:42:09.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:42:39.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:42:39.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:42:59.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:43:09.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:43:09.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:43:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:43:39.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:43:49.622+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:44:09.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:44:09.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:44:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:44:39.622+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:44:39.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:45:09.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:45:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:45:29.621+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:45:39.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:45:39.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:46:09.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:46:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:46:19.621+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:46:39.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:46:39.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:47:09.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:47:09.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:47:09.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:47:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:47:39.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:47:59.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:48:09.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:48:09.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:48:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:48:39.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:48:49.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:49:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:49:09.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:49:39.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:49:39.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:49:39.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:50:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:50:09.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:50:29.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:50:39.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:50:39.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:51:09.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:51:09.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:51:19.625+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:51:39.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:51:39.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:52:09.618+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:52:09.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:52:09.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:52:39.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:52:39.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:52:59.617+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:53:09.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:53:09.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:53:39.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:53:39.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:53:49.617+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:54:09.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:54:09.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:54:39.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:54:39.616+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:54:39.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:55:09.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:55:09.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:55:29.616+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:55:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:55:39.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:56:09.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:56:09.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:56:19.616+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:56:39.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:56:39.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:57:09.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:57:09.615+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:57:09.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:57:39.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:57:39.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:57:59.615+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:58:09.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:58:09.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:58:39.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:58:39.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:58:49.614+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:59:09.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:59:09.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T14:59:39.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T14:59:39.614+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T14:59:39.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:00:09.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:00:09.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:00:29.613+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:00:39.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:00:39.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:01:09.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:01:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:01:19.613+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:01:39.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:01:39.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:02:09.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:02:09.613+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:02:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:02:29.947+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:02:39.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:02:39.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:02:47.847+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T15:02:48.092+0800","caller":"converter/batch_processor.go:1163","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression0.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1163\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1546\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1500\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T15:02:48.193+0800","caller":"converter/batch_processor.go:1503","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1503\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"info","time":"2025-09-04T15:02:53.764+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:02:59.612+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T15:03:08.771+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T15:03:09.033+0800","caller":"converter/batch_processor.go:1163","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_128colors.gif","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1163\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1546\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1500\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T15:03:09.134+0800","caller":"converter/batch_processor.go:1503","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1503\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T15:03:09.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:03:09.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:03:39.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:03:39.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:03:49.612+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:04:09.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:04:09.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:04:39.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:04:39.611+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:04:39.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:05:09.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:05:09.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:05:29.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:05:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:05:39.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:06:09.641+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:06:09.653+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:06:19.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:06:39.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:06:39.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:07:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:07:09.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:07:09.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:07:39.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:07:39.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:07:59.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:08:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:08:09.647+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:08:39.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:08:39.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:08:49.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:09:09.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:09:09.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:09:39.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:09:39.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:09:39.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:10:09.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:10:09.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:10:16.873+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:10:16.873+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"test_media"}
{"level":"debug","time":"2025-09-04T15:10:29.623+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:10:39.623+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:10:39.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:10:47.689+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:10:47.690+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"test_media"}
{"level":"info","time":"2025-09-04T15:10:54.238+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:10:54.238+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_SAMPLES"}
{"level":"info","time":"2025-09-04T15:11:04.132+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:11:04.135+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_SAMPLES"}
{"level":"debug","time":"2025-09-04T15:11:09.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:11:09.646+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:11:19.622+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:11:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:11:39.645+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:12:01.521+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:12:01.522+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_SAMPLES"}
{"level":"info","time":"2025-09-04T15:12:01.522+0800","caller":"cmd/analyze.go:119","msg":"开始扫描目录","dir":"TEST_SAMPLES"}
{"level":"debug","time":"2025-09-04T15:12:01.524+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.jpg"}
{"level":"info","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.jpg","ext":".jpg"}
{"level":"debug","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.png"}
{"level":"info","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.png","ext":".png"}
{"level":"debug","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/empty.gif"}
{"level":"info","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/empty.gif","ext":".gif"}
{"level":"debug","time":"2025-09-04T15:12:01.527+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/fake.avif"}
{"level":"info","time":"2025-09-04T15:12:01.528+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/fake.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:12:01.528+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_1.avif"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_1.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_2.avif"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_2.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_1.jxl"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_1.jxl","ext":".jxl"}
{"level":"debug","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_2.jxl"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_2.jxl","ext":".jxl"}
{"level":"debug","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_1.webm"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_1.webm","ext":".webm"}
{"level":"debug","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_2.mov"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_2.mov","ext":".mov"}
{"level":"info","time":"2025-09-04T15:12:01.529+0800","caller":"cmd/analyze.go:154","msg":"扫描完成","found_files":10}
{"level":"debug","time":"2025-09-04T15:12:09.622+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:12:09.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:12:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:12:39.622+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:12:39.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:12:59.621+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:13:09.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:13:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_SAMPLES"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:119","msg":"开始扫描目录","dir":"TEST_SAMPLES"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.jpg"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.jpg","ext":".jpg"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.png"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/corrupted.png","ext":".png"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/empty.gif"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/empty.gif","ext":".gif"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/fake.avif"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/fake.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_1.avif"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_1.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_2.avif"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_avif_2.avif","ext":".avif"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_1.jxl"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_1.jxl","ext":".jxl"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_2.jxl"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_jxl_2.jxl","ext":".jxl"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_1.webm"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_1.webm","ext":".webm"}
{"level":"debug","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:131","msg":"检查文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_2.mov"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:136","msg":"找到媒体文件","path":"/Users/nameko_1/Downloads/test/TEST_SAMPLES/test_video_2.mov","ext":".mov"}
{"level":"info","time":"2025-09-04T15:13:24.271+0800","caller":"cmd/analyze.go:154","msg":"扫描完成","found_files":10}
{"level":"debug","time":"2025-09-04T15:13:39.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:13:39.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:13:49.621+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T15:14:07.781+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T15:14:07.781+0800","caller":"cmd/analyze.go:42","msg":"开始分析媒体文件","target":"TEST_SAMPLES"}
{"level":"debug","time":"2025-09-04T15:14:09.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:14:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:14:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:14:39.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:14:39.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:15:09.621+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:15:09.644+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:15:29.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:15:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:15:39.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:16:09.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:16:09.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:16:19.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:16:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:16:39.643+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:17:09.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:17:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:17:09.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:17:39.620+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:17:39.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:17:59.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:18:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:18:09.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:18:39.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:18:39.642+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:18:49.619+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:19:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:19:09.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:19:39.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:19:39.618+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:19:39.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:20:09.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:20:09.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:20:29.618+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:20:39.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:20:39.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:21:09.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:21:09.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:21:19.618+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T15:21:27.484+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:21:39.618+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:21:39.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:21:55.248+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:22:09.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:22:09.617+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:22:09.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T15:22:25.239+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"info","time":"2025-09-04T15:22:34.898+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T15:22:38.350+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.webp\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.webp\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1112\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.406+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nError while decoding the JPEG image. It may be corrupt (e.g. truncated) or of an unsupported type (e.g. CMYK).\nEncodeImageJXL() failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.413+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.428+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"libpng error: Read Error\nError reading PNG: /Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.439+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.460+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q55.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x70880c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q55.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x709450300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q55.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q55.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.474+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q95.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xacb064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q95.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xacac1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q95.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q95.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.544+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q65.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a9040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q65.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9a8c34300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q65.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q65.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.550+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q85.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbab040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q85.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbaac38300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q85.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q85.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:38.568+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q75.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xbe1044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q75.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xbe0c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q75.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q75.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"debug","time":"2025-09-04T15:22:39.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:22:39.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"error","time":"2025-09-04T15:22:41.531+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[image2 @ 0xb2ac38000] Could not find codec parameters for stream 0 (Video: mjpeg (Baseline), none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 102 kb/s\n  Stream #0:0: Video: mjpeg (Baseline), none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb2ac38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb2b044240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/truncated.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:41.540+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:41.543+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:41.559+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xc1b410380] No JPEG data found in image\n[image2 @ 0xc1a834000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 5 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xc1a834280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xc1b030d80] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.134+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.363+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.378+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.457+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.651+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.651+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:44.651+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.229+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.465+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.469+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.544+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.666+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.713+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_16colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:47.713+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_128colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:50.294+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_256colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:50.538+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_64colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:50.538+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_32colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:50.612+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\nCannot read input file: /Users/nameko_1/Downloads/test/test_data/quality_variations/test_animated_8colors.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:53.905+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb95044280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb94c089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:53.977+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q25.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9b5064280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q25.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9b4c1c300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q25.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q25.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:54.185+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q45.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9c1430280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q45.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9c0808300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q45.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q45.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:54.199+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q35.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x78f418280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q35.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x78ec089c0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q35.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q35.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:54.843+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, webp_pipe, from '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.webp':\n  Duration: N/A, bitrate: N/A\n  Stream #0:0: Video: webp, yuv420p(tv, bt470bg/unknown/unknown), 1920x1080, 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb82c38280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb83044300] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:818\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:55.804+0800","caller":"converter/strategy.go:730","msg":"平衡优化：文件移动失败","from":"","to":"/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.jxl","error":"rename  /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q15.jxl: no such file or directory","stacktrace":"pixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:730\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"error","time":"2025-09-04T15:22:56.588+0800","caller":"converter/strategy.go:730","msg":"平衡优化：文件移动失败","from":"","to":"/Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.jxl","error":"rename  /Users/nameko_1/Downloads/test/test_data/quality_variations/test_webp_q5.jxl: no such file or directory","stacktrace":"pixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:730\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1218\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1368"}
{"level":"debug","time":"2025-09-04T15:22:59.617+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:23:09.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:23:09.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:23:39.617+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:23:39.640+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:23:49.617+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:24:09.619+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:24:09.641+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:24:39.616+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:24:39.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:24:39.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:25:09.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:25:09.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:25:29.620+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:25:39.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:25:39.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:26:09.616+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:26:09.639+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:26:19.615+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:26:39.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:26:39.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:27:09.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:27:09.615+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:27:09.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:27:39.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:27:39.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:27:59.615+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:28:09.615+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:28:09.638+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:28:39.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:28:39.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:28:49.614+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:29:09.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:29:09.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:29:39.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:29:39.614+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:29:39.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:30:09.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:30:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:30:29.614+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:30:39.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:30:39.637+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:31:09.614+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:31:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:31:19.613+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:31:39.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:31:39.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:32:09.613+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:32:09.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:32:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:32:16.490+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:32:39.613+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:32:39.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:32:59.612+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:33:09.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:33:09.636+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:33:14.657+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:33:39.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:33:39.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:33:49.612+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T15:33:51.170+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:34:09.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:34:09.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:34:39.612+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:34:39.612+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:34:39.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:35:09.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:35:09.635+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:35:29.611+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:35:39.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:35:39.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:35:47.905+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:36:09.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:36:09.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:36:19.611+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:36:39.611+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:36:39.633+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:37:09.624+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:37:09.624+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:37:09.634+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:37:39.639+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:37:39.662+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:37:59.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:38:09.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:38:09.670+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:38:39.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:38:39.670+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:38:49.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:39:09.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:39:09.670+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:39:39.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:39:39.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:39:39.670+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:40:09.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:40:09.670+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:40:29.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:40:39.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:40:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:41:09.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:41:09.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:41:19.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:41:39.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:41:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:42:09.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:42:09.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:42:09.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:42:39.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:42:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:42:55.876+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:42:59.647+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:43:09.647+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:43:09.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T15:43:25.868+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"error","time":"2025-09-04T15:43:27.356+0800","caller":"converter/batch_processor.go:1163","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression3.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1163\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1546\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1500\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T15:43:27.459+0800","caller":"converter/batch_processor.go:1503","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1503\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1046\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"info","time":"2025-09-04T15:43:38.977+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:43:39.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:43:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:43:49.646+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:44:09.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:44:09.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:44:39.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:44:39.646+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:44:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:45:09.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:45:09.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:45:29.646+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:45:39.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:45:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:46:09.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:46:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:46:19.646+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:46:39.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:46:39.669+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:47:09.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:47:09.645+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:47:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:47:39.646+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:47:39.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:47:59.645+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:48:09.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:48:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:48:28.166+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:48:39.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:48:39.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:48:49.645+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:49:09.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:49:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:49:29.868+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:49:39.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:49:39.645+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:49:39.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:49:49.455+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:50:09.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:50:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:50:29.646+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:50:39.644+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:50:39.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:50:45.122+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:51:09.645+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:51:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T15:51:15.086+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"debug","time":"2025-09-04T15:51:19.644+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"error","time":"2025-09-04T15:51:19.739+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:19.740+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nError while decoding the JPEG image. It may be corrupt (e.g. truncated) or of an unsupported type (e.g. CMYK).\nEncodeImageJXL() failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:19.765+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:19.765+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"libpng error: Read Error\nError reading PNG: /Users/nameko_1/Downloads/test/test_conversion/truncated.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/truncated.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:22.879+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xac1020380] No JPEG data found in image\n[image2 @ 0xac0808000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 5 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xac0808280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xac1404240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:22.879+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[image2 @ 0xb3c82c000] Could not find codec parameters for stream 0 (Video: mjpeg (Baseline), none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_conversion/truncated.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 102 kb/s\n  Stream #0:0: Video: mjpeg (Baseline), none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xb3c82c280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xb3d00c180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:25.963+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:51:28.973+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T15:51:39.644+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:51:39.667+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:52:09.644+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:52:09.644+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:52:09.668+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:52:39.644+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:52:39.667+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:52:58.491+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:52:59.644+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:53:09.644+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:53:09.667+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:53:39.812+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:53:39.835+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:53:49.815+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:54:09.813+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:54:09.836+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:54:39.813+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:54:39.813+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:54:39.836+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:54:53.377+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:55:09.814+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:55:09.837+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T15:55:23.368+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"error","time":"2025-09-04T15:55:27.905+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:27.907+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nEncoding [JPEG, lossless transcode, effort: 9]\nError while decoding the JPEG image. It may be corrupt (e.g. truncated) or of an unsupported type (e.g. CMYK).\nEncodeImageJXL() failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:27.917+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:27.917+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"libpng error: Read Error\nError reading PNG: /Users/nameko_1/Downloads/test/test_conversion/truncated.png\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/truncated.png\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*QualityStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:1094\npixly/pkg/converter.(*AutoPlusStrategy).applyQualityModeLogic\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:644\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:71\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T15:55:29.814+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"error","time":"2025-09-04T15:55:31.070+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[image2 @ 0x9a9040000] Could not find codec parameters for stream 0 (Video: mjpeg (Baseline), none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_conversion/truncated.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 102 kb/s\n  Stream #0:0: Video: mjpeg (Baseline), none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x9a9040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x9a8c60180] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_conversion/truncated.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:31.070+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xa4cc40380] No JPEG data found in image\n[image2 @ 0xa4d060000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 5 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xa4d060280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xa4cc18240] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:34.150+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:55:37.166+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_conversion/corrupted_fake.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T15:55:39.814+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:55:39.837+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:56:09.814+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:56:09.837+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:56:19.815+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:56:39.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:56:39.838+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:57:09.815+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:57:09.815+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:57:09.838+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:57:26.801+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T15:57:26.836+0800","caller":"converter/converter.go:394","msg":"路径权限检查失败","path":"test_magic_number.jpg","error":"指定路径不是目录: /Users/nameko_1/Downloads/test/test_magic_number.jpg","stacktrace":"pixly/pkg/converter.(*Converter).checkPathPermissions\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:394\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:300\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T15:57:39.816+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"info","time":"2025-09-04T15:57:39.829+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:57:39.839+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"error","time":"2025-09-04T15:57:43.307+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:57:46.476+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0xae0c80380] No JPEG data found in image\n[image2 @ 0xae1024000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 9 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0xae1024280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0xae0c2ccc0] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:57:49.567+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:57:52.587+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T15:57:59.816+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:58:09.816+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:58:09.839+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:58:19.727+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T15:58:23.258+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/cjxl","error":"exit status 1","output":"JPEG XL encoder v0.11.1 0.11.1 [NEON_BF16,NEON]\nGetting pixel data failed.\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:246\npixly/pkg/converter.(*Converter).convertJPEGToJXLRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:282\npixly/pkg/converter.(*AutoPlusStrategy).attemptLosslessRepackaging\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:773\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:659\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:58:26.460+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\n[mjpeg @ 0x79d048380] No JPEG data found in image\n[image2 @ 0x79d040000] Could not find codec parameters for stream 0 (Video: mjpeg, none(bt470bg/unknown/unknown)): unspecified size\nConsider increasing the value for the 'analyzeduration' (0) and 'probesize' (5000000) options\nInput #0, image2, from '/Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: 9 kb/s\n  Stream #0:0: Video: mjpeg, none(bt470bg/unknown/unknown), 25 fps, 25 tbr, 25 tbn\n[AVFormatContext @ 0x79d040280] Unable to choose an output format for '/Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp'; use a standard extension for the filename or specify the format manually.\n[out#0 @ 0x79cc08840] Error initializing the muxer for /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp: Invalid argument\nError opening output file /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jxl.tmp.\nError opening output files: Invalid argument\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*Converter).convertToJXLMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:340\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:799\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:58:29.567+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T15:58:32.590+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\nCannot read input file: /Users/nameko_1/Downloads/test/test_magic/test_magic_number.jpg\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:905\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T15:58:39.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:58:39.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T15:58:49.817+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:59:09.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:59:09.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T15:59:12.079+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T15:59:39.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T15:59:39.817+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T15:59:39.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:00:09.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:00:09.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:00:29.818+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:00:39.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:00:39.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:01:09.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:01:09.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:01:19.819+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:01:39.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:01:39.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:02:09.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:02:09.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:02:09.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:02:39.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:02:39.843+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:02:59.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:03:09.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:03:09.843+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:03:39.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:03:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:03:49.821+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:04:09.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:04:09.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:04:39.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:04:39.822+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:04:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:05:09.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:05:09.845+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:05:29.822+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:05:39.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:05:39.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:06:09.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:06:09.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:06:19.823+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:06:39.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:06:39.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:07:09.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:07:09.824+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:07:09.849+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:07:39.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:07:39.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:07:59.824+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:08:09.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:08:09.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:08:39.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:08:39.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:08:49.825+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:09:09.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:09:09.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:09:39.827+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:09:39.827+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:09:39.850+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:10:09.826+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:10:09.849+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:10:29.827+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:10:39.827+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:10:39.850+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:11:09.827+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:11:09.850+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:11:19.827+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:11:39.828+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:11:39.850+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:12:09.828+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:12:09.828+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:12:09.851+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:12:39.829+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:12:39.852+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:12:59.829+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:13:09.829+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:13:09.852+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:13:39.829+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:13:39.853+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:13:49.830+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:14:09.829+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:14:09.853+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:14:39.830+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:14:39.830+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:14:39.853+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:15:09.831+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:15:09.853+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:15:29.831+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:15:39.831+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:15:39.854+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:16:09.831+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:16:09.855+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:16:19.832+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:16:39.832+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:16:39.854+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:17:09.832+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:17:09.832+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:17:09.855+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:17:39.833+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:17:39.855+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:17:59.833+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:18:09.833+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:18:09.856+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:18:39.834+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:18:39.857+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:18:49.834+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:19:09.834+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:19:09.857+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:19:39.834+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:19:39.834+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:19:39.857+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:20:09.835+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:20:09.858+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:20:29.835+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:20:39.835+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:20:39.858+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:21:09.836+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:21:09.859+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:21:19.836+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:21:39.836+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:21:39.859+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:22:09.836+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:22:09.836+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:22:09.859+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:22:39.837+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:22:39.860+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:22:59.837+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:23:09.837+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:23:09.860+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:23:39.838+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:23:39.861+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:23:49.838+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:24:09.839+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:24:09.861+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:24:39.839+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:24:39.839+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:24:39.861+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:25:09.840+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:25:09.863+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:25:29.840+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:25:39.839+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:25:39.863+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:26:09.840+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:26:09.863+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:26:19.840+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:26:39.841+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:26:39.863+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:27:09.840+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:27:09.840+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:27:09.863+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:27:39.841+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:27:39.864+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:27:59.841+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:28:09.841+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:28:09.864+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:28:39.842+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:28:39.865+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:28:49.842+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:29:09.842+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:29:09.866+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:29:39.843+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:29:39.843+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:29:39.866+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:30:09.843+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:30:09.866+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:30:29.843+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:30:39.844+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:30:39.867+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:31:09.844+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:31:09.867+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:31:19.844+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:31:39.845+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:31:39.868+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:32:09.846+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:32:09.846+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:32:09.868+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:32:39.845+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:32:39.868+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:32:59.846+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:33:09.846+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:33:09.869+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:33:39.846+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:33:39.869+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:33:49.846+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:34:09.847+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:34:09.870+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:34:39.847+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:34:39.847+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:34:39.870+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:35:09.847+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:35:09.870+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:35:29.847+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:35:39.848+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:35:39.871+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:36:09.848+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:36:09.871+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:36:19.849+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:36:39.849+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:36:39.872+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:37:09.849+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:37:09.849+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:37:09.872+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:37:39.849+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:37:39.873+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:37:59.850+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:38:09.851+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:38:09.873+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:38:39.850+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:38:39.874+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:38:49.851+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:39:09.851+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:39:09.874+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:39:39.851+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:39:39.851+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:39:39.874+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:40:09.851+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:40:09.875+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:40:29.852+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:40:39.852+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:40:39.875+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:41:09.852+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:41:09.876+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:41:19.845+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:41:39.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:41:39.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:42:09.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:42:09.818+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:42:09.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:42:39.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:42:39.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:42:59.817+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:43:09.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:43:09.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:43:39.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:43:39.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T16:43:40.364+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T16:43:40.415+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"debug","time":"2025-09-04T16:43:49.818+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:44:09.817+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:44:09.840+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:44:39.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:44:39.818+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:44:39.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:45:09.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:45:09.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:45:29.818+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:45:39.818+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:45:39.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:46:09.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:46:09.841+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:46:19.819+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:46:39.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:46:39.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:47:09.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:47:09.819+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:47:09.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:47:39.819+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:47:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"error","time":"2025-09-04T16:47:43.248+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:876\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:47:46.612+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:976\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:47:49.967+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/Video test/97193104.webm\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:976\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T16:47:59.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:48:09.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:48:09.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:48:39.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:48:39.842+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:48:49.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"error","time":"2025-09-04T16:48:52.391+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/01f2e1d79ba8efe4edc3081514697493.jpg","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.executeConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:480\npixly/cmd.startConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:328\npixly/cmd.showMainMenu\n\t/Users/nameko_1/Downloads/test/cmd/root.go:235\npixly/cmd.runInteractiveMode\n\t/Users/nameko_1/Downloads/test/cmd/root.go:137\npixly/cmd.runRootCommand\n\t/Users/nameko_1/Downloads/test/cmd/root.go:132\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:48:52.492+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.executeConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:480\npixly/cmd.startConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:328\npixly/cmd.showMainMenu\n\t/Users/nameko_1/Downloads/test/cmd/root.go:235\npixly/cmd.runInteractiveMode\n\t/Users/nameko_1/Downloads/test/cmd/root.go:137\npixly/cmd.runRootCommand\n\t/Users/nameko_1/Downloads/test/cmd/root.go:132\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:48:55.735+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:48:55.750+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:48:58.845+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:48:58.861+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:49:01.933+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:49:01.945+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T16:49:09.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:49:09.843+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:49:39.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:49:39.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:49:39.843+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:50:09.820+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:50:09.843+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:50:29.820+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"error","time":"2025-09-04T16:50:34.739+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/01f2e1d79ba8efe4edc3081514697493.jpg","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.executeConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:480\npixly/cmd.startConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:328\npixly/cmd.showMainMenu\n\t/Users/nameko_1/Downloads/test/cmd/root.go:235\npixly/cmd.runInteractiveMode\n\t/Users/nameko_1/Downloads/test/cmd/root.go:137\npixly/cmd.runRootCommand\n\t/Users/nameko_1/Downloads/test/cmd/root.go:132\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:50:34.841+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.executeConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:480\npixly/cmd.startConversion\n\t/Users/nameko_1/Downloads/test/cmd/root.go:328\npixly/cmd.showMainMenu\n\t/Users/nameko_1/Downloads/test/cmd/root.go:235\npixly/cmd.runInteractiveMode\n\t/Users/nameko_1/Downloads/test/cmd/root.go:137\npixly/cmd.runRootCommand\n\t/Users/nameko_1/Downloads/test/cmd/root.go:132\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:50:38.083+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:50:38.086+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T16:50:39.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:50:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"error","time":"2025-09-04T16:50:41.203+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:50:41.209+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:50:44.296+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-18955b114d95ca6.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:50:44.301+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/avifenc","error":"exit status 1","output":"Unrecognized file format for input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\nCannot read input file: /Users/nameko_1/Downloads/test_副本/TEST/教程(仅一份) 如果你需要测试大量转换 复制一份新的_副本2_pixly_safe_copy_20250829_075315/未命名相簿/-778e1ddcefb3fc0b.gif\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:64\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T16:51:09.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:51:09.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:51:19.821+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:51:39.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:51:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:52:09.821+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:52:09.821+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:52:09.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:52:39.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:52:39.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:52:59.822+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:53:09.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:53:09.844+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:53:39.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:53:39.845+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:53:49.822+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:54:09.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:54:09.845+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:54:39.822+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:54:39.822+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:54:39.845+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:55:09.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:55:09.845+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"info","time":"2025-09-04T16:55:15.100+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T16:55:29.276+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T16:55:29.823+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:55:39.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:55:39.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"warn","time":"2025-09-04T16:55:59.246+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"debug","time":"2025-09-04T16:56:09.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:56:09.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:56:19.823+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T16:56:23.005+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T16:56:23.245+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression3.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:56:23.346+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"info","time":"2025-09-04T16:56:35.055+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T16:56:39.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:56:39.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"info","time":"2025-09-04T16:56:52.977+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T16:56:56.526+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, gif, from '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif':\n  Duration: 00:00:01.00, start: 0.000000, bitrate: 129 kb/s\n  Stream #0:0: Video: gif, bgra, 400x400, 10 fps, 10 tbr, 100 tbn\nStream mapping:\n  Stream #0:0 -> #0:0 (gif (native) -> png (native))\nPress [q] to stop, [?] for help\nOutput #0, image2, to '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png':\n  Metadata:\n    encoder         : Lavf62.3.100\n  Stream #0:0: Video: png, rgba(pc, gbr/unknown/unknown, progressive), 400x400, q=2-31, 200 kb/s, 10 fps, 10 tbn\n    Metadata:\n      encoder         : Lavc62.11.100 png\n[image2 @ 0xbaf020280] The specified filename '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png' does not contain an image sequence pattern or a pattern is invalid.\n[image2 @ 0xbaf020280] Use a pattern such as %03d for an image sequence or use the -update option (with -frames:v 1 if needed) to write a single image.\n[image2 @ 0xbaf020280] Cannot write more than one file with the same name. Are you missing the -update option or a sequence pattern?\n[vost#0:0/png @ 0xbaecd0000] Error submitting a packet to the muxer: Invalid argument\n    Last message repeated 1 times\n[out#0/image2 @ 0xbaec54240] Error muxing a packet\n[out#0/image2 @ 0xbaec54240] Task finished with error code: -22 (Invalid argument)\n[out#0/image2 @ 0xbaec54240] Terminating thread with return code -22 (Invalid argument)\n[out#0/image2 @ 0xbaec54240] video:5KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: unknown\nframe=    2 fps=0.0 q=-0.0 Lsize=N/A time=00:00:00.30 bitrate=N/A speed=41.8x elapsed=0:00:00.00    \nConversion failed!\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).universalToAVIFPreProcessor\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:192\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:44\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptMathematicalLossless\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:825\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:666\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:56:59.745+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, gif, from '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif':\n  Duration: 00:00:01.00, start: 0.000000, bitrate: 129 kb/s\n  Stream #0:0: Video: gif, bgra, 400x400, 10 fps, 10 tbr, 100 tbn\nStream mapping:\n  Stream #0:0 -> #0:0 (gif (native) -> png (native))\nPress [q] to stop, [?] for help\nOutput #0, image2, to '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png':\n  Metadata:\n    encoder         : Lavf62.3.100\n  Stream #0:0: Video: png, rgba(pc, gbr/unknown/unknown, progressive), 400x400, q=2-31, 200 kb/s, 10 fps, 10 tbn\n    Metadata:\n      encoder         : Lavc62.11.100 png\n[image2 @ 0x99b060280] The specified filename '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png' does not contain an image sequence pattern or a pattern is invalid.\n[image2 @ 0x99b060280] Use a pattern such as %03d for an image sequence or use the -update option (with -frames:v 1 if needed) to write a single image.\n[image2 @ 0x99b060280] Cannot write more than one file with the same name. Are you missing the -update option or a sequence pattern?\n[vost#0:0/png @ 0x99b09c000] Error submitting a packet to the muxer: Invalid argument\n    Last message repeated 1 times\n[out#0/image2 @ 0x99ac08900] Error muxing a packet\n[out#0/image2 @ 0x99ac08900] Task finished with error code: -22 (Invalid argument)\n[out#0/image2 @ 0x99ac08900] Terminating thread with return code -22 (Invalid argument)\n[out#0/image2 @ 0x99ac08900] video:5KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: unknown\nframe=    2 fps=0.0 q=-0.0 Lsize=N/A time=00:00:00.30 bitrate=N/A speed=38.5x elapsed=0:00:00.00    \nConversion failed!\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).universalToAVIFPreProcessor\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:192\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:44\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"error","time":"2025-09-04T16:57:02.935+0800","caller":"converter/tool_manager.go:147","msg":"工具执行失败，已达到最大重试次数","tool":"/opt/homebrew/bin/ffmpeg","error":"exit status 234","output":"ffmpeg version 8.0 Copyright (c) 2000-2025 the FFmpeg developers\n  built with Apple clang version 17.0.0 (clang-1700.0.13.3)\n  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/8.0_1 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon\n  libavutil      60.  8.100 / 60.  8.100\n  libavcodec     62. 11.100 / 62. 11.100\n  libavformat    62.  3.100 / 62.  3.100\n  libavdevice    62.  1.100 / 62.  1.100\n  libavfilter    11.  4.100 / 11.  4.100\n  libswscale      9.  1.100 /  9.  1.100\n  libswresample   6.  1.100 /  6.  1.100\nInput #0, gif, from '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif':\n  Duration: 00:00:01.00, start: 0.000000, bitrate: 129 kb/s\n  Stream #0:0: Video: gif, bgra, 400x400, 10 fps, 10 tbr, 100 tbn\nStream mapping:\n  Stream #0:0 -> #0:0 (gif (native) -> png (native))\nPress [q] to stop, [?] for help\nOutput #0, image2, to '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png':\n  Metadata:\n    encoder         : Lavf62.3.100\n  Stream #0:0: Video: png, rgba(pc, gbr/unknown/unknown, progressive), 400x400, q=2-31, 200 kb/s, 10 fps, 10 tbn\n    Metadata:\n      encoder         : Lavc62.11.100 png\n[image2 @ 0x950c58280] The specified filename '/Users/nameko_1/Downloads/test/test_gif/test_animated_128colors.gif.temp.png' does not contain an image sequence pattern or a pattern is invalid.\n[image2 @ 0x950c58280] Use a pattern such as %03d for an image sequence or use the -update option (with -frames:v 1 if needed) to write a single image.\n[image2 @ 0x950c58280] Cannot write more than one file with the same name. Are you missing the -update option or a sequence pattern?\n[vost#0:0/png @ 0x951054000] Error submitting a packet to the muxer: Invalid argument\n    Last message repeated 1 times\n[out#0/image2 @ 0x951024240] Error muxing a packet\n[out#0/image2 @ 0x951024240] Task finished with error code: -22 (Invalid argument)\n[out#0/image2 @ 0x951024240] Terminating thread with return code -22 (Invalid argument)\n[out#0/image2 @ 0x951024240] video:5KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: unknown\nframe=    2 fps=0.0 q=-0.0 Lsize=N/A time=00:00:00.20 bitrate=N/A speed=29.2x elapsed=0:00:00.00    \nConversion failed!\n","stacktrace":"pixly/pkg/converter.(*ToolManager).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:147\npixly/pkg/converter.(*ToolManager).ExecuteWithPathValidation\n\t/Users/nameko_1/Downloads/test/pkg/converter/tool_manager.go:120\npixly/pkg/converter.(*ConversionFramework).universalToAVIFPreProcessor\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:192\npixly/pkg/converter.(*ConversionFramework).Execute\n\t/Users/nameko_1/Downloads/test/pkg/converter/conversion_framework.go:44\npixly/pkg/converter.(*Converter).convertToAVIF\n\t/Users/nameko_1/Downloads/test/pkg/converter/image.go:20\npixly/pkg/converter.(*AutoPlusStrategy).attemptLossyCompression\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:925\npixly/pkg/converter.(*AutoPlusStrategy).applyBalancedOptimization\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:684\npixly/pkg/converter.(*AutoPlusStrategy).ConvertImage\n\t/Users/nameko_1/Downloads/test/pkg/converter/strategy.go:75\npixly/pkg/converter.(*FileProcessor).processConversion\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1219\npixly/pkg/converter.(*BatchProcessor).processFile.func2\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1369"}
{"level":"debug","time":"2025-09-04T16:57:09.823+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:57:09.823+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:57:09.846+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:57:39.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:57:39.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T16:57:42.401+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T16:57:53.494+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T16:57:53.940+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_animated_8colors.gif","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:57:54.041+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T16:57:59.824+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T16:58:04.455+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T16:58:09.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:58:09.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T16:58:25.317+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"error","time":"2025-09-04T16:58:25.626+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/original_high_quality.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T16:58:25.733+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T16:58:39.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:58:39.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:58:49.824+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:59:09.824+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:59:09.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T16:59:39.825+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T16:59:39.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T16:59:39.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:00:09.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:00:09.847+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:00:29.825+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T17:00:39.831+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:00:39.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:01:09.826+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:01:09.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":1,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:01:19.825+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T17:01:39.825+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:01:39.849+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:02:09.826+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:02:09.826+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"debug","time":"2025-09-04T17:02:09.848+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":2,"limit_mb":8192}
{"level":"info","time":"2025-09-04T17:02:37.576+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"debug","time":"2025-09-04T17:02:39.826+0800","caller":"converter/advanced_pool.go:482","msg":"池缩容","原大小":10,"新大小":8,"队列比率":0}
{"level":"debug","time":"2025-09-04T17:02:39.849+0800","caller":"converter/watchdog.go:412","msg":"📊 内存使用情况（用户模式）","current_mb":0,"limit_mb":8192}
{"level":"debug","time":"2025-09-04T17:02:59.826+0800","caller":"converter/advanced_pool.go:428","msg":"池监控指标","池大小":10,"运行中":0,"空闲":10,"活跃工作者":0,"排队任务":0,"已完成":1,"失败":0,"平均等待":"82.125µs","平均执行":"3.514205209s"}
{"level":"info","time":"2025-09-04T17:03:53.730+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"warn","time":"2025-09-04T17:04:23.717+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"error","time":"2025-09-04T17:04:24.985+0800","caller":"converter/batch_processor.go:1164","msg":"提交任务到工作池失败","error":"优先级队列已满","文件":"/Users/nameko_1/Downloads/test/TEST_QUALITY_VARIATIONS/test_png_compression0.png","stacktrace":"pixly/pkg/converter.(*BatchProcessor).processFiles\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1164\npixly/pkg/converter.(*BatchProcessor).executeBatchWithTransaction\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1547\npixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1501\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"error","time":"2025-09-04T17:04:25.087+0800","caller":"converter/batch_processor.go:1504","msg":"批处理失败，开始回滚","error":"提交任务失败: 优先级队列已满","stacktrace":"pixly/pkg/converter.(*BatchProcessor).atomicBatchProcess\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1504\npixly/pkg/converter.(*BatchProcessor).ProcessTaskQueue\n\t/Users/nameko_1/Downloads/test/pkg/converter/batch_processor.go:1047\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:350\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"info","time":"2025-09-04T17:05:57.657+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:19:33.671+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"warn","time":"2025-09-04T17:20:03.650+0800","caller":"converter/checkpoint.go:114","msg":"删除可能损坏的数据库文件","path":"/var/folders/13/mnd_v68d3h3c__ws8xh9jcr40000gp/T/pixly_checkpoints/conversion.db"}
{"level":"info","time":"2025-09-04T17:21:19.526+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:21:19.578+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T17:25:11.320+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:27:34.229+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:29:03.223+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:30:22.070+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:31:52.958+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:34:07.790+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:36:21.114+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:38:42.112+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:41:36.970+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:42:29.123+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T17:44:36.897+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:06:46.950+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:06:47.002+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:07:46.740+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:11:36.814+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:14:42.478+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:14:42.531+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:16:24.151+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:16:24.202+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:16:35.497+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:16:35.548+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:16:41.265+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:16:41.316+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:25:23.455+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.1"}
{"level":"info","time":"2025-09-04T18:25:23.508+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T18:45:21.289+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.3"}
{"level":"info","time":"2025-09-04T18:45:21.340+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"info","time":"2025-09-04T22:33:17.446+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.3"}
{"level":"info","time":"2025-09-04T22:33:17.497+0800","caller":"cmd/root.go:146","msg":"欢迎界面显示完成"}
{"level":"debug","time":"2025-09-04T22:33:58.168+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:33:58.674+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:33:59.181+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:33:59.688+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:00.194+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:00.702+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:01.208+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:01.715+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:02.222+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:02.735+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:03.240+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:03.746+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:04.251+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:04.757+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:05.264+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:05.773+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:06.281+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:06.788+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:07.293+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:07.798+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:08.304+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:08.809+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:09.315+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:09.821+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:10.331+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:10.840+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:11.346+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:11.856+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:12.363+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:12.868+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:13.375+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:13.880+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:14.388+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:14.897+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:15.405+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:15.915+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:16.421+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:16.927+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:17.436+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:17.942+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:18.449+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:18.955+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:19.460+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:19.965+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:20.475+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:20.981+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:21.490+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:21.998+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:22.505+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:23.015+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:23.522+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:24.029+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:24.536+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:25.044+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:25.554+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:26.061+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:26.568+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:27.077+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:27.596+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:28.104+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:28.612+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:29.123+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:29.632+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:30.152+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:30.665+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:31.175+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:31.686+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:32.193+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:32.701+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:33.208+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:33.724+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:34.232+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:34.738+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:35.244+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:35.750+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:36.261+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:36.767+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:37.275+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:37.781+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:38.289+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:38.796+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:39.300+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:39.808+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:40.314+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:40.821+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:41.327+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:41.839+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:42.346+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:42.853+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:43.360+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:43.868+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:44.379+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:44.889+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:45.396+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:45.911+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:46.417+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:46.940+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:47.446+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:47.952+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:48.466+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:48.971+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:49.478+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:49.985+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:50.490+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:50.996+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:51.504+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:52.010+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:52.518+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:53.026+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:53.534+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:54.040+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:54.551+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:55.062+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:55.570+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:56.079+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:56.586+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:57.094+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:57.601+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:58.115+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:58.621+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:59.128+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:34:59.635+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"debug","time":"2025-09-04T22:35:00.144+0800","caller":"converter/checkpoint.go:175","msg":"执行批量同步"}
{"level":"info","time":"2025-09-04T22:36:29.994+0800","caller":"cmd/root.go:112","msg":"Pixly initialized","version":"1.65.7.3"}
{"level":"error","time":"2025-09-04T22:36:30.062+0800","caller":"converter/converter.go:396","msg":"路径权限检查失败","path":"/Users/nameko_1/Downloads/test/media","error":"路径不存在: /Users/nameko_1/Downloads/test/media","stacktrace":"pixly/pkg/converter.(*Converter).checkPathPermissions\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:396\npixly/pkg/converter.(*Converter).Convert\n\t/Users/nameko_1/Downloads/test/pkg/converter/converter.go:316\npixly/cmd.runConverter\n\t/Users/nameko_1/Downloads/test/cmd/root.go:1089\ngithub.com/spf13/cobra.(*Command).execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:983\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1115\ngithub.com/spf13/cobra.(*Command).Execute\n\t/Users/nameko_1/go/pkg/mod/github.com/spf13/cobra@v1.8.0/command.go:1039\npixly/cmd.Execute\n\t/Users/nameko_1/Downloads/test/cmd/root.go:66\nmain.main\n\t/Users/nameko_1/Downloads/test/main.go:15\nruntime.main\n\t/opt/homebrew/Cellar/go/1.25.0/libexec/src/runtime/proc.go:285"}
{"level":"debug","time":"2025-09-04T22:36:30.163+0800","caller":"converter/checkpoint.go:184","msg":"停止同步循环"}
