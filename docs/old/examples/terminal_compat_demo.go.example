package main

import (
	"fmt"
	"time"

	"pixly/internal/ui"
	"pixly/internal/terminal"
	"pixly/pkg/i18n"
	"pixly/pkg/theme"
)

func main() {
	// åˆå§‹åŒ–å›½é™…åŒ–ç®¡ç†å™¨
	i18n.InitializeGlobalI18n()
	
	// åˆå§‹åŒ–ä¸»é¢˜ç®¡ç†å™¨
	theme.InitializeGlobalTheme()
	
	// æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯
	fmt.Println("Terminal Compatibility Demo")
	fmt.Println("==========================")
	
	// è·å–ç»ˆç«¯ä¿¡æ¯
	terminalInfo := terminal.GetInfo()
	fmt.Printf("Terminal Info: Width=%d, Height=%d, IsIDE=%v\n", 
		terminalInfo.Width, terminalInfo.Height, terminalInfo.IsIDE)
	
	// æµ‹è¯•IDEç¯å¢ƒæ£€æµ‹
	isIDE := terminal.IsInIDEEnvironment()
	fmt.Printf("Is IDE Environment: %v\n", isIDE)
	
	// æµ‹è¯•å¢å¼ºç»ˆç«¯åŠŸèƒ½æ£€æµ‹
	isEnhanced := terminal.IsEnhancedTerminal()
	fmt.Printf("Is Enhanced Terminal: %v\n", isEnhanced)
	
	// æµ‹è¯•æ¸…å±åŠŸèƒ½
	fmt.Println("\nTesting ClearScreen function...")
	ui.ClearScreen()
	time.Sleep(50 * time.Millisecond)
	
	// æ˜¾ç¤ºæµ‹è¯•èœå•
	menuOptions := []ui.MenuOption{
		{Icon: "ğŸ’¼", Text: "Start Conversion", Description: "Begin file conversion process", Enabled: true},
		{Icon: "âš™ï¸", Text: "Settings", Description: "Configure application settings", Enabled: true},
		{Icon: "ğŸ§ª", Text: "Test Suite", Description: "Run test suite", Enabled: true},
		{Icon: "â“", Text: "Help", Description: "View help documentation", Enabled: true},
		{Icon: "â„¹ï¸", Text: "About", Description: "View application information", Enabled: true},
		{Icon: "ğŸšª", Text: "Exit", Description: "Exit the application", Enabled: true},
	}
	
	ui.DisplayEnhancedMenu("Main Menu", menuOptions)
	
	fmt.Println("\nDemo completed successfully!")
}