# åŠ¨å›¾å¤„ç†æŒ‡å—

## æ¦‚è¿°

EasyModeå·¥å…·é›†å®Œå…¨æ”¯æŒåŠ¨ç”»å›¾åƒçš„è½¬æ¢å’Œå¤„ç†ï¼Œç‰¹åˆ«æ˜¯GIFåˆ°JXLåŠ¨ç”»çš„è½¬æ¢ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†åŠ¨å›¾å¤„ç†çš„æŠ€æœ¯å®ç°ã€éªŒè¯æœºåˆ¶å’Œä½¿ç”¨æ–¹æ³•ã€‚

## ğŸ¬ æ”¯æŒçš„åŠ¨å›¾æ ¼å¼

### è¾“å…¥æ ¼å¼
- **GIF**: ä¼ ç»ŸåŠ¨ç”»æ ¼å¼ï¼Œå®Œå…¨æ”¯æŒ
- **WebP**: ç°ä»£åŠ¨ç”»æ ¼å¼ï¼Œæ”¯æŒåŠ¨ç”»WebP
- **AVIF**: ç°ä»£åŠ¨ç”»æ ¼å¼ï¼Œæ”¯æŒåŠ¨ç”»AVIF

### è¾“å‡ºæ ¼å¼
- **JXL (JPEG XL)**: ç°ä»£åŠ¨ç”»æ ¼å¼ï¼Œå®Œå…¨æ”¯æŒåŠ¨ç”»
- **AVIF**: ç°ä»£åŠ¨ç”»æ ¼å¼ï¼Œæ”¯æŒåŠ¨ç”»

## ğŸ”§ æŠ€æœ¯å®ç°

### GIFåˆ°JXLåŠ¨ç”»è½¬æ¢

```go
// GIFåŠ¨ç”»æ–‡ä»¶ï¼šJXLæ”¯æŒåŠ¨ç”»ï¼Œä½¿ç”¨cjxlè½¬æ¢
case ".gif":
    args := []string{
        inputPath,
        "-d", "0",                    // æ— æŸå‹ç¼©
        "-e", strconv.Itoa(effort),   // å‹ç¼©åŠªåŠ›çº§åˆ«
        "--num_threads", strconv.Itoa(opts.CJXLThreads), // çº¿ç¨‹æ•°
        "--container=1",              // å¼ºåˆ¶ä½¿ç”¨å®¹å™¨æ ¼å¼ä»¥æ”¯æŒåŠ¨ç”»
        outputPath,
    }
    return "cjxl", args, nil
```

**å…³é”®æŠ€æœ¯ç‚¹**ï¼š
- `--container=1`: å¼ºåˆ¶ä½¿ç”¨JXLå®¹å™¨æ ¼å¼ï¼Œè¿™æ˜¯æ”¯æŒåŠ¨ç”»çš„å…³é”®å‚æ•°
- `-d 0`: æ— æŸå‹ç¼©ï¼Œä¿æŒåŠ¨ç”»è´¨é‡
- å¤šçº¿ç¨‹å¤„ç†ï¼šæ”¯æŒå¹¶è¡Œè½¬æ¢

### åŠ¨ç”»éªŒè¯æœºåˆ¶

ç³»ç»Ÿå®ç°äº†4å±‚åŠ¨ç”»éªŒè¯ï¼š

#### 1. åˆ†è¾¨ç‡æ£€æŸ¥
```go
// æ£€æŸ¥åˆ†è¾¨ç‡ï¼ˆæ— è£åˆ‡ï¼‰
if orig.Width != conv.Width || orig.Height != conv.Height {
    result.Issues = append(result.Issues, "åˆ†è¾¨ç‡ä¸åŒ¹é…")
    result.Passed = false
}
```

#### 2. å¸§æ•°æ£€æŸ¥
```go
// æ£€æŸ¥å¸§æ•°
if orig.FrameCount > 0 && conv.FrameCount > 0 {
    frameDiff := abs(orig.FrameCount - conv.FrameCount)
    if frameDiff > 1 { // å…è®¸1å¸§çš„è¯¯å·®
        result.Issues = append(result.Issues, "å¸§æ•°ä¸åŒ¹é…")
        result.Passed = false
    }
}
```

#### 3. å¸§ç‡æ£€æŸ¥
```go
// æ£€æŸ¥FPS
if orig.FPS > 0 && conv.FPS > 0 {
    fpsDiff := absFloat(orig.FPS - conv.FPS)
    if fpsDiff > orig.FPS*0.05 { // å…è®¸5%çš„FPSè¯¯å·®
        result.Issues = append(result.Issues, "å¸§ç‡ä¸åŒ¹é…")
        result.Passed = false
    }
}
```

#### 4. åŠ¨å›¾ç‰¹æ€§éªŒè¯
```go
// ç¡®è®¤æ˜¯åŠ¨å›¾ï¼ˆæœ‰å¤šå¸§ï¼‰
if conv.FrameCount <= 1 {
    result.Issues = append(result.Issues, "è½¬æ¢åå˜æˆé™å›¾")
    result.Passed = false
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ–‡ä»¶å¤§å°å¤„ç†
```go
case "gif":
    if convExt == ".jxl" {
        minRatio, maxRatio = 0.05, 8.0 // GIFâ†’JXLï¼ŒåŠ¨ç”»æå–ç¬¬ä¸€å¸§å¯èƒ½å·®å¼‚å¤§
    } else {
        minRatio, maxRatio = 0.1, 5.0
    }
```

### å¹¶å‘å¤„ç†
- æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œè½¬æ¢
- æ™ºèƒ½èµ„æºç®¡ç†ï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½
- æ–‡ä»¶æè¿°ç¬¦é™åˆ¶ä¿æŠ¤

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### è½¬æ¢GIFåŠ¨ç”»ä¸ºJXLåŠ¨ç”»

```bash
# è½¬æ¢å•ä¸ªç›®å½•çš„GIFæ–‡ä»¶ä¸ºJXLåŠ¨ç”»
./bin/universal_converter -input /path/to/gifs -type jxl -mode dynamic

# ä½¿ç”¨æ›´å¤šçº¿ç¨‹åŠ é€Ÿå¤„ç†
./bin/universal_converter -input /path/to/gifs -type jxl -mode dynamic -workers 4

# é«˜è´¨é‡è½¬æ¢ï¼ˆæ— æŸï¼‰
./bin/universal_converter -input /path/to/gifs -type jxl -mode dynamic -quality 100
```

### æ‰¹é‡å¤„ç†åŠ¨å›¾

```bash
# å¤„ç†æ•´ä¸ªç›®å½•ï¼Œåªè½¬æ¢åŠ¨å›¾æ–‡ä»¶
./bin/universal_converter -input /path/to/media -type jxl -mode dynamic -workers 2
```

## ğŸ” éªŒè¯å’Œè°ƒè¯•

### æ£€æŸ¥JXLåŠ¨ç”»æ–‡ä»¶

```bash
# æ£€æŸ¥æ–‡ä»¶æ ¼å¼
file animation.jxl
# è¾“å‡º: animation.jxl: JPEG XL container

# ä½¿ç”¨djxléªŒè¯åŠ¨ç”»ä¿¡æ¯
djxl animation.jxl -v /dev/null
# è¾“å‡ºåŒ…å«: Animation: X frames
```

### æ—¥å¿—åˆ†æ

è½¬æ¢è¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¼šæ˜¾ç¤ºï¼š
- åŠ¨ç”»æ–‡ä»¶è¯†åˆ«
- è½¬æ¢è¿›åº¦
- éªŒè¯ç»“æœ
- æ€§èƒ½ç»Ÿè®¡

## âš ï¸ æ³¨æ„äº‹é¡¹

### å…¼å®¹æ€§
- JXLåŠ¨ç”»éœ€è¦æ”¯æŒJPEG XLçš„æŸ¥çœ‹å™¨
- æŸäº›æ—§ç‰ˆæœ¬å·¥å…·å¯èƒ½ä¸æ”¯æŒJXLåŠ¨ç”»
- å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„cjxl/djxlå·¥å…·

### æ€§èƒ½è€ƒè™‘
- å¤§å°ºå¯¸åŠ¨ç”»æ–‡ä»¶è½¬æ¢æ—¶é—´è¾ƒé•¿
- å»ºè®®ä½¿ç”¨SSDå­˜å‚¨æé«˜I/Oæ€§èƒ½
- æ ¹æ®ç³»ç»Ÿé…ç½®è°ƒæ•´çº¿ç¨‹æ•°

### è´¨é‡ä¿è¯
- ä½¿ç”¨æ— æŸå‹ç¼©ä¿æŒåŠ¨ç”»è´¨é‡
- 8å±‚éªŒè¯ç¡®ä¿è½¬æ¢æ­£ç¡®æ€§
- æŠ½æ ·éªŒè¯ç¡®ä¿æ‰¹é‡å¤„ç†è´¨é‡

## ğŸš€ æœ€ä½³å®è·µ

1. **é¢„å¤„ç†æ£€æŸ¥**ï¼šç¡®ä¿æºæ–‡ä»¶å®Œæ•´ä¸”å¯è¯»
2. **èµ„æºç®¡ç†**ï¼šæ ¹æ®ç³»ç»Ÿé…ç½®è°ƒæ•´å¹¶å‘æ•°
3. **è´¨é‡éªŒè¯**ï¼šä½¿ç”¨æŠ½æ ·éªŒè¯ç¡®ä¿è½¬æ¢è´¨é‡
4. **å¤‡ä»½ç­–ç•¥**ï¼šé‡è¦æ–‡ä»¶å»ºè®®å…ˆå¤‡ä»½
5. **æ ¼å¼é€‰æ‹©**ï¼šJXLé€‚åˆé•¿æœŸå­˜å‚¨ï¼ŒAVIFé€‚åˆç½‘ç»œä¼ è¾“

## ğŸ“ˆ æ€§èƒ½åŸºå‡†

åŸºäºæµ‹è¯•æ•°æ®ï¼š
- **å°æ–‡ä»¶** (< 1MB): å¹³å‡å¤„ç†æ—¶é—´ 1-3ç§’
- **ä¸­ç­‰æ–‡ä»¶** (1-10MB): å¹³å‡å¤„ç†æ—¶é—´ 3-10ç§’  
- **å¤§æ–‡ä»¶** (> 10MB): å¹³å‡å¤„ç†æ—¶é—´ 10-60ç§’

å®é™…æ€§èƒ½å–å†³äºï¼š
- æ–‡ä»¶å¤§å°å’Œå¤æ‚åº¦
- ç³»ç»Ÿç¡¬ä»¶é…ç½®
- å¹¶å‘å¤„ç†è®¾ç½®
- å­˜å‚¨è®¾å¤‡æ€§èƒ½

---

**æ›´æ–°æ—¥æœŸ**: 2025-10-24  
**ç‰ˆæœ¬**: v2.2.0  
**ä½œè€…**: AI Assistant
